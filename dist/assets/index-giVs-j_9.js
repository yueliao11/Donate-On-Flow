var DO=Object.defineProperty;var RO=(t,e,n)=>e in t?DO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var X1=(t,e,n)=>RO(t,typeof e!="symbol"?e+"":e,n);function TO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var O5={exports:{}},vp={},D5={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=Symbol.for("react.element"),NO=Symbol.for("react.portal"),PO=Symbol.for("react.fragment"),kO=Symbol.for("react.strict_mode"),IO=Symbol.for("react.profiler"),MO=Symbol.for("react.provider"),BO=Symbol.for("react.context"),FO=Symbol.for("react.forward_ref"),LO=Symbol.for("react.suspense"),UO=Symbol.for("react.memo"),$O=Symbol.for("react.lazy"),Rx=Symbol.iterator;function jO(t){return t===null||typeof t!="object"?null:(t=Rx&&t[Rx]||t["@@iterator"],typeof t=="function"?t:null)}var R5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T5=Object.assign,N5={};function nu(t,e,n){this.props=t,this.context=e,this.refs=N5,this.updater=n||R5}nu.prototype.isReactComponent={};nu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function P5(){}P5.prototype=nu.prototype;function h2(t,e,n){this.props=t,this.context=e,this.refs=N5,this.updater=n||R5}var p2=h2.prototype=new P5;p2.constructor=h2;T5(p2,nu.prototype);p2.isPureReactComponent=!0;var Tx=Array.isArray,k5=Object.prototype.hasOwnProperty,g2={current:null},I5={key:!0,ref:!0,__self:!0,__source:!0};function M5(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)k5.call(e,r)&&!I5.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:hf,type:t,key:o,ref:s,props:i,_owner:g2.current}}function KO(t,e){return{$$typeof:hf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function v2(t){return typeof t=="object"&&t!==null&&t.$$typeof===hf}function WO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nx=/\/+/g;function z1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WO(""+t.key):e.toString(36)}function Wd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case hf:case NO:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+z1(s,0):r,Tx(i)?(n="",t!=null&&(n=t.replace(Nx,"$&/")+"/"),Wd(i,e,n,"",function(c){return c})):i!=null&&(v2(i)&&(i=KO(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Nx,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Tx(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+z1(o,a);s+=Wd(o,e,n,l,i)}else if(l=jO(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+z1(o,a++),s+=Wd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Vf(t,e,n){if(t==null)return t;var r=[],i=0;return Wd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function HO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zr={current:null},Hd={transition:null},XO={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:Hd,ReactCurrentOwner:g2};function B5(){throw Error("act(...) is not supported in production builds of React.")}qt.Children={map:Vf,forEach:function(t,e,n){Vf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vf(t,function(){e++}),e},toArray:function(t){return Vf(t,function(e){return e})||[]},only:function(t){if(!v2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qt.Component=nu;qt.Fragment=PO;qt.Profiler=IO;qt.PureComponent=h2;qt.StrictMode=kO;qt.Suspense=LO;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XO;qt.act=B5;qt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=T5({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=g2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)k5.call(e,l)&&!I5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:hf,type:t.type,key:i,ref:o,props:r,_owner:s}};qt.createContext=function(t){return t={$$typeof:BO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MO,_context:t},t.Consumer=t};qt.createElement=M5;qt.createFactory=function(t){var e=M5.bind(null,t);return e.type=t,e};qt.createRef=function(){return{current:null}};qt.forwardRef=function(t){return{$$typeof:FO,render:t}};qt.isValidElement=v2;qt.lazy=function(t){return{$$typeof:$O,_payload:{_status:-1,_result:t},_init:HO}};qt.memo=function(t,e){return{$$typeof:UO,type:t,compare:e===void 0?null:e}};qt.startTransition=function(t){var e=Hd.transition;Hd.transition={};try{t()}finally{Hd.transition=e}};qt.unstable_act=B5;qt.useCallback=function(t,e){return Zr.current.useCallback(t,e)};qt.useContext=function(t){return Zr.current.useContext(t)};qt.useDebugValue=function(){};qt.useDeferredValue=function(t){return Zr.current.useDeferredValue(t)};qt.useEffect=function(t,e){return Zr.current.useEffect(t,e)};qt.useId=function(){return Zr.current.useId()};qt.useImperativeHandle=function(t,e,n){return Zr.current.useImperativeHandle(t,e,n)};qt.useInsertionEffect=function(t,e){return Zr.current.useInsertionEffect(t,e)};qt.useLayoutEffect=function(t,e){return Zr.current.useLayoutEffect(t,e)};qt.useMemo=function(t,e){return Zr.current.useMemo(t,e)};qt.useReducer=function(t,e,n){return Zr.current.useReducer(t,e,n)};qt.useRef=function(t){return Zr.current.useRef(t)};qt.useState=function(t){return Zr.current.useState(t)};qt.useSyncExternalStore=function(t,e,n){return Zr.current.useSyncExternalStore(t,e,n)};qt.useTransition=function(){return Zr.current.useTransition()};qt.version="18.3.1";D5.exports=qt;var ee=D5.exports;const on=xa(ee),fh=TO({__proto__:null,default:on},[ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zO=ee,qO=Symbol.for("react.element"),VO=Symbol.for("react.fragment"),JO=Object.prototype.hasOwnProperty,GO=zO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QO={key:!0,ref:!0,__self:!0,__source:!0};function F5(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)JO.call(e,r)&&!QO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:qO,type:t,key:o,ref:s,props:i,_owner:GO.current}}vp.Fragment=VO;vp.jsx=F5;vp.jsxs=F5;O5.exports=vp;var oe=O5.exports,L5={exports:{}},Oi={},U5={exports:{}},$5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,I){var j=D.length;D.push(I);e:for(;0<j;){var B=j-1>>>1,C=D[B];if(0<i(C,I))D[B]=I,D[j]=C,j=B;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var I=D[0],j=D.pop();if(j!==I){D[0]=j;e:for(var B=0,C=D.length,H=C>>>1;B<H;){var ae=2*(B+1)-1,U=D[ae],ce=ae+1,te=D[ce];if(0>i(U,j))ce<C&&0>i(te,U)?(D[B]=te,D[ce]=j,B=ce):(D[B]=U,D[ae]=j,B=ae);else if(ce<C&&0>i(te,j))D[B]=te,D[ce]=j,B=ce;else break e}}return I}function i(D,I){var j=D.sortIndex-I.sortIndex;return j!==0?j:D.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,d=3,p=!1,h=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=D)r(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=n(c)}}function E(D){if(m=!1,b(D),!h)if(n(l)!==null)h=!0,_(O);else{var I=n(c);I!==null&&T(E,I.startTime-D)}}function O(D,I){h=!1,m&&(m=!1,x(L),L=-1),p=!0;var j=d;try{for(b(I),f=n(l);f!==null&&(!(f.expirationTime>I)||D&&!F());){var B=f.callback;if(typeof B=="function"){f.callback=null,d=f.priorityLevel;var C=B(f.expirationTime<=I);I=t.unstable_now(),typeof C=="function"?f.callback=C:f===n(l)&&r(l),b(I)}else r(l);f=n(l)}if(f!==null)var H=!0;else{var ae=n(c);ae!==null&&T(E,ae.startTime-I),H=!1}return H}finally{f=null,d=j,p=!1}}var N=!1,R=null,L=-1,W=5,M=-1;function F(){return!(t.unstable_now()-M<W)}function $(){if(R!==null){var D=t.unstable_now();M=D;var I=!0;try{I=R(!0,D)}finally{I?P():(N=!1,R=null)}}else N=!1}var P;if(typeof y=="function")P=function(){y($)};else if(typeof MessageChannel<"u"){var v=new MessageChannel,g=v.port2;v.port1.onmessage=$,P=function(){g.postMessage(null)}}else P=function(){w($,0)};function _(D){R=D,N||(N=!0,P())}function T(D,I){L=w(function(){D(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,_(O))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var j=d;d=I;try{return D()}finally{d=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,I){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var j=d;d=D;try{return I()}finally{d=j}},t.unstable_scheduleCallback=function(D,I,j){var B=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?B+j:B):j=B,D){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=j+C,D={id:u++,callback:I,priorityLevel:D,startTime:j,expirationTime:C,sortIndex:-1},j>B?(D.sortIndex=j,e(c,D),n(l)===null&&D===n(c)&&(m?(x(L),L=-1):m=!0,T(E,j-B))):(D.sortIndex=C,e(l,D),h||p||(h=!0,_(O))),D},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(D){var I=d;return function(){var j=d;d=I;try{return D.apply(this,arguments)}finally{d=j}}}})($5);U5.exports=$5;var YO=U5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZO=ee,Ai=YO;function ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j5=new Set,O0={};function vl(t,e){Bc(t,e),Bc(t+"Capture",e)}function Bc(t,e){for(O0[t]=e,t=0;t<e.length;t++)j5.add(e[t])}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pm=Object.prototype.hasOwnProperty,e7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Px={},kx={};function t7(t){return pm.call(kx,t)?!0:pm.call(Px,t)?!1:e7.test(t)?kx[t]=!0:(Px[t]=!0,!1)}function n7(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function r7(t,e,n,r){if(e===null||typeof e>"u"||n7(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ei(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dr[t]=new ei(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dr[e]=new ei(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dr[t]=new ei(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dr[t]=new ei(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dr[t]=new ei(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dr[t]=new ei(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dr[t]=new ei(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dr[t]=new ei(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dr[t]=new ei(t,5,!1,t.toLowerCase(),null,!1,!1)});var m2=/[\-:]([a-z])/g;function y2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(m2,y2);Dr[e]=new ei(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(m2,y2);Dr[e]=new ei(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(m2,y2);Dr[e]=new ei(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dr[t]=new ei(t,1,!1,t.toLowerCase(),null,!1,!1)});Dr.xlinkHref=new ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dr[t]=new ei(t,1,!1,t.toLowerCase(),null,!0,!0)});function b2(t,e,n,r){var i=Dr.hasOwnProperty(e)?Dr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(r7(e,n,i,r)&&(n=null),r||i===null?t7(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ns=ZO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jf=Symbol.for("react.element"),ic=Symbol.for("react.portal"),oc=Symbol.for("react.fragment"),x2=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),K5=Symbol.for("react.provider"),W5=Symbol.for("react.context"),w2=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),mm=Symbol.for("react.suspense_list"),_2=Symbol.for("react.memo"),zs=Symbol.for("react.lazy"),H5=Symbol.for("react.offscreen"),Ix=Symbol.iterator;function Ou(t){return t===null||typeof t!="object"?null:(t=Ix&&t[Ix]||t["@@iterator"],typeof t=="function"?t:null)}var Un=Object.assign,q1;function Ju(t){if(q1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);q1=e&&e[1]||""}return`
`+q1+t}var V1=!1;function J1(t,e){if(!t||V1)return"";V1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{V1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ju(t):""}function i7(t){switch(t.tag){case 5:return Ju(t.type);case 16:return Ju("Lazy");case 13:return Ju("Suspense");case 19:return Ju("SuspenseList");case 0:case 2:case 15:return t=J1(t.type,!1),t;case 11:return t=J1(t.type.render,!1),t;case 1:return t=J1(t.type,!0),t;default:return""}}function ym(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oc:return"Fragment";case ic:return"Portal";case gm:return"Profiler";case x2:return"StrictMode";case vm:return"Suspense";case mm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W5:return(t.displayName||"Context")+".Consumer";case K5:return(t._context.displayName||"Context")+".Provider";case w2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _2:return e=t.displayName||null,e!==null?e:ym(t.type)||"Memo";case zs:e=t._payload,t=t._init;try{return ym(t(e))}catch{}}return null}function o7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ym(e);case 8:return e===x2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ha(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function X5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function s7(t){var e=X5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gf(t){t._valueTracker||(t._valueTracker=s7(t))}function z5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=X5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bm(t,e){var n=e.checked;return Un({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Mx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ha(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function q5(t,e){e=e.checked,e!=null&&b2(t,"checked",e,!1)}function xm(t,e){q5(t,e);var n=ha(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wm(t,e.type,n):e.hasOwnProperty("defaultValue")&&wm(t,e.type,ha(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wm(t,e,n){(e!=="number"||dh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gu=Array.isArray;function Ec(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ha(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _m(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ke(91));return Un({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ke(92));if(Gu(n)){if(1<n.length)throw Error(ke(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ha(n)}}function V5(t,e){var n=ha(e.value),r=ha(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Lx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function J5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Em(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?J5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qf,G5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qf=Qf||document.createElement("div"),Qf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function D0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var a0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a7=["Webkit","ms","Moz","O"];Object.keys(a0).forEach(function(t){a7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),a0[e]=a0[t]})});function Q5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||a0.hasOwnProperty(t)&&a0[t]?(""+e).trim():e+"px"}function Y5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Q5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var l7=Un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cm(t,e){if(e){if(l7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ke(62))}}function Am(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sm=null;function E2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Om=null,Cc=null,Ac=null;function Ux(t){if(t=vf(t)){if(typeof Om!="function")throw Error(ke(280));var e=t.stateNode;e&&(e=wp(e),Om(t.stateNode,t.type,e))}}function Z5(t){Cc?Ac?Ac.push(t):Ac=[t]:Cc=t}function e_(){if(Cc){var t=Cc,e=Ac;if(Ac=Cc=null,Ux(t),e)for(t=0;t<e.length;t++)Ux(e[t])}}function t_(t,e){return t(e)}function n_(){}var G1=!1;function r_(t,e,n){if(G1)return t(e,n);G1=!0;try{return t_(t,e,n)}finally{G1=!1,(Cc!==null||Ac!==null)&&(n_(),e_())}}function R0(t,e){var n=t.stateNode;if(n===null)return null;var r=wp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ke(231,e,typeof n));return n}var Dm=!1;if(_s)try{var Du={};Object.defineProperty(Du,"passive",{get:function(){Dm=!0}}),window.addEventListener("test",Du,Du),window.removeEventListener("test",Du,Du)}catch{Dm=!1}function c7(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var l0=!1,hh=null,ph=!1,Rm=null,u7={onError:function(t){l0=!0,hh=t}};function f7(t,e,n,r,i,o,s,a,l){l0=!1,hh=null,c7.apply(u7,arguments)}function d7(t,e,n,r,i,o,s,a,l){if(f7.apply(this,arguments),l0){if(l0){var c=hh;l0=!1,hh=null}else throw Error(ke(198));ph||(ph=!0,Rm=c)}}function ml(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function i_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $x(t){if(ml(t)!==t)throw Error(ke(188))}function h7(t){var e=t.alternate;if(!e){if(e=ml(t),e===null)throw Error(ke(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $x(i),t;if(o===r)return $x(i),e;o=o.sibling}throw Error(ke(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ke(189))}}if(n.alternate!==r)throw Error(ke(190))}if(n.tag!==3)throw Error(ke(188));return n.stateNode.current===n?t:e}function o_(t){return t=h7(t),t!==null?s_(t):null}function s_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=s_(t);if(e!==null)return e;t=t.sibling}return null}var a_=Ai.unstable_scheduleCallback,jx=Ai.unstable_cancelCallback,p7=Ai.unstable_shouldYield,g7=Ai.unstable_requestPaint,Vn=Ai.unstable_now,v7=Ai.unstable_getCurrentPriorityLevel,C2=Ai.unstable_ImmediatePriority,l_=Ai.unstable_UserBlockingPriority,gh=Ai.unstable_NormalPriority,m7=Ai.unstable_LowPriority,c_=Ai.unstable_IdlePriority,mp=null,Io=null;function y7(t){if(Io&&typeof Io.onCommitFiberRoot=="function")try{Io.onCommitFiberRoot(mp,t,void 0,(t.current.flags&128)===128)}catch{}}var co=Math.clz32?Math.clz32:w7,b7=Math.log,x7=Math.LN2;function w7(t){return t>>>=0,t===0?32:31-(b7(t)/x7|0)|0}var Yf=64,Zf=4194304;function Qu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Qu(a):(o&=s,o!==0&&(r=Qu(o)))}else s=n&~i,s!==0?r=Qu(s):o!==0&&(r=Qu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-co(e),i=1<<n,r|=t[n],e&=~i;return r}function _7(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E7(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-co(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=_7(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Tm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function u_(){var t=Yf;return Yf<<=1,!(Yf&4194240)&&(Yf=64),t}function Q1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-co(e),t[e]=n}function C7(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-co(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function A2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-co(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var mn=0;function f_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var d_,S2,h_,p_,g_,Nm=!1,ed=[],ra=null,ia=null,oa=null,T0=new Map,N0=new Map,Gs=[],A7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kx(t,e){switch(t){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":T0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":N0.delete(e.pointerId)}}function Ru(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=vf(e),e!==null&&S2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function S7(t,e,n,r,i){switch(e){case"focusin":return ra=Ru(ra,t,e,n,r,i),!0;case"dragenter":return ia=Ru(ia,t,e,n,r,i),!0;case"mouseover":return oa=Ru(oa,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return T0.set(o,Ru(T0.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,N0.set(o,Ru(N0.get(o)||null,t,e,n,r,i)),!0}return!1}function v_(t){var e=Ka(t.target);if(e!==null){var n=ml(e);if(n!==null){if(e=n.tag,e===13){if(e=i_(n),e!==null){t.blockedOn=e,g_(t.priority,function(){h_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sm=r,n.target.dispatchEvent(r),Sm=null}else return e=vf(n),e!==null&&S2(e),t.blockedOn=n,!1;e.shift()}return!0}function Wx(t,e,n){Xd(t)&&n.delete(e)}function O7(){Nm=!1,ra!==null&&Xd(ra)&&(ra=null),ia!==null&&Xd(ia)&&(ia=null),oa!==null&&Xd(oa)&&(oa=null),T0.forEach(Wx),N0.forEach(Wx)}function Tu(t,e){t.blockedOn===e&&(t.blockedOn=null,Nm||(Nm=!0,Ai.unstable_scheduleCallback(Ai.unstable_NormalPriority,O7)))}function P0(t){function e(i){return Tu(i,t)}if(0<ed.length){Tu(ed[0],t);for(var n=1;n<ed.length;n++){var r=ed[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ra!==null&&Tu(ra,t),ia!==null&&Tu(ia,t),oa!==null&&Tu(oa,t),T0.forEach(e),N0.forEach(e),n=0;n<Gs.length;n++)r=Gs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gs.length&&(n=Gs[0],n.blockedOn===null);)v_(n),n.blockedOn===null&&Gs.shift()}var Sc=Ns.ReactCurrentBatchConfig,mh=!0;function D7(t,e,n,r){var i=mn,o=Sc.transition;Sc.transition=null;try{mn=1,O2(t,e,n,r)}finally{mn=i,Sc.transition=o}}function R7(t,e,n,r){var i=mn,o=Sc.transition;Sc.transition=null;try{mn=4,O2(t,e,n,r)}finally{mn=i,Sc.transition=o}}function O2(t,e,n,r){if(mh){var i=Pm(t,e,n,r);if(i===null)ag(t,e,r,yh,n),Kx(t,r);else if(S7(i,t,e,n,r))r.stopPropagation();else if(Kx(t,r),e&4&&-1<A7.indexOf(t)){for(;i!==null;){var o=vf(i);if(o!==null&&d_(o),o=Pm(t,e,n,r),o===null&&ag(t,e,r,yh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ag(t,e,r,null,n)}}var yh=null;function Pm(t,e,n,r){if(yh=null,t=E2(r),t=Ka(t),t!==null)if(e=ml(t),e===null)t=null;else if(n=e.tag,n===13){if(t=i_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yh=t,null}function m_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v7()){case C2:return 1;case l_:return 4;case gh:case m7:return 16;case c_:return 536870912;default:return 16}default:return 16}}var ea=null,D2=null,zd=null;function y_(){if(zd)return zd;var t,e=D2,n=e.length,r,i="value"in ea?ea.value:ea.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return zd=i.slice(t,1<r?1-r:void 0)}function qd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function td(){return!0}function Hx(){return!1}function Di(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?td:Hx,this.isPropagationStopped=Hx,this}return Un(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=td)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=td)},persist:function(){},isPersistent:td}),e}var ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},R2=Di(ru),gf=Un({},ru,{view:0,detail:0}),T7=Di(gf),Y1,Z1,Nu,yp=Un({},gf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nu&&(Nu&&t.type==="mousemove"?(Y1=t.screenX-Nu.screenX,Z1=t.screenY-Nu.screenY):Z1=Y1=0,Nu=t),Y1)},movementY:function(t){return"movementY"in t?t.movementY:Z1}}),Xx=Di(yp),N7=Un({},yp,{dataTransfer:0}),P7=Di(N7),k7=Un({},gf,{relatedTarget:0}),eg=Di(k7),I7=Un({},ru,{animationName:0,elapsedTime:0,pseudoElement:0}),M7=Di(I7),B7=Un({},ru,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),F7=Di(B7),L7=Un({},ru,{data:0}),zx=Di(L7),U7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=j7[t])?!!e[t]:!1}function T2(){return K7}var W7=Un({},gf,{key:function(t){if(t.key){var e=U7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T2,charCode:function(t){return t.type==="keypress"?qd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),H7=Di(W7),X7=Un({},yp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qx=Di(X7),z7=Un({},gf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T2}),q7=Di(z7),V7=Un({},ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),J7=Di(V7),G7=Un({},yp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q7=Di(G7),Y7=[9,13,27,32],N2=_s&&"CompositionEvent"in window,c0=null;_s&&"documentMode"in document&&(c0=document.documentMode);var Z7=_s&&"TextEvent"in window&&!c0,b_=_s&&(!N2||c0&&8<c0&&11>=c0),Vx=" ",Jx=!1;function x_(t,e){switch(t){case"keyup":return Y7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sc=!1;function e9(t,e){switch(t){case"compositionend":return w_(e);case"keypress":return e.which!==32?null:(Jx=!0,Vx);case"textInput":return t=e.data,t===Vx&&Jx?null:t;default:return null}}function t9(t,e){if(sc)return t==="compositionend"||!N2&&x_(t,e)?(t=y_(),zd=D2=ea=null,sc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return b_&&e.locale!=="ko"?null:e.data;default:return null}}var n9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!n9[t.type]:e==="textarea"}function __(t,e,n,r){Z5(r),e=bh(e,"onChange"),0<e.length&&(n=new R2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var u0=null,k0=null;function r9(t){k_(t,0)}function bp(t){var e=cc(t);if(z5(e))return t}function i9(t,e){if(t==="change")return e}var E_=!1;if(_s){var tg;if(_s){var ng="oninput"in document;if(!ng){var Qx=document.createElement("div");Qx.setAttribute("oninput","return;"),ng=typeof Qx.oninput=="function"}tg=ng}else tg=!1;E_=tg&&(!document.documentMode||9<document.documentMode)}function Yx(){u0&&(u0.detachEvent("onpropertychange",C_),k0=u0=null)}function C_(t){if(t.propertyName==="value"&&bp(k0)){var e=[];__(e,k0,t,E2(t)),r_(r9,e)}}function o9(t,e,n){t==="focusin"?(Yx(),u0=e,k0=n,u0.attachEvent("onpropertychange",C_)):t==="focusout"&&Yx()}function s9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bp(k0)}function a9(t,e){if(t==="click")return bp(e)}function l9(t,e){if(t==="input"||t==="change")return bp(e)}function c9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ho=typeof Object.is=="function"?Object.is:c9;function I0(t,e){if(ho(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pm.call(e,i)||!ho(t[i],e[i]))return!1}return!0}function Zx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function e6(t,e){var n=Zx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zx(n)}}function A_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?A_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function S_(){for(var t=window,e=dh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dh(t.document)}return e}function P2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function u9(t){var e=S_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&A_(n.ownerDocument.documentElement,n)){if(r!==null&&P2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=e6(n,o);var s=e6(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var f9=_s&&"documentMode"in document&&11>=document.documentMode,ac=null,km=null,f0=null,Im=!1;function t6(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Im||ac==null||ac!==dh(r)||(r=ac,"selectionStart"in r&&P2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),f0&&I0(f0,r)||(f0=r,r=bh(km,"onSelect"),0<r.length&&(e=new R2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ac)))}function nd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lc={animationend:nd("Animation","AnimationEnd"),animationiteration:nd("Animation","AnimationIteration"),animationstart:nd("Animation","AnimationStart"),transitionend:nd("Transition","TransitionEnd")},rg={},O_={};_s&&(O_=document.createElement("div").style,"AnimationEvent"in window||(delete lc.animationend.animation,delete lc.animationiteration.animation,delete lc.animationstart.animation),"TransitionEvent"in window||delete lc.transitionend.transition);function xp(t){if(rg[t])return rg[t];if(!lc[t])return t;var e=lc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in O_)return rg[t]=e[n];return t}var D_=xp("animationend"),R_=xp("animationiteration"),T_=xp("animationstart"),N_=xp("transitionend"),P_=new Map,n6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(t,e){P_.set(t,e),vl(e,[t])}for(var ig=0;ig<n6.length;ig++){var og=n6[ig],d9=og.toLowerCase(),h9=og[0].toUpperCase()+og.slice(1);wa(d9,"on"+h9)}wa(D_,"onAnimationEnd");wa(R_,"onAnimationIteration");wa(T_,"onAnimationStart");wa("dblclick","onDoubleClick");wa("focusin","onFocus");wa("focusout","onBlur");wa(N_,"onTransitionEnd");Bc("onMouseEnter",["mouseout","mouseover"]);Bc("onMouseLeave",["mouseout","mouseover"]);Bc("onPointerEnter",["pointerout","pointerover"]);Bc("onPointerLeave",["pointerout","pointerover"]);vl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vl("onBeforeInput",["compositionend","keypress","textInput","paste"]);vl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p9=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yu));function r6(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,d7(r,e,void 0,t),t.currentTarget=null}function k_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;r6(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;r6(i,a,c),o=l}}}if(ph)throw t=Rm,ph=!1,Rm=null,t}function Sn(t,e){var n=e[Um];n===void 0&&(n=e[Um]=new Set);var r=t+"__bubble";n.has(r)||(I_(e,t,2,!1),n.add(r))}function sg(t,e,n){var r=0;e&&(r|=4),I_(n,t,r,e)}var rd="_reactListening"+Math.random().toString(36).slice(2);function M0(t){if(!t[rd]){t[rd]=!0,j5.forEach(function(n){n!=="selectionchange"&&(p9.has(n)||sg(n,!1,t),sg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rd]||(e[rd]=!0,sg("selectionchange",!1,e))}}function I_(t,e,n,r){switch(m_(e)){case 1:var i=D7;break;case 4:i=R7;break;default:i=O2}n=i.bind(null,e,n,t),i=void 0,!Dm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ag(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ka(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}r_(function(){var c=o,u=E2(n),f=[];e:{var d=P_.get(t);if(d!==void 0){var p=R2,h=t;switch(t){case"keypress":if(qd(n)===0)break e;case"keydown":case"keyup":p=H7;break;case"focusin":h="focus",p=eg;break;case"focusout":h="blur",p=eg;break;case"beforeblur":case"afterblur":p=eg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Xx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=P7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=q7;break;case D_:case R_:case T_:p=M7;break;case N_:p=J7;break;case"scroll":p=T7;break;case"wheel":p=Q7;break;case"copy":case"cut":case"paste":p=F7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=qx}var m=(e&4)!==0,w=!m&&t==="scroll",x=m?d!==null?d+"Capture":null:d;m=[];for(var y=c,b;y!==null;){b=y;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,x!==null&&(E=R0(y,x),E!=null&&m.push(B0(y,E,b)))),w)break;y=y.return}0<m.length&&(d=new p(d,h,null,n,u),f.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Sm&&(h=n.relatedTarget||n.fromElement)&&(Ka(h)||h[Es]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=c,h=h?Ka(h):null,h!==null&&(w=ml(h),h!==w||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=c),p!==h)){if(m=Xx,E="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=qx,E="onPointerLeave",x="onPointerEnter",y="pointer"),w=p==null?d:cc(p),b=h==null?d:cc(h),d=new m(E,y+"leave",p,n,u),d.target=w,d.relatedTarget=b,E=null,Ka(u)===c&&(m=new m(x,y+"enter",h,n,u),m.target=b,m.relatedTarget=w,E=m),w=E,p&&h)t:{for(m=p,x=h,y=0,b=m;b;b=Pl(b))y++;for(b=0,E=x;E;E=Pl(E))b++;for(;0<y-b;)m=Pl(m),y--;for(;0<b-y;)x=Pl(x),b--;for(;y--;){if(m===x||x!==null&&m===x.alternate)break t;m=Pl(m),x=Pl(x)}m=null}else m=null;p!==null&&i6(f,d,p,m,!1),h!==null&&w!==null&&i6(f,w,h,m,!0)}}e:{if(d=c?cc(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var O=i9;else if(Gx(d))if(E_)O=l9;else{O=s9;var N=o9}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(O=a9);if(O&&(O=O(t,c))){__(f,O,n,u);break e}N&&N(t,d,c),t==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&wm(d,"number",d.value)}switch(N=c?cc(c):window,t){case"focusin":(Gx(N)||N.contentEditable==="true")&&(ac=N,km=c,f0=null);break;case"focusout":f0=km=ac=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,t6(f,n,u);break;case"selectionchange":if(f9)break;case"keydown":case"keyup":t6(f,n,u)}var R;if(N2)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else sc?x_(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(b_&&n.locale!=="ko"&&(sc||L!=="onCompositionStart"?L==="onCompositionEnd"&&sc&&(R=y_()):(ea=u,D2="value"in ea?ea.value:ea.textContent,sc=!0)),N=bh(c,L),0<N.length&&(L=new zx(L,t,null,n,u),f.push({event:L,listeners:N}),R?L.data=R:(R=w_(n),R!==null&&(L.data=R)))),(R=Z7?e9(t,n):t9(t,n))&&(c=bh(c,"onBeforeInput"),0<c.length&&(u=new zx("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=R))}k_(f,e)})}function B0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=R0(t,n),o!=null&&r.unshift(B0(t,o,i)),o=R0(t,e),o!=null&&r.push(B0(t,o,i))),t=t.return}return r}function Pl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function i6(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=R0(n,o),l!=null&&s.unshift(B0(n,l,a))):i||(l=R0(n,o),l!=null&&s.push(B0(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var g9=/\r\n?/g,v9=/\u0000|\uFFFD/g;function o6(t){return(typeof t=="string"?t:""+t).replace(g9,`
`).replace(v9,"")}function id(t,e,n){if(e=o6(e),o6(t)!==e&&n)throw Error(ke(425))}function xh(){}var Mm=null,Bm=null;function Fm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lm=typeof setTimeout=="function"?setTimeout:void 0,m9=typeof clearTimeout=="function"?clearTimeout:void 0,s6=typeof Promise=="function"?Promise:void 0,y9=typeof queueMicrotask=="function"?queueMicrotask:typeof s6<"u"?function(t){return s6.resolve(null).then(t).catch(b9)}:Lm;function b9(t){setTimeout(function(){throw t})}function lg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),P0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);P0(e)}function sa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function a6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var iu=Math.random().toString(36).slice(2),Ro="__reactFiber$"+iu,F0="__reactProps$"+iu,Es="__reactContainer$"+iu,Um="__reactEvents$"+iu,x9="__reactListeners$"+iu,w9="__reactHandles$"+iu;function Ka(t){var e=t[Ro];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Es]||n[Ro]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=a6(t);t!==null;){if(n=t[Ro])return n;t=a6(t)}return e}t=n,n=t.parentNode}return null}function vf(t){return t=t[Ro]||t[Es],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ke(33))}function wp(t){return t[F0]||null}var $m=[],uc=-1;function _a(t){return{current:t}}function Dn(t){0>uc||(t.current=$m[uc],$m[uc]=null,uc--)}function An(t,e){uc++,$m[uc]=t.current,t.current=e}var pa={},Hr=_a(pa),fi=_a(!1),nl=pa;function Fc(t,e){var n=t.type.contextTypes;if(!n)return pa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function di(t){return t=t.childContextTypes,t!=null}function wh(){Dn(fi),Dn(Hr)}function l6(t,e,n){if(Hr.current!==pa)throw Error(ke(168));An(Hr,e),An(fi,n)}function M_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ke(108,o7(t)||"Unknown",i));return Un({},n,r)}function _h(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pa,nl=Hr.current,An(Hr,t),An(fi,fi.current),!0}function c6(t,e,n){var r=t.stateNode;if(!r)throw Error(ke(169));n?(t=M_(t,e,nl),r.__reactInternalMemoizedMergedChildContext=t,Dn(fi),Dn(Hr),An(Hr,t)):Dn(fi),An(fi,n)}var as=null,_p=!1,cg=!1;function B_(t){as===null?as=[t]:as.push(t)}function _9(t){_p=!0,B_(t)}function Ea(){if(!cg&&as!==null){cg=!0;var t=0,e=mn;try{var n=as;for(mn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}as=null,_p=!1}catch(i){throw as!==null&&(as=as.slice(t+1)),a_(C2,Ea),i}finally{mn=e,cg=!1}}return null}var fc=[],dc=0,Eh=null,Ch=0,Ii=[],Mi=0,rl=null,ps=1,gs="";function Fa(t,e){fc[dc++]=Ch,fc[dc++]=Eh,Eh=t,Ch=e}function F_(t,e,n){Ii[Mi++]=ps,Ii[Mi++]=gs,Ii[Mi++]=rl,rl=t;var r=ps;t=gs;var i=32-co(r)-1;r&=~(1<<i),n+=1;var o=32-co(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ps=1<<32-co(e)+i|n<<i|r,gs=o+t}else ps=1<<o|n<<i|r,gs=t}function k2(t){t.return!==null&&(Fa(t,1),F_(t,1,0))}function I2(t){for(;t===Eh;)Eh=fc[--dc],fc[dc]=null,Ch=fc[--dc],fc[dc]=null;for(;t===rl;)rl=Ii[--Mi],Ii[Mi]=null,gs=Ii[--Mi],Ii[Mi]=null,ps=Ii[--Mi],Ii[Mi]=null}var Ei=null,wi=null,Tn=!1,ao=null;function L_(t,e){var n=Fi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function u6(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ei=t,wi=sa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ei=t,wi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rl!==null?{id:ps,overflow:gs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ei=t,wi=null,!0):!1;default:return!1}}function jm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Km(t){if(Tn){var e=wi;if(e){var n=e;if(!u6(t,e)){if(jm(t))throw Error(ke(418));e=sa(n.nextSibling);var r=Ei;e&&u6(t,e)?L_(r,n):(t.flags=t.flags&-4097|2,Tn=!1,Ei=t)}}else{if(jm(t))throw Error(ke(418));t.flags=t.flags&-4097|2,Tn=!1,Ei=t}}}function f6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ei=t}function od(t){if(t!==Ei)return!1;if(!Tn)return f6(t),Tn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fm(t.type,t.memoizedProps)),e&&(e=wi)){if(jm(t))throw U_(),Error(ke(418));for(;e;)L_(t,e),e=sa(e.nextSibling)}if(f6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wi=sa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wi=null}}else wi=Ei?sa(t.stateNode.nextSibling):null;return!0}function U_(){for(var t=wi;t;)t=sa(t.nextSibling)}function Lc(){wi=Ei=null,Tn=!1}function M2(t){ao===null?ao=[t]:ao.push(t)}var E9=Ns.ReactCurrentBatchConfig;function Pu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ke(309));var r=n.stateNode}if(!r)throw Error(ke(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ke(284));if(!n._owner)throw Error(ke(290,t))}return t}function sd(t,e){throw t=Object.prototype.toString.call(e),Error(ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function d6(t){var e=t._init;return e(t._payload)}function $_(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=ua(x,y),x.index=0,x.sibling=null,x}function o(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,b,E){return y===null||y.tag!==6?(y=vg(b,x.mode,E),y.return=x,y):(y=i(y,b),y.return=x,y)}function l(x,y,b,E){var O=b.type;return O===oc?u(x,y,b.props.children,E,b.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===zs&&d6(O)===y.type)?(E=i(y,b.props),E.ref=Pu(x,y,b),E.return=x,E):(E=eh(b.type,b.key,b.props,null,x.mode,E),E.ref=Pu(x,y,b),E.return=x,E)}function c(x,y,b,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=mg(b,x.mode,E),y.return=x,y):(y=i(y,b.children||[]),y.return=x,y)}function u(x,y,b,E,O){return y===null||y.tag!==7?(y=Za(b,x.mode,E,O),y.return=x,y):(y=i(y,b),y.return=x,y)}function f(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=vg(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Jf:return b=eh(y.type,y.key,y.props,null,x.mode,b),b.ref=Pu(x,null,y),b.return=x,b;case ic:return y=mg(y,x.mode,b),y.return=x,y;case zs:var E=y._init;return f(x,E(y._payload),b)}if(Gu(y)||Ou(y))return y=Za(y,x.mode,b,null),y.return=x,y;sd(x,y)}return null}function d(x,y,b,E){var O=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return O!==null?null:a(x,y,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jf:return b.key===O?l(x,y,b,E):null;case ic:return b.key===O?c(x,y,b,E):null;case zs:return O=b._init,d(x,y,O(b._payload),E)}if(Gu(b)||Ou(b))return O!==null?null:u(x,y,b,E,null);sd(x,b)}return null}function p(x,y,b,E,O){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(b)||null,a(y,x,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Jf:return x=x.get(E.key===null?b:E.key)||null,l(y,x,E,O);case ic:return x=x.get(E.key===null?b:E.key)||null,c(y,x,E,O);case zs:var N=E._init;return p(x,y,b,N(E._payload),O)}if(Gu(E)||Ou(E))return x=x.get(b)||null,u(y,x,E,O,null);sd(y,E)}return null}function h(x,y,b,E){for(var O=null,N=null,R=y,L=y=0,W=null;R!==null&&L<b.length;L++){R.index>L?(W=R,R=null):W=R.sibling;var M=d(x,R,b[L],E);if(M===null){R===null&&(R=W);break}t&&R&&M.alternate===null&&e(x,R),y=o(M,y,L),N===null?O=M:N.sibling=M,N=M,R=W}if(L===b.length)return n(x,R),Tn&&Fa(x,L),O;if(R===null){for(;L<b.length;L++)R=f(x,b[L],E),R!==null&&(y=o(R,y,L),N===null?O=R:N.sibling=R,N=R);return Tn&&Fa(x,L),O}for(R=r(x,R);L<b.length;L++)W=p(R,x,L,b[L],E),W!==null&&(t&&W.alternate!==null&&R.delete(W.key===null?L:W.key),y=o(W,y,L),N===null?O=W:N.sibling=W,N=W);return t&&R.forEach(function(F){return e(x,F)}),Tn&&Fa(x,L),O}function m(x,y,b,E){var O=Ou(b);if(typeof O!="function")throw Error(ke(150));if(b=O.call(b),b==null)throw Error(ke(151));for(var N=O=null,R=y,L=y=0,W=null,M=b.next();R!==null&&!M.done;L++,M=b.next()){R.index>L?(W=R,R=null):W=R.sibling;var F=d(x,R,M.value,E);if(F===null){R===null&&(R=W);break}t&&R&&F.alternate===null&&e(x,R),y=o(F,y,L),N===null?O=F:N.sibling=F,N=F,R=W}if(M.done)return n(x,R),Tn&&Fa(x,L),O;if(R===null){for(;!M.done;L++,M=b.next())M=f(x,M.value,E),M!==null&&(y=o(M,y,L),N===null?O=M:N.sibling=M,N=M);return Tn&&Fa(x,L),O}for(R=r(x,R);!M.done;L++,M=b.next())M=p(R,x,L,M.value,E),M!==null&&(t&&M.alternate!==null&&R.delete(M.key===null?L:M.key),y=o(M,y,L),N===null?O=M:N.sibling=M,N=M);return t&&R.forEach(function($){return e(x,$)}),Tn&&Fa(x,L),O}function w(x,y,b,E){if(typeof b=="object"&&b!==null&&b.type===oc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Jf:e:{for(var O=b.key,N=y;N!==null;){if(N.key===O){if(O=b.type,O===oc){if(N.tag===7){n(x,N.sibling),y=i(N,b.props.children),y.return=x,x=y;break e}}else if(N.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===zs&&d6(O)===N.type){n(x,N.sibling),y=i(N,b.props),y.ref=Pu(x,N,b),y.return=x,x=y;break e}n(x,N);break}else e(x,N);N=N.sibling}b.type===oc?(y=Za(b.props.children,x.mode,E,b.key),y.return=x,x=y):(E=eh(b.type,b.key,b.props,null,x.mode,E),E.ref=Pu(x,y,b),E.return=x,x=E)}return s(x);case ic:e:{for(N=b.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(x,y.sibling),y=i(y,b.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=mg(b,x.mode,E),y.return=x,x=y}return s(x);case zs:return N=b._init,w(x,y,N(b._payload),E)}if(Gu(b))return h(x,y,b,E);if(Ou(b))return m(x,y,b,E);sd(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(x,y.sibling),y=i(y,b),y.return=x,x=y):(n(x,y),y=vg(b,x.mode,E),y.return=x,x=y),s(x)):n(x,y)}return w}var Uc=$_(!0),j_=$_(!1),Ah=_a(null),Sh=null,hc=null,B2=null;function F2(){B2=hc=Sh=null}function L2(t){var e=Ah.current;Dn(Ah),t._currentValue=e}function Wm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oc(t,e){Sh=t,B2=hc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ci=!0),t.firstContext=null)}function Ui(t){var e=t._currentValue;if(B2!==t)if(t={context:t,memoizedValue:e,next:null},hc===null){if(Sh===null)throw Error(ke(308));hc=t,Sh.dependencies={lanes:0,firstContext:t}}else hc=hc.next=t;return e}var Wa=null;function U2(t){Wa===null?Wa=[t]:Wa.push(t)}function K_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,U2(e)):(n.next=i.next,i.next=n),e.interleaved=n,Cs(t,r)}function Cs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qs=!1;function $2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ms(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function aa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,cn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Cs(t,n)}return i=r.interleaved,i===null?(e.next=e,U2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Cs(t,n)}function Vd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A2(t,n)}}function h6(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Oh(t,e,n,r){var i=t.updateQueue;qs=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=t,m=a;switch(d=e,p=n,m.tag){case 1:if(h=m.payload,typeof h=="function"){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,d=typeof h=="function"?h.call(p,f,d):h,d==null)break e;f=Un({},f,d);break e;case 2:qs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ol|=s,t.lanes=s,t.memoizedState=f}}function p6(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ke(191,i));i.call(r)}}}var mf={},Mo=_a(mf),L0=_a(mf),U0=_a(mf);function Ha(t){if(t===mf)throw Error(ke(174));return t}function j2(t,e){switch(An(U0,e),An(L0,t),An(Mo,mf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Em(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Em(e,t)}Dn(Mo),An(Mo,e)}function $c(){Dn(Mo),Dn(L0),Dn(U0)}function H_(t){Ha(U0.current);var e=Ha(Mo.current),n=Em(e,t.type);e!==n&&(An(L0,t),An(Mo,n))}function K2(t){L0.current===t&&(Dn(Mo),Dn(L0))}var Fn=_a(0);function Dh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ug=[];function W2(){for(var t=0;t<ug.length;t++)ug[t]._workInProgressVersionPrimary=null;ug.length=0}var Jd=Ns.ReactCurrentDispatcher,fg=Ns.ReactCurrentBatchConfig,il=0,Ln=null,sr=null,vr=null,Rh=!1,d0=!1,$0=0,C9=0;function Ir(){throw Error(ke(321))}function H2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ho(t[n],e[n]))return!1;return!0}function X2(t,e,n,r,i,o){if(il=o,Ln=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jd.current=t===null||t.memoizedState===null?D9:R9,t=n(r,i),d0){o=0;do{if(d0=!1,$0=0,25<=o)throw Error(ke(301));o+=1,vr=sr=null,e.updateQueue=null,Jd.current=T9,t=n(r,i)}while(d0)}if(Jd.current=Th,e=sr!==null&&sr.next!==null,il=0,vr=sr=Ln=null,Rh=!1,e)throw Error(ke(300));return t}function z2(){var t=$0!==0;return $0=0,t}function Ao(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Ln.memoizedState=vr=t:vr=vr.next=t,vr}function $i(){if(sr===null){var t=Ln.alternate;t=t!==null?t.memoizedState:null}else t=sr.next;var e=vr===null?Ln.memoizedState:vr.next;if(e!==null)vr=e,sr=t;else{if(t===null)throw Error(ke(310));sr=t,t={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},vr===null?Ln.memoizedState=vr=t:vr=vr.next=t}return vr}function j0(t,e){return typeof e=="function"?e(t):e}function dg(t){var e=$i(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var r=sr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((il&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Ln.lanes|=u,ol|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,ho(r,e.memoizedState)||(ci=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ln.lanes|=o,ol|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hg(t){var e=$i(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ho(o,e.memoizedState)||(ci=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function X_(){}function z_(t,e){var n=Ln,r=$i(),i=e(),o=!ho(r.memoizedState,i);if(o&&(r.memoizedState=i,ci=!0),r=r.queue,q2(J_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||vr!==null&&vr.memoizedState.tag&1){if(n.flags|=2048,K0(9,V_.bind(null,n,r,i,e),void 0,null),yr===null)throw Error(ke(349));il&30||q_(n,e,i)}return i}function q_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ln.updateQueue,e===null?(e={lastEffect:null,stores:null},Ln.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function V_(t,e,n,r){e.value=n,e.getSnapshot=r,G_(e)&&Q_(t)}function J_(t,e,n){return n(function(){G_(e)&&Q_(t)})}function G_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ho(t,n)}catch{return!0}}function Q_(t){var e=Cs(t,1);e!==null&&uo(e,t,1,-1)}function g6(t){var e=Ao();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:j0,lastRenderedState:t},e.queue=t,t=t.dispatch=O9.bind(null,Ln,t),[e.memoizedState,t]}function K0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ln.updateQueue,e===null?(e={lastEffect:null,stores:null},Ln.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Y_(){return $i().memoizedState}function Gd(t,e,n,r){var i=Ao();Ln.flags|=t,i.memoizedState=K0(1|e,n,void 0,r===void 0?null:r)}function Ep(t,e,n,r){var i=$i();r=r===void 0?null:r;var o=void 0;if(sr!==null){var s=sr.memoizedState;if(o=s.destroy,r!==null&&H2(r,s.deps)){i.memoizedState=K0(e,n,o,r);return}}Ln.flags|=t,i.memoizedState=K0(1|e,n,o,r)}function v6(t,e){return Gd(8390656,8,t,e)}function q2(t,e){return Ep(2048,8,t,e)}function Z_(t,e){return Ep(4,2,t,e)}function eE(t,e){return Ep(4,4,t,e)}function tE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nE(t,e,n){return n=n!=null?n.concat([t]):null,Ep(4,4,tE.bind(null,e,t),n)}function V2(){}function rE(t,e){var n=$i();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&H2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iE(t,e){var n=$i();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&H2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oE(t,e,n){return il&21?(ho(n,e)||(n=u_(),Ln.lanes|=n,ol|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ci=!0),t.memoizedState=n)}function A9(t,e){var n=mn;mn=n!==0&&4>n?n:4,t(!0);var r=fg.transition;fg.transition={};try{t(!1),e()}finally{mn=n,fg.transition=r}}function sE(){return $i().memoizedState}function S9(t,e,n){var r=ca(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aE(t))lE(e,n);else if(n=K_(t,e,n,r),n!==null){var i=Qr();uo(n,t,r,i),cE(n,e,r)}}function O9(t,e,n){var r=ca(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aE(t))lE(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ho(a,s)){var l=e.interleaved;l===null?(i.next=i,U2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=K_(t,e,i,r),n!==null&&(i=Qr(),uo(n,t,r,i),cE(n,e,r))}}function aE(t){var e=t.alternate;return t===Ln||e!==null&&e===Ln}function lE(t,e){d0=Rh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A2(t,n)}}var Th={readContext:Ui,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useInsertionEffect:Ir,useLayoutEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useMutableSource:Ir,useSyncExternalStore:Ir,useId:Ir,unstable_isNewReconciler:!1},D9={readContext:Ui,useCallback:function(t,e){return Ao().memoizedState=[t,e===void 0?null:e],t},useContext:Ui,useEffect:v6,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gd(4194308,4,tE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gd(4,2,t,e)},useMemo:function(t,e){var n=Ao();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ao();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=S9.bind(null,Ln,t),[r.memoizedState,t]},useRef:function(t){var e=Ao();return t={current:t},e.memoizedState=t},useState:g6,useDebugValue:V2,useDeferredValue:function(t){return Ao().memoizedState=t},useTransition:function(){var t=g6(!1),e=t[0];return t=A9.bind(null,t[1]),Ao().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ln,i=Ao();if(Tn){if(n===void 0)throw Error(ke(407));n=n()}else{if(n=e(),yr===null)throw Error(ke(349));il&30||q_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,v6(J_.bind(null,r,o,t),[t]),r.flags|=2048,K0(9,V_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ao(),e=yr.identifierPrefix;if(Tn){var n=gs,r=ps;n=(r&~(1<<32-co(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=C9++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R9={readContext:Ui,useCallback:rE,useContext:Ui,useEffect:q2,useImperativeHandle:nE,useInsertionEffect:Z_,useLayoutEffect:eE,useMemo:iE,useReducer:dg,useRef:Y_,useState:function(){return dg(j0)},useDebugValue:V2,useDeferredValue:function(t){var e=$i();return oE(e,sr.memoizedState,t)},useTransition:function(){var t=dg(j0)[0],e=$i().memoizedState;return[t,e]},useMutableSource:X_,useSyncExternalStore:z_,useId:sE,unstable_isNewReconciler:!1},T9={readContext:Ui,useCallback:rE,useContext:Ui,useEffect:q2,useImperativeHandle:nE,useInsertionEffect:Z_,useLayoutEffect:eE,useMemo:iE,useReducer:hg,useRef:Y_,useState:function(){return hg(j0)},useDebugValue:V2,useDeferredValue:function(t){var e=$i();return sr===null?e.memoizedState=t:oE(e,sr.memoizedState,t)},useTransition:function(){var t=hg(j0)[0],e=$i().memoizedState;return[t,e]},useMutableSource:X_,useSyncExternalStore:z_,useId:sE,unstable_isNewReconciler:!1};function ro(t,e){if(t&&t.defaultProps){e=Un({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Un({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cp={isMounted:function(t){return(t=t._reactInternals)?ml(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qr(),i=ca(t),o=ms(r,i);o.payload=e,n!=null&&(o.callback=n),e=aa(t,o,i),e!==null&&(uo(e,t,i,r),Vd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qr(),i=ca(t),o=ms(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=aa(t,o,i),e!==null&&(uo(e,t,i,r),Vd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qr(),r=ca(t),i=ms(n,r);i.tag=2,e!=null&&(i.callback=e),e=aa(t,i,r),e!==null&&(uo(e,t,r,n),Vd(e,t,r))}};function m6(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!I0(n,r)||!I0(i,o):!0}function uE(t,e,n){var r=!1,i=pa,o=e.contextType;return typeof o=="object"&&o!==null?o=Ui(o):(i=di(e)?nl:Hr.current,r=e.contextTypes,o=(r=r!=null)?Fc(t,i):pa),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function y6(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cp.enqueueReplaceState(e,e.state,null)}function Xm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},$2(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ui(o):(o=di(e)?nl:Hr.current,i.context=Fc(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Hm(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cp.enqueueReplaceState(i,i.state,null),Oh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function jc(t,e){try{var n="",r=e;do n+=i7(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function pg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var N9=typeof WeakMap=="function"?WeakMap:Map;function fE(t,e,n){n=ms(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ph||(Ph=!0,ny=r),zm(t,e)},n}function dE(t,e,n){n=ms(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){zm(t,e),typeof r!="function"&&(la===null?la=new Set([this]):la.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function b6(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new N9;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=X9.bind(null,t,e,n),e.then(t,t))}function x6(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function w6(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ms(-1,1),e.tag=2,aa(n,e,1))),n.lanes|=1),t)}var P9=Ns.ReactCurrentOwner,ci=!1;function qr(t,e,n,r){e.child=t===null?j_(e,null,n,r):Uc(e,t.child,n,r)}function _6(t,e,n,r,i){n=n.render;var o=e.ref;return Oc(e,i),r=X2(t,e,n,r,o,i),n=z2(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,As(t,e,i)):(Tn&&n&&k2(e),e.flags|=1,qr(t,e,r,i),e.child)}function E6(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!nb(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,hE(t,e,o,r,i)):(t=eh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:I0,n(s,r)&&t.ref===e.ref)return As(t,e,i)}return e.flags|=1,t=ua(o,r),t.ref=e.ref,t.return=e,e.child=t}function hE(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(I0(o,r)&&t.ref===e.ref)if(ci=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(ci=!0);else return e.lanes=t.lanes,As(t,e,i)}return qm(t,e,n,r,i)}function pE(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},An(gc,yi),yi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,An(gc,yi),yi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,An(gc,yi),yi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,An(gc,yi),yi|=r;return qr(t,e,i,n),e.child}function gE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qm(t,e,n,r,i){var o=di(n)?nl:Hr.current;return o=Fc(e,o),Oc(e,i),n=X2(t,e,n,r,o,i),r=z2(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,As(t,e,i)):(Tn&&r&&k2(e),e.flags|=1,qr(t,e,n,i),e.child)}function C6(t,e,n,r,i){if(di(n)){var o=!0;_h(e)}else o=!1;if(Oc(e,i),e.stateNode===null)Qd(t,e),uE(e,n,r),Xm(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ui(c):(c=di(n)?nl:Hr.current,c=Fc(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&y6(e,s,r,c),qs=!1;var d=e.memoizedState;s.state=d,Oh(e,r,s,i),l=e.memoizedState,a!==r||d!==l||fi.current||qs?(typeof u=="function"&&(Hm(e,n,u,r),l=e.memoizedState),(a=qs||m6(e,n,a,r,d,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,W_(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ro(e.type,a),s.props=c,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ui(l):(l=di(n)?nl:Hr.current,l=Fc(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&y6(e,s,r,l),qs=!1,d=e.memoizedState,s.state=d,Oh(e,r,s,i);var h=e.memoizedState;a!==f||d!==h||fi.current||qs?(typeof p=="function"&&(Hm(e,n,p,r),h=e.memoizedState),(c=qs||m6(e,n,c,r,d,h,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,h,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,h,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),s.props=r,s.state=h,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Vm(t,e,n,r,o,i)}function Vm(t,e,n,r,i,o){gE(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&c6(e,n,!1),As(t,e,o);r=e.stateNode,P9.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Uc(e,t.child,null,o),e.child=Uc(e,null,a,o)):qr(t,e,a,o),e.memoizedState=r.state,i&&c6(e,n,!0),e.child}function vE(t){var e=t.stateNode;e.pendingContext?l6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&l6(t,e.context,!1),j2(t,e.containerInfo)}function A6(t,e,n,r,i){return Lc(),M2(i),e.flags|=256,qr(t,e,n,r),e.child}var Jm={dehydrated:null,treeContext:null,retryLane:0};function Gm(t){return{baseLanes:t,cachePool:null,transitions:null}}function mE(t,e,n){var r=e.pendingProps,i=Fn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),An(Fn,i&1),t===null)return Km(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Op(s,r,0,null),t=Za(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Gm(n),e.memoizedState=Jm,t):J2(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return k9(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ua(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ua(a,o):(o=Za(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Gm(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Jm,r}return o=t.child,t=o.sibling,r=ua(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function J2(t,e){return e=Op({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ad(t,e,n,r){return r!==null&&M2(r),Uc(e,t.child,null,n),t=J2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function k9(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=pg(Error(ke(422))),ad(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Op({mode:"visible",children:r.children},i,0,null),o=Za(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Uc(e,t.child,null,s),e.child.memoizedState=Gm(s),e.memoizedState=Jm,o);if(!(e.mode&1))return ad(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ke(419)),r=pg(o,r,void 0),ad(t,e,s,r)}if(a=(s&t.childLanes)!==0,ci||a){if(r=yr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Cs(t,i),uo(r,t,i,-1))}return tb(),r=pg(Error(ke(421))),ad(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=z9.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,wi=sa(i.nextSibling),Ei=e,Tn=!0,ao=null,t!==null&&(Ii[Mi++]=ps,Ii[Mi++]=gs,Ii[Mi++]=rl,ps=t.id,gs=t.overflow,rl=e),e=J2(e,r.children),e.flags|=4096,e)}function S6(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wm(t.return,e,n)}function gg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function yE(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(qr(t,e,r.children,n),r=Fn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&S6(t,n,e);else if(t.tag===19)S6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(An(Fn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gg(e,!0,n,null,o);break;case"together":gg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function As(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ol|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ke(153));if(e.child!==null){for(t=e.child,n=ua(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ua(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function I9(t,e,n){switch(e.tag){case 3:vE(e),Lc();break;case 5:H_(e);break;case 1:di(e.type)&&_h(e);break;case 4:j2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;An(Ah,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(An(Fn,Fn.current&1),e.flags|=128,null):n&e.child.childLanes?mE(t,e,n):(An(Fn,Fn.current&1),t=As(t,e,n),t!==null?t.sibling:null);An(Fn,Fn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),An(Fn,Fn.current),r)break;return null;case 22:case 23:return e.lanes=0,pE(t,e,n)}return As(t,e,n)}var bE,Qm,xE,wE;bE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qm=function(){};xE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ha(Mo.current);var o=null;switch(n){case"input":i=bm(t,i),r=bm(t,r),o=[];break;case"select":i=Un({},i,{value:void 0}),r=Un({},r,{value:void 0}),o=[];break;case"textarea":i=_m(t,i),r=_m(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xh)}Cm(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(O0.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(O0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Sn("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};wE=function(t,e,n,r){n!==r&&(e.flags|=4)};function ku(t,e){if(!Tn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function M9(t,e,n){var r=e.pendingProps;switch(I2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(e),null;case 1:return di(e.type)&&wh(),Mr(e),null;case 3:return r=e.stateNode,$c(),Dn(fi),Dn(Hr),W2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(od(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ao!==null&&(oy(ao),ao=null))),Qm(t,e),Mr(e),null;case 5:K2(e);var i=Ha(U0.current);if(n=e.type,t!==null&&e.stateNode!=null)xE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ke(166));return Mr(e),null}if(t=Ha(Mo.current),od(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ro]=e,r[F0]=o,t=(e.mode&1)!==0,n){case"dialog":Sn("cancel",r),Sn("close",r);break;case"iframe":case"object":case"embed":Sn("load",r);break;case"video":case"audio":for(i=0;i<Yu.length;i++)Sn(Yu[i],r);break;case"source":Sn("error",r);break;case"img":case"image":case"link":Sn("error",r),Sn("load",r);break;case"details":Sn("toggle",r);break;case"input":Mx(r,o),Sn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Sn("invalid",r);break;case"textarea":Fx(r,o),Sn("invalid",r)}Cm(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&id(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&id(r.textContent,a,t),i=["children",""+a]):O0.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Sn("scroll",r)}switch(n){case"input":Gf(r),Bx(r,o,!0);break;case"textarea":Gf(r),Lx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=xh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=J5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ro]=e,t[F0]=r,bE(t,e,!1,!1),e.stateNode=t;e:{switch(s=Am(n,r),n){case"dialog":Sn("cancel",t),Sn("close",t),i=r;break;case"iframe":case"object":case"embed":Sn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yu.length;i++)Sn(Yu[i],t);i=r;break;case"source":Sn("error",t),i=r;break;case"img":case"image":case"link":Sn("error",t),Sn("load",t),i=r;break;case"details":Sn("toggle",t),i=r;break;case"input":Mx(t,r),i=bm(t,r),Sn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Un({},r,{value:void 0}),Sn("invalid",t);break;case"textarea":Fx(t,r),i=_m(t,r),Sn("invalid",t);break;default:i=r}Cm(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Y5(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&G5(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&D0(t,l):typeof l=="number"&&D0(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(O0.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Sn("scroll",t):l!=null&&b2(t,o,l,s))}switch(n){case"input":Gf(t),Bx(t,r,!1);break;case"textarea":Gf(t),Lx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ha(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ec(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ec(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mr(e),null;case 6:if(t&&e.stateNode!=null)wE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ke(166));if(n=Ha(U0.current),Ha(Mo.current),od(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ro]=e,(o=r.nodeValue!==n)&&(t=Ei,t!==null))switch(t.tag){case 3:id(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&id(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ro]=e,e.stateNode=r}return Mr(e),null;case 13:if(Dn(Fn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Tn&&wi!==null&&e.mode&1&&!(e.flags&128))U_(),Lc(),e.flags|=98560,o=!1;else if(o=od(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ke(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ke(317));o[Ro]=e}else Lc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mr(e),o=!1}else ao!==null&&(oy(ao),ao=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fn.current&1?ur===0&&(ur=3):tb())),e.updateQueue!==null&&(e.flags|=4),Mr(e),null);case 4:return $c(),Qm(t,e),t===null&&M0(e.stateNode.containerInfo),Mr(e),null;case 10:return L2(e.type._context),Mr(e),null;case 17:return di(e.type)&&wh(),Mr(e),null;case 19:if(Dn(Fn),o=e.memoizedState,o===null)return Mr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ku(o,!1);else{if(ur!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Dh(t),s!==null){for(e.flags|=128,ku(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return An(Fn,Fn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Vn()>Kc&&(e.flags|=128,r=!0,ku(o,!1),e.lanes=4194304)}else{if(!r)if(t=Dh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ku(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Tn)return Mr(e),null}else 2*Vn()-o.renderingStartTime>Kc&&n!==1073741824&&(e.flags|=128,r=!0,ku(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Vn(),e.sibling=null,n=Fn.current,An(Fn,r?n&1|2:n&1),e):(Mr(e),null);case 22:case 23:return eb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yi&1073741824&&(Mr(e),e.subtreeFlags&6&&(e.flags|=8192)):Mr(e),null;case 24:return null;case 25:return null}throw Error(ke(156,e.tag))}function B9(t,e){switch(I2(e),e.tag){case 1:return di(e.type)&&wh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $c(),Dn(fi),Dn(Hr),W2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return K2(e),null;case 13:if(Dn(Fn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ke(340));Lc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dn(Fn),null;case 4:return $c(),null;case 10:return L2(e.type._context),null;case 22:case 23:return eb(),null;case 24:return null;default:return null}}var ld=!1,Lr=!1,F9=typeof WeakSet=="function"?WeakSet:Set,rt=null;function pc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Kn(t,e,r)}else n.current=null}function Ym(t,e,n){try{n()}catch(r){Kn(t,e,r)}}var O6=!1;function L9(t,e){if(Mm=mh,t=S_(),P2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++c===i&&(a=s),d===o&&++u===r&&(l=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bm={focusedElem:t,selectionRange:n},mh=!1,rt=e;rt!==null;)if(e=rt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,rt=t;else for(;rt!==null;){e=rt;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var m=h.memoizedProps,w=h.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?m:ro(e.type,m),w);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(E){Kn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,rt=t;break}rt=e.return}return h=O6,O6=!1,h}function h0(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ym(e,n,o)}i=i.next}while(i!==r)}}function Ap(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _E(t){var e=t.alternate;e!==null&&(t.alternate=null,_E(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ro],delete e[F0],delete e[Um],delete e[x9],delete e[w9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EE(t){return t.tag===5||t.tag===3||t.tag===4}function D6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ey(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xh));else if(r!==4&&(t=t.child,t!==null))for(ey(t,e,n),t=t.sibling;t!==null;)ey(t,e,n),t=t.sibling}function ty(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ty(t,e,n),t=t.sibling;t!==null;)ty(t,e,n),t=t.sibling}var Ar=null,oo=!1;function Fs(t,e,n){for(n=n.child;n!==null;)CE(t,e,n),n=n.sibling}function CE(t,e,n){if(Io&&typeof Io.onCommitFiberUnmount=="function")try{Io.onCommitFiberUnmount(mp,n)}catch{}switch(n.tag){case 5:Lr||pc(n,e);case 6:var r=Ar,i=oo;Ar=null,Fs(t,e,n),Ar=r,oo=i,Ar!==null&&(oo?(t=Ar,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ar.removeChild(n.stateNode));break;case 18:Ar!==null&&(oo?(t=Ar,n=n.stateNode,t.nodeType===8?lg(t.parentNode,n):t.nodeType===1&&lg(t,n),P0(t)):lg(Ar,n.stateNode));break;case 4:r=Ar,i=oo,Ar=n.stateNode.containerInfo,oo=!0,Fs(t,e,n),Ar=r,oo=i;break;case 0:case 11:case 14:case 15:if(!Lr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ym(n,e,s),i=i.next}while(i!==r)}Fs(t,e,n);break;case 1:if(!Lr&&(pc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Kn(n,e,a)}Fs(t,e,n);break;case 21:Fs(t,e,n);break;case 22:n.mode&1?(Lr=(r=Lr)||n.memoizedState!==null,Fs(t,e,n),Lr=r):Fs(t,e,n);break;default:Fs(t,e,n)}}function R6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new F9),e.forEach(function(r){var i=q9.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ar=a.stateNode,oo=!1;break e;case 3:Ar=a.stateNode.containerInfo,oo=!0;break e;case 4:Ar=a.stateNode.containerInfo,oo=!0;break e}a=a.return}if(Ar===null)throw Error(ke(160));CE(o,s,i),Ar=null,oo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Kn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AE(e,t),e=e.sibling}function AE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gi(e,t),bo(t),r&4){try{h0(3,t,t.return),Ap(3,t)}catch(m){Kn(t,t.return,m)}try{h0(5,t,t.return)}catch(m){Kn(t,t.return,m)}}break;case 1:Gi(e,t),bo(t),r&512&&n!==null&&pc(n,n.return);break;case 5:if(Gi(e,t),bo(t),r&512&&n!==null&&pc(n,n.return),t.flags&32){var i=t.stateNode;try{D0(i,"")}catch(m){Kn(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&q5(i,o),Am(a,s);var c=Am(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?Y5(i,f):u==="dangerouslySetInnerHTML"?G5(i,f):u==="children"?D0(i,f):b2(i,u,f,c)}switch(a){case"input":xm(i,o);break;case"textarea":V5(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ec(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Ec(i,!!o.multiple,o.defaultValue,!0):Ec(i,!!o.multiple,o.multiple?[]:"",!1))}i[F0]=o}catch(m){Kn(t,t.return,m)}}break;case 6:if(Gi(e,t),bo(t),r&4){if(t.stateNode===null)throw Error(ke(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){Kn(t,t.return,m)}}break;case 3:if(Gi(e,t),bo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{P0(e.containerInfo)}catch(m){Kn(t,t.return,m)}break;case 4:Gi(e,t),bo(t);break;case 13:Gi(e,t),bo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Y2=Vn())),r&4&&R6(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Lr=(c=Lr)||u,Gi(e,t),Lr=c):Gi(e,t),bo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(rt=t,u=t.child;u!==null;){for(f=rt=u;rt!==null;){switch(d=rt,p=d.child,d.tag){case 0:case 11:case 14:case 15:h0(4,d,d.return);break;case 1:pc(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(m){Kn(r,n,m)}}break;case 5:pc(d,d.return);break;case 22:if(d.memoizedState!==null){N6(f);continue}}p!==null?(p.return=d,rt=p):N6(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Q5("display",s))}catch(m){Kn(t,t.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Kn(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Gi(e,t),bo(t),r&4&&R6(t);break;case 21:break;default:Gi(e,t),bo(t)}}function bo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EE(n)){var r=n;break e}n=n.return}throw Error(ke(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(D0(i,""),r.flags&=-33);var o=D6(t);ty(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=D6(t);ey(t,a,s);break;default:throw Error(ke(161))}}catch(l){Kn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function U9(t,e,n){rt=t,SE(t)}function SE(t,e,n){for(var r=(t.mode&1)!==0;rt!==null;){var i=rt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ld;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Lr;a=ld;var c=Lr;if(ld=s,(Lr=l)&&!c)for(rt=i;rt!==null;)s=rt,l=s.child,s.tag===22&&s.memoizedState!==null?P6(i):l!==null?(l.return=s,rt=l):P6(i);for(;o!==null;)rt=o,SE(o),o=o.sibling;rt=i,ld=a,Lr=c}T6(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,rt=o):T6(t)}}function T6(t){for(;rt!==null;){var e=rt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lr||Ap(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ro(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&p6(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}p6(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&P0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}Lr||e.flags&512&&Zm(e)}catch(d){Kn(e,e.return,d)}}if(e===t){rt=null;break}if(n=e.sibling,n!==null){n.return=e.return,rt=n;break}rt=e.return}}function N6(t){for(;rt!==null;){var e=rt;if(e===t){rt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,rt=n;break}rt=e.return}}function P6(t){for(;rt!==null;){var e=rt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ap(4,e)}catch(l){Kn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Kn(e,i,l)}}var o=e.return;try{Zm(e)}catch(l){Kn(e,o,l)}break;case 5:var s=e.return;try{Zm(e)}catch(l){Kn(e,s,l)}}}catch(l){Kn(e,e.return,l)}if(e===t){rt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,rt=a;break}rt=e.return}}var $9=Math.ceil,Nh=Ns.ReactCurrentDispatcher,G2=Ns.ReactCurrentOwner,Li=Ns.ReactCurrentBatchConfig,cn=0,yr=null,tr=null,Or=0,yi=0,gc=_a(0),ur=0,W0=null,ol=0,Sp=0,Q2=0,p0=null,ii=null,Y2=0,Kc=1/0,ns=null,Ph=!1,ny=null,la=null,cd=!1,ta=null,kh=0,g0=0,ry=null,Yd=-1,Zd=0;function Qr(){return cn&6?Vn():Yd!==-1?Yd:Yd=Vn()}function ca(t){return t.mode&1?cn&2&&Or!==0?Or&-Or:E9.transition!==null?(Zd===0&&(Zd=u_()),Zd):(t=mn,t!==0||(t=window.event,t=t===void 0?16:m_(t.type)),t):1}function uo(t,e,n,r){if(50<g0)throw g0=0,ry=null,Error(ke(185));pf(t,n,r),(!(cn&2)||t!==yr)&&(t===yr&&(!(cn&2)&&(Sp|=n),ur===4&&Qs(t,Or)),hi(t,r),n===1&&cn===0&&!(e.mode&1)&&(Kc=Vn()+500,_p&&Ea()))}function hi(t,e){var n=t.callbackNode;E7(t,e);var r=vh(t,t===yr?Or:0);if(r===0)n!==null&&jx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jx(n),e===1)t.tag===0?_9(k6.bind(null,t)):B_(k6.bind(null,t)),y9(function(){!(cn&6)&&Ea()}),n=null;else{switch(f_(r)){case 1:n=C2;break;case 4:n=l_;break;case 16:n=gh;break;case 536870912:n=c_;break;default:n=gh}n=IE(n,OE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OE(t,e){if(Yd=-1,Zd=0,cn&6)throw Error(ke(327));var n=t.callbackNode;if(Dc()&&t.callbackNode!==n)return null;var r=vh(t,t===yr?Or:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ih(t,r);else{e=r;var i=cn;cn|=2;var o=RE();(yr!==t||Or!==e)&&(ns=null,Kc=Vn()+500,Ya(t,e));do try{W9();break}catch(a){DE(t,a)}while(!0);F2(),Nh.current=o,cn=i,tr!==null?e=0:(yr=null,Or=0,e=ur)}if(e!==0){if(e===2&&(i=Tm(t),i!==0&&(r=i,e=iy(t,i))),e===1)throw n=W0,Ya(t,0),Qs(t,r),hi(t,Vn()),n;if(e===6)Qs(t,r);else{if(i=t.current.alternate,!(r&30)&&!j9(i)&&(e=Ih(t,r),e===2&&(o=Tm(t),o!==0&&(r=o,e=iy(t,o))),e===1))throw n=W0,Ya(t,0),Qs(t,r),hi(t,Vn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ke(345));case 2:La(t,ii,ns);break;case 3:if(Qs(t,r),(r&130023424)===r&&(e=Y2+500-Vn(),10<e)){if(vh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Lm(La.bind(null,t,ii,ns),e);break}La(t,ii,ns);break;case 4:if(Qs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-co(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Vn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$9(r/1960))-r,10<r){t.timeoutHandle=Lm(La.bind(null,t,ii,ns),r);break}La(t,ii,ns);break;case 5:La(t,ii,ns);break;default:throw Error(ke(329))}}}return hi(t,Vn()),t.callbackNode===n?OE.bind(null,t):null}function iy(t,e){var n=p0;return t.current.memoizedState.isDehydrated&&(Ya(t,e).flags|=256),t=Ih(t,e),t!==2&&(e=ii,ii=n,e!==null&&oy(e)),t}function oy(t){ii===null?ii=t:ii.push.apply(ii,t)}function j9(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ho(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qs(t,e){for(e&=~Q2,e&=~Sp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-co(e),r=1<<n;t[n]=-1,e&=~r}}function k6(t){if(cn&6)throw Error(ke(327));Dc();var e=vh(t,0);if(!(e&1))return hi(t,Vn()),null;var n=Ih(t,e);if(t.tag!==0&&n===2){var r=Tm(t);r!==0&&(e=r,n=iy(t,r))}if(n===1)throw n=W0,Ya(t,0),Qs(t,e),hi(t,Vn()),n;if(n===6)throw Error(ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,La(t,ii,ns),hi(t,Vn()),null}function Z2(t,e){var n=cn;cn|=1;try{return t(e)}finally{cn=n,cn===0&&(Kc=Vn()+500,_p&&Ea())}}function sl(t){ta!==null&&ta.tag===0&&!(cn&6)&&Dc();var e=cn;cn|=1;var n=Li.transition,r=mn;try{if(Li.transition=null,mn=1,t)return t()}finally{mn=r,Li.transition=n,cn=e,!(cn&6)&&Ea()}}function eb(){yi=gc.current,Dn(gc)}function Ya(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,m9(n)),tr!==null)for(n=tr.return;n!==null;){var r=n;switch(I2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wh();break;case 3:$c(),Dn(fi),Dn(Hr),W2();break;case 5:K2(r);break;case 4:$c();break;case 13:Dn(Fn);break;case 19:Dn(Fn);break;case 10:L2(r.type._context);break;case 22:case 23:eb()}n=n.return}if(yr=t,tr=t=ua(t.current,null),Or=yi=e,ur=0,W0=null,Q2=Sp=ol=0,ii=p0=null,Wa!==null){for(e=0;e<Wa.length;e++)if(n=Wa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Wa=null}return t}function DE(t,e){do{var n=tr;try{if(F2(),Jd.current=Th,Rh){for(var r=Ln.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rh=!1}if(il=0,vr=sr=Ln=null,d0=!1,$0=0,G2.current=null,n===null||n.return===null){ur=1,W0=e,tr=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Or,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=x6(s);if(p!==null){p.flags&=-257,w6(p,s,a,o,e),p.mode&1&&b6(o,c,e),e=p,l=c;var h=e.updateQueue;if(h===null){var m=new Set;m.add(l),e.updateQueue=m}else h.add(l);break e}else{if(!(e&1)){b6(o,c,e),tb();break e}l=Error(ke(426))}}else if(Tn&&a.mode&1){var w=x6(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),w6(w,s,a,o,e),M2(jc(l,a));break e}}o=l=jc(l,a),ur!==4&&(ur=2),p0===null?p0=[o]:p0.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=fE(o,l,e);h6(o,x);break e;case 1:a=l;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(la===null||!la.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=dE(o,a,e);h6(o,E);break e}}o=o.return}while(o!==null)}NE(n)}catch(O){e=O,tr===n&&n!==null&&(tr=n=n.return);continue}break}while(!0)}function RE(){var t=Nh.current;return Nh.current=Th,t===null?Th:t}function tb(){(ur===0||ur===3||ur===2)&&(ur=4),yr===null||!(ol&268435455)&&!(Sp&268435455)||Qs(yr,Or)}function Ih(t,e){var n=cn;cn|=2;var r=RE();(yr!==t||Or!==e)&&(ns=null,Ya(t,e));do try{K9();break}catch(i){DE(t,i)}while(!0);if(F2(),cn=n,Nh.current=r,tr!==null)throw Error(ke(261));return yr=null,Or=0,ur}function K9(){for(;tr!==null;)TE(tr)}function W9(){for(;tr!==null&&!p7();)TE(tr)}function TE(t){var e=kE(t.alternate,t,yi);t.memoizedProps=t.pendingProps,e===null?NE(t):tr=e,G2.current=null}function NE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=B9(n,e),n!==null){n.flags&=32767,tr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ur=6,tr=null;return}}else if(n=M9(n,e,yi),n!==null){tr=n;return}if(e=e.sibling,e!==null){tr=e;return}tr=e=t}while(e!==null);ur===0&&(ur=5)}function La(t,e,n){var r=mn,i=Li.transition;try{Li.transition=null,mn=1,H9(t,e,n,r)}finally{Li.transition=i,mn=r}return null}function H9(t,e,n,r){do Dc();while(ta!==null);if(cn&6)throw Error(ke(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ke(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(C7(t,o),t===yr&&(tr=yr=null,Or=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cd||(cd=!0,IE(gh,function(){return Dc(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Li.transition,Li.transition=null;var s=mn;mn=1;var a=cn;cn|=4,G2.current=null,L9(t,n),AE(n,t),u9(Bm),mh=!!Mm,Bm=Mm=null,t.current=n,U9(n),g7(),cn=a,mn=s,Li.transition=o}else t.current=n;if(cd&&(cd=!1,ta=t,kh=i),o=t.pendingLanes,o===0&&(la=null),y7(n.stateNode),hi(t,Vn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ph)throw Ph=!1,t=ny,ny=null,t;return kh&1&&t.tag!==0&&Dc(),o=t.pendingLanes,o&1?t===ry?g0++:(g0=0,ry=t):g0=0,Ea(),null}function Dc(){if(ta!==null){var t=f_(kh),e=Li.transition,n=mn;try{if(Li.transition=null,mn=16>t?16:t,ta===null)var r=!1;else{if(t=ta,ta=null,kh=0,cn&6)throw Error(ke(331));var i=cn;for(cn|=4,rt=t.current;rt!==null;){var o=rt,s=o.child;if(rt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(rt=c;rt!==null;){var u=rt;switch(u.tag){case 0:case 11:case 15:h0(8,u,o)}var f=u.child;if(f!==null)f.return=u,rt=f;else for(;rt!==null;){u=rt;var d=u.sibling,p=u.return;if(_E(u),u===c){rt=null;break}if(d!==null){d.return=p,rt=d;break}rt=p}}}var h=o.alternate;if(h!==null){var m=h.child;if(m!==null){h.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}rt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,rt=s;else e:for(;rt!==null;){if(o=rt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:h0(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,rt=x;break e}rt=o.return}}var y=t.current;for(rt=y;rt!==null;){s=rt;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,rt=b;else e:for(s=y;rt!==null;){if(a=rt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ap(9,a)}}catch(O){Kn(a,a.return,O)}if(a===s){rt=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,rt=E;break e}rt=a.return}}if(cn=i,Ea(),Io&&typeof Io.onPostCommitFiberRoot=="function")try{Io.onPostCommitFiberRoot(mp,t)}catch{}r=!0}return r}finally{mn=n,Li.transition=e}}return!1}function I6(t,e,n){e=jc(n,e),e=fE(t,e,1),t=aa(t,e,1),e=Qr(),t!==null&&(pf(t,1,e),hi(t,e))}function Kn(t,e,n){if(t.tag===3)I6(t,t,n);else for(;e!==null;){if(e.tag===3){I6(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(la===null||!la.has(r))){t=jc(n,t),t=dE(e,t,1),e=aa(e,t,1),t=Qr(),e!==null&&(pf(e,1,t),hi(e,t));break}}e=e.return}}function X9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qr(),t.pingedLanes|=t.suspendedLanes&n,yr===t&&(Or&n)===n&&(ur===4||ur===3&&(Or&130023424)===Or&&500>Vn()-Y2?Ya(t,0):Q2|=n),hi(t,e)}function PE(t,e){e===0&&(t.mode&1?(e=Zf,Zf<<=1,!(Zf&130023424)&&(Zf=4194304)):e=1);var n=Qr();t=Cs(t,e),t!==null&&(pf(t,e,n),hi(t,n))}function z9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),PE(t,n)}function q9(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ke(314))}r!==null&&r.delete(e),PE(t,n)}var kE;kE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fi.current)ci=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ci=!1,I9(t,e,n);ci=!!(t.flags&131072)}else ci=!1,Tn&&e.flags&1048576&&F_(e,Ch,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qd(t,e),t=e.pendingProps;var i=Fc(e,Hr.current);Oc(e,n),i=X2(null,e,r,t,i,n);var o=z2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,di(r)?(o=!0,_h(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$2(e),i.updater=Cp,e.stateNode=i,i._reactInternals=e,Xm(e,r,t,n),e=Vm(null,e,r,!0,o,n)):(e.tag=0,Tn&&o&&k2(e),qr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=J9(r),t=ro(r,t),i){case 0:e=qm(null,e,r,t,n);break e;case 1:e=C6(null,e,r,t,n);break e;case 11:e=_6(null,e,r,t,n);break e;case 14:e=E6(null,e,r,ro(r.type,t),n);break e}throw Error(ke(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ro(r,i),qm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ro(r,i),C6(t,e,r,i,n);case 3:e:{if(vE(e),t===null)throw Error(ke(387));r=e.pendingProps,o=e.memoizedState,i=o.element,W_(t,e),Oh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=jc(Error(ke(423)),e),e=A6(t,e,r,n,i);break e}else if(r!==i){i=jc(Error(ke(424)),e),e=A6(t,e,r,n,i);break e}else for(wi=sa(e.stateNode.containerInfo.firstChild),Ei=e,Tn=!0,ao=null,n=j_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lc(),r===i){e=As(t,e,n);break e}qr(t,e,r,n)}e=e.child}return e;case 5:return H_(e),t===null&&Km(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Fm(r,i)?s=null:o!==null&&Fm(r,o)&&(e.flags|=32),gE(t,e),qr(t,e,s,n),e.child;case 6:return t===null&&Km(e),null;case 13:return mE(t,e,n);case 4:return j2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Uc(e,null,r,n):qr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ro(r,i),_6(t,e,r,i,n);case 7:return qr(t,e,e.pendingProps,n),e.child;case 8:return qr(t,e,e.pendingProps.children,n),e.child;case 12:return qr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,An(Ah,r._currentValue),r._currentValue=s,o!==null)if(ho(o.value,s)){if(o.children===i.children&&!fi.current){e=As(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ms(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Wm(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ke(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Wm(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}qr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Oc(e,n),i=Ui(i),r=r(i),e.flags|=1,qr(t,e,r,n),e.child;case 14:return r=e.type,i=ro(r,e.pendingProps),i=ro(r.type,i),E6(t,e,r,i,n);case 15:return hE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ro(r,i),Qd(t,e),e.tag=1,di(r)?(t=!0,_h(e)):t=!1,Oc(e,n),uE(e,r,i),Xm(e,r,i,n),Vm(null,e,r,!0,t,n);case 19:return yE(t,e,n);case 22:return pE(t,e,n)}throw Error(ke(156,e.tag))};function IE(t,e){return a_(t,e)}function V9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(t,e,n,r){return new V9(t,e,n,r)}function nb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J9(t){if(typeof t=="function")return nb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===w2)return 11;if(t===_2)return 14}return 2}function ua(t,e){var n=t.alternate;return n===null?(n=Fi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function eh(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")nb(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case oc:return Za(n.children,i,o,e);case x2:s=8,i|=8;break;case gm:return t=Fi(12,n,e,i|2),t.elementType=gm,t.lanes=o,t;case vm:return t=Fi(13,n,e,i),t.elementType=vm,t.lanes=o,t;case mm:return t=Fi(19,n,e,i),t.elementType=mm,t.lanes=o,t;case H5:return Op(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K5:s=10;break e;case W5:s=9;break e;case w2:s=11;break e;case _2:s=14;break e;case zs:s=16,r=null;break e}throw Error(ke(130,t==null?t:typeof t,""))}return e=Fi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Za(t,e,n,r){return t=Fi(7,t,r,e),t.lanes=n,t}function Op(t,e,n,r){return t=Fi(22,t,r,e),t.elementType=H5,t.lanes=n,t.stateNode={isHidden:!1},t}function vg(t,e,n){return t=Fi(6,t,null,e),t.lanes=n,t}function mg(t,e,n){return e=Fi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function G9(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Q1(0),this.expirationTimes=Q1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Q1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rb(t,e,n,r,i,o,s,a,l){return t=new G9(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Fi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$2(o),t}function Q9(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ic,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ME(t){if(!t)return pa;t=t._reactInternals;e:{if(ml(t)!==t||t.tag!==1)throw Error(ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(di(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ke(171))}if(t.tag===1){var n=t.type;if(di(n))return M_(t,n,e)}return e}function BE(t,e,n,r,i,o,s,a,l){return t=rb(n,r,!0,t,i,o,s,a,l),t.context=ME(null),n=t.current,r=Qr(),i=ca(n),o=ms(r,i),o.callback=e??null,aa(n,o,i),t.current.lanes=i,pf(t,i,r),hi(t,r),t}function Dp(t,e,n,r){var i=e.current,o=Qr(),s=ca(i);return n=ME(n),e.context===null?e.context=n:e.pendingContext=n,e=ms(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=aa(i,e,s),t!==null&&(uo(t,i,s,o),Vd(t,i,s)),s}function Mh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function M6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ib(t,e){M6(t,e),(t=t.alternate)&&M6(t,e)}var FE=typeof reportError=="function"?reportError:function(t){console.error(t)};function ob(t){this._internalRoot=t}Rp.prototype.render=ob.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ke(409));Dp(t,e,null,null)};Rp.prototype.unmount=ob.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sl(function(){Dp(null,t,null,null)}),e[Es]=null}};function Rp(t){this._internalRoot=t}Rp.prototype.unstable_scheduleHydration=function(t){if(t){var e=p_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gs.length&&e!==0&&e<Gs[n].priority;n++);Gs.splice(n,0,t),n===0&&v_(t)}};function sb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function B6(){}function Y9(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Mh(s);o.call(c)}}var s=BE(e,r,t,0,null,!1,!1,"",B6);return t._reactRootContainer=s,t[Es]=s.current,M0(t.nodeType===8?t.parentNode:t),sl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Mh(l);a.call(c)}}var l=rb(t,0,!1,null,null,!1,!1,"",B6);return t._reactRootContainer=l,t[Es]=l.current,M0(t.nodeType===8?t.parentNode:t),sl(function(){Dp(e,l,n,r)}),l}function Np(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Mh(s);a.call(l)}}Dp(e,s,t,i)}else s=Y9(n,e,t,i,r);return Mh(s)}d_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qu(e.pendingLanes);n!==0&&(A2(e,n|1),hi(e,Vn()),!(cn&6)&&(Kc=Vn()+500,Ea()))}break;case 13:sl(function(){var r=Cs(t,1);if(r!==null){var i=Qr();uo(r,t,1,i)}}),ib(t,1)}};S2=function(t){if(t.tag===13){var e=Cs(t,134217728);if(e!==null){var n=Qr();uo(e,t,134217728,n)}ib(t,134217728)}};h_=function(t){if(t.tag===13){var e=ca(t),n=Cs(t,e);if(n!==null){var r=Qr();uo(n,t,e,r)}ib(t,e)}};p_=function(){return mn};g_=function(t,e){var n=mn;try{return mn=t,e()}finally{mn=n}};Om=function(t,e,n){switch(e){case"input":if(xm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wp(r);if(!i)throw Error(ke(90));z5(r),xm(r,i)}}}break;case"textarea":V5(t,n);break;case"select":e=n.value,e!=null&&Ec(t,!!n.multiple,e,!1)}};t_=Z2;n_=sl;var Z9={usingClientEntryPoint:!1,Events:[vf,cc,wp,Z5,e_,Z2]},Iu={findFiberByHostInstance:Ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eD={bundleType:Iu.bundleType,version:Iu.version,rendererPackageName:Iu.rendererPackageName,rendererConfig:Iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=o_(t),t===null?null:t.stateNode},findFiberByHostInstance:Iu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{mp=ud.inject(eD),Io=ud}catch{}}Oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z9;Oi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sb(e))throw Error(ke(200));return Q9(t,e,null,n)};Oi.createRoot=function(t,e){if(!sb(t))throw Error(ke(299));var n=!1,r="",i=FE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=rb(t,1,!1,null,null,n,!1,r,i),t[Es]=e.current,M0(t.nodeType===8?t.parentNode:t),new ob(e)};Oi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ke(188)):(t=Object.keys(t).join(","),Error(ke(268,t)));return t=o_(e),t=t===null?null:t.stateNode,t};Oi.flushSync=function(t){return sl(t)};Oi.hydrate=function(t,e,n){if(!Tp(e))throw Error(ke(200));return Np(null,t,e,!0,n)};Oi.hydrateRoot=function(t,e,n){if(!sb(t))throw Error(ke(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=FE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=BE(e,null,t,1,n??null,i,!1,o,s),t[Es]=e.current,M0(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rp(e)};Oi.render=function(t,e,n){if(!Tp(e))throw Error(ke(200));return Np(null,t,e,!1,n)};Oi.unmountComponentAtNode=function(t){if(!Tp(t))throw Error(ke(40));return t._reactRootContainer?(sl(function(){Np(null,null,t,!1,function(){t._reactRootContainer=null,t[Es]=null})}),!0):!1};Oi.unstable_batchedUpdates=Z2;Oi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Tp(n))throw Error(ke(200));if(t==null||t._reactInternals===void 0)throw Error(ke(38));return Np(t,e,n,!1,r)};Oi.version="18.3.1-next-f1338f8080-20240426";function LE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LE)}catch(t){console.error(t)}}LE(),L5.exports=Oi;var fo=L5.exports,UE,F6=fo;UE=F6.createRoot,F6.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H0.apply(this,arguments)}var na;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(na||(na={}));const L6="popstate";function tD(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return sy("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bh(i)}return rD(e,n,null,t)}function rr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $E(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nD(){return Math.random().toString(36).substr(2,8)}function U6(t,e){return{usr:t.state,key:t.key,idx:e}}function sy(t,e,n,r){return n===void 0&&(n=null),H0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ou(e):e,{state:n,key:e&&e.key||r||nD()})}function Bh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ou(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function rD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=na.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(H0({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){a=na.Pop;let w=u(),x=w==null?null:w-c;c=w,l&&l({action:a,location:m.location,delta:x})}function d(w,x){a=na.Push;let y=sy(m.location,w,x);c=u()+1;let b=U6(y,c),E=m.createHref(y);try{s.pushState(b,"",E)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(E)}o&&l&&l({action:a,location:m.location,delta:1})}function p(w,x){a=na.Replace;let y=sy(m.location,w,x);c=u();let b=U6(y,c),E=m.createHref(y);s.replaceState(b,"",E),o&&l&&l({action:a,location:m.location,delta:0})}function h(w){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof w=="string"?w:Bh(w);return y=y.replace(/ $/,"%20"),rr(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let m={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(L6,f),l=w,()=>{i.removeEventListener(L6,f),l=null}},createHref(w){return e(i,w)},createURL:h,encodeLocation(w){let x=h(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:d,replace:p,go(w){return s.go(w)}};return m}var $6;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($6||($6={}));function iD(t,e,n){return n===void 0&&(n="/"),oD(t,e,n)}function oD(t,e,n,r){let i=typeof e=="string"?ou(e):e,o=ab(i.pathname||"/",n);if(o==null)return null;let s=jE(t);sD(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=yD(o);a=gD(s[l],c)}return a}function jE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(rr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=fa([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(rr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jE(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:hD(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of KE(o.path))i(o,s,l)}),e}function KE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=KE(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function sD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aD=/^:[\w-]+$/,lD=3,cD=2,uD=1,fD=10,dD=-2,j6=t=>t==="*";function hD(t,e){let n=t.split("/"),r=n.length;return n.some(j6)&&(r+=dD),e&&(r+=cD),n.filter(i=>!j6(i)).reduce((i,o)=>i+(aD.test(o)?lD:o===""?uD:fD),r)}function pD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function gD(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=vD({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:fa([o,f.pathname]),pathnameBase:_D(fa([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=fa([o,f.pathnameBase]))}return s}function vD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:d,isOptional:p}=u;if(d==="*"){let m=a[f]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const h=a[f];return p&&!h?c[d]=void 0:c[d]=(h||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function mD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$E(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $E(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ab(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ou(t):t;return{pathname:n?n.startsWith("/")?n:xD(n,e):e,search:ED(r),hash:CD(i)}}function xD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function WE(t,e){let n=wD(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function HE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ou(t):(i=H0({},t),rr(!i.pathname||!i.pathname.includes("?"),yg("?","pathname","search",i)),rr(!i.pathname||!i.pathname.includes("#"),yg("#","pathname","hash",i)),rr(!i.search||!i.search.includes("#"),yg("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=bD(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const fa=t=>t.join("/").replace(/\/\/+/g,"/"),_D=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ED=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XE=["post","put","patch","delete"];new Set(XE);const SD=["get",...XE];new Set(SD);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}const lb=ee.createContext(null),OD=ee.createContext(null),yl=ee.createContext(null),Pp=ee.createContext(null),Ca=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),zE=ee.createContext(null);function DD(t,e){let{relative:n}=e===void 0?{}:e;yf()||rr(!1);let{basename:r,navigator:i}=ee.useContext(yl),{hash:o,pathname:s,search:a}=VE(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:fa([r,s])),i.createHref({pathname:l,search:a,hash:o})}function yf(){return ee.useContext(Pp)!=null}function kp(){return yf()||rr(!1),ee.useContext(Pp).location}function qE(t){ee.useContext(yl).static||ee.useLayoutEffect(t)}function cb(){let{isDataRoute:t}=ee.useContext(Ca);return t?KD():RD()}function RD(){yf()||rr(!1);let t=ee.useContext(lb),{basename:e,future:n,navigator:r}=ee.useContext(yl),{matches:i}=ee.useContext(Ca),{pathname:o}=kp(),s=JSON.stringify(WE(i,n.v7_relativeSplatPath)),a=ee.useRef(!1);return qE(()=>{a.current=!0}),ee.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=HE(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:fa([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,o,t])}function TD(){let{matches:t}=ee.useContext(Ca),e=t[t.length-1];return e?e.params:{}}function VE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=ee.useContext(yl),{matches:i}=ee.useContext(Ca),{pathname:o}=kp(),s=JSON.stringify(WE(i,r.v7_relativeSplatPath));return ee.useMemo(()=>HE(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function ND(t,e){return PD(t,e)}function PD(t,e,n,r){yf()||rr(!1);let{navigator:i}=ee.useContext(yl),{matches:o}=ee.useContext(Ca),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=kp(),u;if(e){var f;let w=typeof e=="string"?ou(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||rr(!1),u=w}else u=c;let d=u.pathname||"/",p=d;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(w.length).join("/")}let h=iD(t,{pathname:p}),m=FD(h&&h.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:fa([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:fa([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&m?ee.createElement(Pp.Provider,{value:{location:X0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:na.Pop}},m):m}function kD(){let t=jD(),e=AD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),n?ee.createElement("pre",{style:i},n):null,null)}const ID=ee.createElement(kD,null);class MD extends ee.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ee.createElement(Ca.Provider,{value:this.props.routeContext},ee.createElement(zE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BD(t){let{routeContext:e,match:n,children:r}=t,i=ee.useContext(lb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ee.createElement(Ca.Provider,{value:e},r)}function FD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||rr(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:d,errors:p}=n,h=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||h){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,d)=>{let p,h=!1,m=null,w=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||ID,l&&(c<0&&d===0?(h=!0,w=null):c===d&&(h=!0,w=f.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,d+1)),y=()=>{let b;return p?b=m:h?b=w:f.route.Component?b=ee.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,ee.createElement(BD,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?ee.createElement(MD,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var JE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(JE||{}),Fh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fh||{});function LD(t){let e=ee.useContext(lb);return e||rr(!1),e}function UD(t){let e=ee.useContext(OD);return e||rr(!1),e}function $D(t){let e=ee.useContext(Ca);return e||rr(!1),e}function GE(t){let e=$D(),n=e.matches[e.matches.length-1];return n.route.id||rr(!1),n.route.id}function jD(){var t;let e=ee.useContext(zE),n=UD(Fh.UseRouteError),r=GE(Fh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function KD(){let{router:t}=LD(JE.UseNavigateStable),e=GE(Fh.UseNavigateStable),n=ee.useRef(!1);return qE(()=>{n.current=!0}),ee.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,X0({fromRouteId:e},o)))},[t,e])}const K6={};function WD(t,e){K6[e]||(K6[e]=!0,console.warn(e))}const W6=(t,e,n)=>WD(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function HD(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&W6("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&!e&&W6("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Zu(t){rr(!1)}function XD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=na.Pop,navigator:o,static:s=!1,future:a}=t;yf()&&rr(!1);let l=e.replace(/^\/*/,"/"),c=ee.useMemo(()=>({basename:l,navigator:o,static:s,future:X0({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=ou(r));let{pathname:u="/",search:f="",hash:d="",state:p=null,key:h="default"}=r,m=ee.useMemo(()=>{let w=ab(u,l);return w==null?null:{location:{pathname:w,search:f,hash:d,state:p,key:h},navigationType:i}},[l,u,f,d,p,h,i]);return m==null?null:ee.createElement(yl.Provider,{value:c},ee.createElement(Pp.Provider,{children:n,value:m}))}function zD(t){let{children:e,location:n}=t;return ND(ay(e),n)}new Promise(()=>{});function ay(t,e){e===void 0&&(e=[]);let n=[];return ee.Children.forEach(t,(r,i)=>{if(!ee.isValidElement(r))return;let o=[...e,i];if(r.type===ee.Fragment){n.push.apply(n,ay(r.props.children,o));return}r.type!==Zu&&rr(!1),!r.props.index||!r.props.children||rr(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ay(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(this,arguments)}function qD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function VD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JD(t,e){return t.button===0&&(!e||e==="_self")&&!VD(t)}const GD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QD="6";try{window.__reactRouterVersion=QD}catch{}const YD="startTransition",H6=fh[YD];function ZD(t){let{basename:e,children:n,future:r,window:i}=t,o=ee.useRef();o.current==null&&(o.current=tD({window:i,v5Compat:!0}));let s=o.current,[a,l]=ee.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=ee.useCallback(f=>{c&&H6?H6(()=>l(f)):l(f)},[l,c]);return ee.useLayoutEffect(()=>s.listen(u),[s,u]),ee.useEffect(()=>HD(r),[r]),ee.createElement(XD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const eR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oi=ee.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,d=qD(e,GD),{basename:p}=ee.useContext(yl),h,m=!1;if(typeof c=="string"&&tR.test(c)&&(h=c,eR))try{let b=new URL(window.location.href),E=c.startsWith("//")?new URL(b.protocol+c):new URL(c),O=ab(E.pathname,p);E.origin===b.origin&&O!=null?c=O+E.search+E.hash:m=!0}catch{}let w=DD(c,{relative:i}),x=nR(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function y(b){r&&r(b),b.defaultPrevented||x(b)}return ee.createElement("a",ly({},d,{href:h||w,onClick:m||o?r:y,ref:n,target:l}))});var X6;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(X6||(X6={}));var z6;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(z6||(z6={}));function nR(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=cb(),c=kp(),u=VE(t,{relative:s});return ee.useCallback(f=>{if(JD(f,n)){f.preventDefault();let d=r!==void 0?r:Bh(c)===Bh(u);l(t,{replace:d,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}var fe={},QE={},su={},Ip={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectorState=t.CONNECT_JSONRPC_VER=t.OKXCONNECTOR_MESSAGE_TTL=t.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE=t.OKXCONNECTOR_WS_URL_LIST=t.OKXCONNECTOR_WS_URL_IDX_KEY=t.OKXCONNECTOR_WS_URL_3=t.OKXCONNECTOR_WS_URL_2=t.OKXCONNECTOR_WS_URL_1=t.EVENT_EMITTER_MAX_LISTENERS=void 0,t.EVENT_EMITTER_MAX_LISTENERS=10,t.OKXCONNECTOR_WS_URL_1="wss://wsdexpri.okx.com/ws/v1/wallet-connect-relay",t.OKXCONNECTOR_WS_URL_2="wss://wsdexpri.okx.ac/ws/v1/wallet-connect-relay",t.OKXCONNECTOR_WS_URL_3="wss://wsdexpri.coinall.ltd/ws/v1/wallet-connect-relay",t.OKXCONNECTOR_WS_URL_IDX_KEY="wuik",t.OKXCONNECTOR_WS_URL_LIST=[t.OKXCONNECTOR_WS_URL_1,t.OKXCONNECTOR_WS_URL_2,t.OKXCONNECTOR_WS_URL_3],t.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE={TIME_OUT:3990,CANCELED:3991,FINISHED:3992},t.OKXCONNECTOR_MESSAGE_TTL=3e5,t.CONNECT_JSONRPC_VER="2.0",t.ConnectorState={InitState:0,Connecting:1,Connected:2,Disconnected:3,OnError:4}})(Ip);var vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.OKXCONNECTOR_STORAGE_CIPHER_METHOD=vn.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV=vn.OKXCONNECTOR_STORAGER_CRYPTO_SALT=vn.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD=vn.OKXCONNECTOR_TON_KEY=vn.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE=vn.OKXCONNECTOR_TOKEN_CACHE=vn.OKXCONNECTOR_JWT_KEY=vn.OKXCONNECTOR_SESSION_PREFIX_KEY=vn.OKXCONNECTOR_CRYPTO_KEY=vn.OKXCONNECTOR_CACHE_KEY_DAPP=vn.OKXCONNECTOR_CACHE_KEY=void 0;vn.OKXCONNECTOR_CACHE_KEY="ck";vn.OKXCONNECTOR_CACHE_KEY_DAPP="ck_dapp";vn.OKXCONNECTOR_CRYPTO_KEY="cck_k";vn.OKXCONNECTOR_SESSION_PREFIX_KEY="cspk_";vn.OKXCONNECTOR_JWT_KEY="cjk_k";vn.OKXCONNECTOR_TOKEN_CACHE="ct";vn.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE="csp";vn.OKXCONNECTOR_TON_KEY="OKXStorage_ctc";vn.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD="scp";vn.OKXCONNECTOR_STORAGER_CRYPTO_SALT="scs";vn.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV="scpc";vn.OKXCONNECTOR_STORAGE_CIPHER_METHOD="aes-256-cbc";var bl={};function Xa(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var YE={exports:{}};const rR={},iR=Object.freeze(Object.defineProperty({__proto__:null,default:rR},Symbol.toStringTag,{value:"Module"})),Mp=gp(iR);(function(t){(function(e){var n=function(k){var X,q=new Float64Array(16);if(k)for(X=0;X<k.length;X++)q[X]=k[X];return q},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=n(),a=n([1]),l=n([56129,1]),c=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(k,X,q,A){k[X]=q>>24&255,k[X+1]=q>>16&255,k[X+2]=q>>8&255,k[X+3]=q&255,k[X+4]=A>>24&255,k[X+5]=A>>16&255,k[X+6]=A>>8&255,k[X+7]=A&255}function m(k,X,q,A,Q){var ue,de=0;for(ue=0;ue<Q;ue++)de|=k[X+ue]^q[A+ue];return(1&de-1>>>8)-1}function w(k,X,q,A){return m(k,X,q,A,16)}function x(k,X,q,A){return m(k,X,q,A,32)}function y(k,X,q,A){for(var Q=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,ue=q[0]&255|(q[1]&255)<<8|(q[2]&255)<<16|(q[3]&255)<<24,de=q[4]&255|(q[5]&255)<<8|(q[6]&255)<<16|(q[7]&255)<<24,we=q[8]&255|(q[9]&255)<<8|(q[10]&255)<<16|(q[11]&255)<<24,De=q[12]&255|(q[13]&255)<<8|(q[14]&255)<<16|(q[15]&255)<<24,Me=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,Re=X[0]&255|(X[1]&255)<<8|(X[2]&255)<<16|(X[3]&255)<<24,kt=X[4]&255|(X[5]&255)<<8|(X[6]&255)<<16|(X[7]&255)<<24,je=X[8]&255|(X[9]&255)<<8|(X[10]&255)<<16|(X[11]&255)<<24,ft=X[12]&255|(X[13]&255)<<8|(X[14]&255)<<16|(X[15]&255)<<24,ht=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,mt=q[16]&255|(q[17]&255)<<8|(q[18]&255)<<16|(q[19]&255)<<24,Ot=q[20]&255|(q[21]&255)<<8|(q[22]&255)<<16|(q[23]&255)<<24,yt=q[24]&255|(q[25]&255)<<8|(q[26]&255)<<16|(q[27]&255)<<24,gt=q[28]&255|(q[29]&255)<<8|(q[30]&255)<<16|(q[31]&255)<<24,bt=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,He=Q,ot=ue,Ue=de,Je=we,et=De,$e=Me,ye=Re,be=kt,Ae=je,K=ft,Z=ht,V=mt,ie=Ot,le=yt,se=gt,ve=bt,Y,_e=0;_e<20;_e+=2)Y=He+ie|0,et^=Y<<7|Y>>>25,Y=et+He|0,Ae^=Y<<9|Y>>>23,Y=Ae+et|0,ie^=Y<<13|Y>>>19,Y=ie+Ae|0,He^=Y<<18|Y>>>14,Y=$e+ot|0,K^=Y<<7|Y>>>25,Y=K+$e|0,le^=Y<<9|Y>>>23,Y=le+K|0,ot^=Y<<13|Y>>>19,Y=ot+le|0,$e^=Y<<18|Y>>>14,Y=Z+ye|0,se^=Y<<7|Y>>>25,Y=se+Z|0,Ue^=Y<<9|Y>>>23,Y=Ue+se|0,ye^=Y<<13|Y>>>19,Y=ye+Ue|0,Z^=Y<<18|Y>>>14,Y=ve+V|0,Je^=Y<<7|Y>>>25,Y=Je+ve|0,be^=Y<<9|Y>>>23,Y=be+Je|0,V^=Y<<13|Y>>>19,Y=V+be|0,ve^=Y<<18|Y>>>14,Y=He+Je|0,ot^=Y<<7|Y>>>25,Y=ot+He|0,Ue^=Y<<9|Y>>>23,Y=Ue+ot|0,Je^=Y<<13|Y>>>19,Y=Je+Ue|0,He^=Y<<18|Y>>>14,Y=$e+et|0,ye^=Y<<7|Y>>>25,Y=ye+$e|0,be^=Y<<9|Y>>>23,Y=be+ye|0,et^=Y<<13|Y>>>19,Y=et+be|0,$e^=Y<<18|Y>>>14,Y=Z+K|0,V^=Y<<7|Y>>>25,Y=V+Z|0,Ae^=Y<<9|Y>>>23,Y=Ae+V|0,K^=Y<<13|Y>>>19,Y=K+Ae|0,Z^=Y<<18|Y>>>14,Y=ve+se|0,ie^=Y<<7|Y>>>25,Y=ie+ve|0,le^=Y<<9|Y>>>23,Y=le+ie|0,se^=Y<<13|Y>>>19,Y=se+le|0,ve^=Y<<18|Y>>>14;He=He+Q|0,ot=ot+ue|0,Ue=Ue+de|0,Je=Je+we|0,et=et+De|0,$e=$e+Me|0,ye=ye+Re|0,be=be+kt|0,Ae=Ae+je|0,K=K+ft|0,Z=Z+ht|0,V=V+mt|0,ie=ie+Ot|0,le=le+yt|0,se=se+gt|0,ve=ve+bt|0,k[0]=He>>>0&255,k[1]=He>>>8&255,k[2]=He>>>16&255,k[3]=He>>>24&255,k[4]=ot>>>0&255,k[5]=ot>>>8&255,k[6]=ot>>>16&255,k[7]=ot>>>24&255,k[8]=Ue>>>0&255,k[9]=Ue>>>8&255,k[10]=Ue>>>16&255,k[11]=Ue>>>24&255,k[12]=Je>>>0&255,k[13]=Je>>>8&255,k[14]=Je>>>16&255,k[15]=Je>>>24&255,k[16]=et>>>0&255,k[17]=et>>>8&255,k[18]=et>>>16&255,k[19]=et>>>24&255,k[20]=$e>>>0&255,k[21]=$e>>>8&255,k[22]=$e>>>16&255,k[23]=$e>>>24&255,k[24]=ye>>>0&255,k[25]=ye>>>8&255,k[26]=ye>>>16&255,k[27]=ye>>>24&255,k[28]=be>>>0&255,k[29]=be>>>8&255,k[30]=be>>>16&255,k[31]=be>>>24&255,k[32]=Ae>>>0&255,k[33]=Ae>>>8&255,k[34]=Ae>>>16&255,k[35]=Ae>>>24&255,k[36]=K>>>0&255,k[37]=K>>>8&255,k[38]=K>>>16&255,k[39]=K>>>24&255,k[40]=Z>>>0&255,k[41]=Z>>>8&255,k[42]=Z>>>16&255,k[43]=Z>>>24&255,k[44]=V>>>0&255,k[45]=V>>>8&255,k[46]=V>>>16&255,k[47]=V>>>24&255,k[48]=ie>>>0&255,k[49]=ie>>>8&255,k[50]=ie>>>16&255,k[51]=ie>>>24&255,k[52]=le>>>0&255,k[53]=le>>>8&255,k[54]=le>>>16&255,k[55]=le>>>24&255,k[56]=se>>>0&255,k[57]=se>>>8&255,k[58]=se>>>16&255,k[59]=se>>>24&255,k[60]=ve>>>0&255,k[61]=ve>>>8&255,k[62]=ve>>>16&255,k[63]=ve>>>24&255}function b(k,X,q,A){for(var Q=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,ue=q[0]&255|(q[1]&255)<<8|(q[2]&255)<<16|(q[3]&255)<<24,de=q[4]&255|(q[5]&255)<<8|(q[6]&255)<<16|(q[7]&255)<<24,we=q[8]&255|(q[9]&255)<<8|(q[10]&255)<<16|(q[11]&255)<<24,De=q[12]&255|(q[13]&255)<<8|(q[14]&255)<<16|(q[15]&255)<<24,Me=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,Re=X[0]&255|(X[1]&255)<<8|(X[2]&255)<<16|(X[3]&255)<<24,kt=X[4]&255|(X[5]&255)<<8|(X[6]&255)<<16|(X[7]&255)<<24,je=X[8]&255|(X[9]&255)<<8|(X[10]&255)<<16|(X[11]&255)<<24,ft=X[12]&255|(X[13]&255)<<8|(X[14]&255)<<16|(X[15]&255)<<24,ht=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,mt=q[16]&255|(q[17]&255)<<8|(q[18]&255)<<16|(q[19]&255)<<24,Ot=q[20]&255|(q[21]&255)<<8|(q[22]&255)<<16|(q[23]&255)<<24,yt=q[24]&255|(q[25]&255)<<8|(q[26]&255)<<16|(q[27]&255)<<24,gt=q[28]&255|(q[29]&255)<<8|(q[30]&255)<<16|(q[31]&255)<<24,bt=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,He=Q,ot=ue,Ue=de,Je=we,et=De,$e=Me,ye=Re,be=kt,Ae=je,K=ft,Z=ht,V=mt,ie=Ot,le=yt,se=gt,ve=bt,Y,_e=0;_e<20;_e+=2)Y=He+ie|0,et^=Y<<7|Y>>>25,Y=et+He|0,Ae^=Y<<9|Y>>>23,Y=Ae+et|0,ie^=Y<<13|Y>>>19,Y=ie+Ae|0,He^=Y<<18|Y>>>14,Y=$e+ot|0,K^=Y<<7|Y>>>25,Y=K+$e|0,le^=Y<<9|Y>>>23,Y=le+K|0,ot^=Y<<13|Y>>>19,Y=ot+le|0,$e^=Y<<18|Y>>>14,Y=Z+ye|0,se^=Y<<7|Y>>>25,Y=se+Z|0,Ue^=Y<<9|Y>>>23,Y=Ue+se|0,ye^=Y<<13|Y>>>19,Y=ye+Ue|0,Z^=Y<<18|Y>>>14,Y=ve+V|0,Je^=Y<<7|Y>>>25,Y=Je+ve|0,be^=Y<<9|Y>>>23,Y=be+Je|0,V^=Y<<13|Y>>>19,Y=V+be|0,ve^=Y<<18|Y>>>14,Y=He+Je|0,ot^=Y<<7|Y>>>25,Y=ot+He|0,Ue^=Y<<9|Y>>>23,Y=Ue+ot|0,Je^=Y<<13|Y>>>19,Y=Je+Ue|0,He^=Y<<18|Y>>>14,Y=$e+et|0,ye^=Y<<7|Y>>>25,Y=ye+$e|0,be^=Y<<9|Y>>>23,Y=be+ye|0,et^=Y<<13|Y>>>19,Y=et+be|0,$e^=Y<<18|Y>>>14,Y=Z+K|0,V^=Y<<7|Y>>>25,Y=V+Z|0,Ae^=Y<<9|Y>>>23,Y=Ae+V|0,K^=Y<<13|Y>>>19,Y=K+Ae|0,Z^=Y<<18|Y>>>14,Y=ve+se|0,ie^=Y<<7|Y>>>25,Y=ie+ve|0,le^=Y<<9|Y>>>23,Y=le+ie|0,se^=Y<<13|Y>>>19,Y=se+le|0,ve^=Y<<18|Y>>>14;k[0]=He>>>0&255,k[1]=He>>>8&255,k[2]=He>>>16&255,k[3]=He>>>24&255,k[4]=$e>>>0&255,k[5]=$e>>>8&255,k[6]=$e>>>16&255,k[7]=$e>>>24&255,k[8]=Z>>>0&255,k[9]=Z>>>8&255,k[10]=Z>>>16&255,k[11]=Z>>>24&255,k[12]=ve>>>0&255,k[13]=ve>>>8&255,k[14]=ve>>>16&255,k[15]=ve>>>24&255,k[16]=ye>>>0&255,k[17]=ye>>>8&255,k[18]=ye>>>16&255,k[19]=ye>>>24&255,k[20]=be>>>0&255,k[21]=be>>>8&255,k[22]=be>>>16&255,k[23]=be>>>24&255,k[24]=Ae>>>0&255,k[25]=Ae>>>8&255,k[26]=Ae>>>16&255,k[27]=Ae>>>24&255,k[28]=K>>>0&255,k[29]=K>>>8&255,k[30]=K>>>16&255,k[31]=K>>>24&255}function E(k,X,q,A){y(k,X,q,A)}function O(k,X,q,A){b(k,X,q,A)}var N=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function R(k,X,q,A,Q,ue,de){var we=new Uint8Array(16),De=new Uint8Array(64),Me,Re;for(Re=0;Re<16;Re++)we[Re]=0;for(Re=0;Re<8;Re++)we[Re]=ue[Re];for(;Q>=64;){for(E(De,we,de,N),Re=0;Re<64;Re++)k[X+Re]=q[A+Re]^De[Re];for(Me=1,Re=8;Re<16;Re++)Me=Me+(we[Re]&255)|0,we[Re]=Me&255,Me>>>=8;Q-=64,X+=64,A+=64}if(Q>0)for(E(De,we,de,N),Re=0;Re<Q;Re++)k[X+Re]=q[A+Re]^De[Re];return 0}function L(k,X,q,A,Q){var ue=new Uint8Array(16),de=new Uint8Array(64),we,De;for(De=0;De<16;De++)ue[De]=0;for(De=0;De<8;De++)ue[De]=A[De];for(;q>=64;){for(E(de,ue,Q,N),De=0;De<64;De++)k[X+De]=de[De];for(we=1,De=8;De<16;De++)we=we+(ue[De]&255)|0,ue[De]=we&255,we>>>=8;q-=64,X+=64}if(q>0)for(E(de,ue,Q,N),De=0;De<q;De++)k[X+De]=de[De];return 0}function W(k,X,q,A,Q){var ue=new Uint8Array(32);O(ue,A,Q,N);for(var de=new Uint8Array(8),we=0;we<8;we++)de[we]=A[we+16];return L(k,X,q,de,ue)}function M(k,X,q,A,Q,ue,de){var we=new Uint8Array(32);O(we,ue,de,N);for(var De=new Uint8Array(8),Me=0;Me<8;Me++)De[Me]=ue[Me+16];return R(k,X,q,A,Q,De,we)}var F=function(k){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var X,q,A,Q,ue,de,we,De;X=k[0]&255|(k[1]&255)<<8,this.r[0]=X&8191,q=k[2]&255|(k[3]&255)<<8,this.r[1]=(X>>>13|q<<3)&8191,A=k[4]&255|(k[5]&255)<<8,this.r[2]=(q>>>10|A<<6)&7939,Q=k[6]&255|(k[7]&255)<<8,this.r[3]=(A>>>7|Q<<9)&8191,ue=k[8]&255|(k[9]&255)<<8,this.r[4]=(Q>>>4|ue<<12)&255,this.r[5]=ue>>>1&8190,de=k[10]&255|(k[11]&255)<<8,this.r[6]=(ue>>>14|de<<2)&8191,we=k[12]&255|(k[13]&255)<<8,this.r[7]=(de>>>11|we<<5)&8065,De=k[14]&255|(k[15]&255)<<8,this.r[8]=(we>>>8|De<<8)&8191,this.r[9]=De>>>5&127,this.pad[0]=k[16]&255|(k[17]&255)<<8,this.pad[1]=k[18]&255|(k[19]&255)<<8,this.pad[2]=k[20]&255|(k[21]&255)<<8,this.pad[3]=k[22]&255|(k[23]&255)<<8,this.pad[4]=k[24]&255|(k[25]&255)<<8,this.pad[5]=k[26]&255|(k[27]&255)<<8,this.pad[6]=k[28]&255|(k[29]&255)<<8,this.pad[7]=k[30]&255|(k[31]&255)<<8};F.prototype.blocks=function(k,X,q){for(var A=this.fin?0:2048,Q,ue,de,we,De,Me,Re,kt,je,ft,ht,mt,Ot,yt,gt,bt,He,ot,Ue,Je=this.h[0],et=this.h[1],$e=this.h[2],ye=this.h[3],be=this.h[4],Ae=this.h[5],K=this.h[6],Z=this.h[7],V=this.h[8],ie=this.h[9],le=this.r[0],se=this.r[1],ve=this.r[2],Y=this.r[3],_e=this.r[4],Ee=this.r[5],Ce=this.r[6],Oe=this.r[7],Ve=this.r[8],it=this.r[9];q>=16;)Q=k[X+0]&255|(k[X+1]&255)<<8,Je+=Q&8191,ue=k[X+2]&255|(k[X+3]&255)<<8,et+=(Q>>>13|ue<<3)&8191,de=k[X+4]&255|(k[X+5]&255)<<8,$e+=(ue>>>10|de<<6)&8191,we=k[X+6]&255|(k[X+7]&255)<<8,ye+=(de>>>7|we<<9)&8191,De=k[X+8]&255|(k[X+9]&255)<<8,be+=(we>>>4|De<<12)&8191,Ae+=De>>>1&8191,Me=k[X+10]&255|(k[X+11]&255)<<8,K+=(De>>>14|Me<<2)&8191,Re=k[X+12]&255|(k[X+13]&255)<<8,Z+=(Me>>>11|Re<<5)&8191,kt=k[X+14]&255|(k[X+15]&255)<<8,V+=(Re>>>8|kt<<8)&8191,ie+=kt>>>5|A,je=0,ft=je,ft+=Je*le,ft+=et*(5*it),ft+=$e*(5*Ve),ft+=ye*(5*Oe),ft+=be*(5*Ce),je=ft>>>13,ft&=8191,ft+=Ae*(5*Ee),ft+=K*(5*_e),ft+=Z*(5*Y),ft+=V*(5*ve),ft+=ie*(5*se),je+=ft>>>13,ft&=8191,ht=je,ht+=Je*se,ht+=et*le,ht+=$e*(5*it),ht+=ye*(5*Ve),ht+=be*(5*Oe),je=ht>>>13,ht&=8191,ht+=Ae*(5*Ce),ht+=K*(5*Ee),ht+=Z*(5*_e),ht+=V*(5*Y),ht+=ie*(5*ve),je+=ht>>>13,ht&=8191,mt=je,mt+=Je*ve,mt+=et*se,mt+=$e*le,mt+=ye*(5*it),mt+=be*(5*Ve),je=mt>>>13,mt&=8191,mt+=Ae*(5*Oe),mt+=K*(5*Ce),mt+=Z*(5*Ee),mt+=V*(5*_e),mt+=ie*(5*Y),je+=mt>>>13,mt&=8191,Ot=je,Ot+=Je*Y,Ot+=et*ve,Ot+=$e*se,Ot+=ye*le,Ot+=be*(5*it),je=Ot>>>13,Ot&=8191,Ot+=Ae*(5*Ve),Ot+=K*(5*Oe),Ot+=Z*(5*Ce),Ot+=V*(5*Ee),Ot+=ie*(5*_e),je+=Ot>>>13,Ot&=8191,yt=je,yt+=Je*_e,yt+=et*Y,yt+=$e*ve,yt+=ye*se,yt+=be*le,je=yt>>>13,yt&=8191,yt+=Ae*(5*it),yt+=K*(5*Ve),yt+=Z*(5*Oe),yt+=V*(5*Ce),yt+=ie*(5*Ee),je+=yt>>>13,yt&=8191,gt=je,gt+=Je*Ee,gt+=et*_e,gt+=$e*Y,gt+=ye*ve,gt+=be*se,je=gt>>>13,gt&=8191,gt+=Ae*le,gt+=K*(5*it),gt+=Z*(5*Ve),gt+=V*(5*Oe),gt+=ie*(5*Ce),je+=gt>>>13,gt&=8191,bt=je,bt+=Je*Ce,bt+=et*Ee,bt+=$e*_e,bt+=ye*Y,bt+=be*ve,je=bt>>>13,bt&=8191,bt+=Ae*se,bt+=K*le,bt+=Z*(5*it),bt+=V*(5*Ve),bt+=ie*(5*Oe),je+=bt>>>13,bt&=8191,He=je,He+=Je*Oe,He+=et*Ce,He+=$e*Ee,He+=ye*_e,He+=be*Y,je=He>>>13,He&=8191,He+=Ae*ve,He+=K*se,He+=Z*le,He+=V*(5*it),He+=ie*(5*Ve),je+=He>>>13,He&=8191,ot=je,ot+=Je*Ve,ot+=et*Oe,ot+=$e*Ce,ot+=ye*Ee,ot+=be*_e,je=ot>>>13,ot&=8191,ot+=Ae*Y,ot+=K*ve,ot+=Z*se,ot+=V*le,ot+=ie*(5*it),je+=ot>>>13,ot&=8191,Ue=je,Ue+=Je*it,Ue+=et*Ve,Ue+=$e*Oe,Ue+=ye*Ce,Ue+=be*Ee,je=Ue>>>13,Ue&=8191,Ue+=Ae*_e,Ue+=K*Y,Ue+=Z*ve,Ue+=V*se,Ue+=ie*le,je+=Ue>>>13,Ue&=8191,je=(je<<2)+je|0,je=je+ft|0,ft=je&8191,je=je>>>13,ht+=je,Je=ft,et=ht,$e=mt,ye=Ot,be=yt,Ae=gt,K=bt,Z=He,V=ot,ie=Ue,X+=16,q-=16;this.h[0]=Je,this.h[1]=et,this.h[2]=$e,this.h[3]=ye,this.h[4]=be,this.h[5]=Ae,this.h[6]=K,this.h[7]=Z,this.h[8]=V,this.h[9]=ie},F.prototype.finish=function(k,X){var q=new Uint16Array(10),A,Q,ue,de;if(this.leftover){for(de=this.leftover,this.buffer[de++]=1;de<16;de++)this.buffer[de]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(A=this.h[1]>>>13,this.h[1]&=8191,de=2;de<10;de++)this.h[de]+=A,A=this.h[de]>>>13,this.h[de]&=8191;for(this.h[0]+=A*5,A=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=A,A=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=A,q[0]=this.h[0]+5,A=q[0]>>>13,q[0]&=8191,de=1;de<10;de++)q[de]=this.h[de]+A,A=q[de]>>>13,q[de]&=8191;for(q[9]-=8192,Q=(A^1)-1,de=0;de<10;de++)q[de]&=Q;for(Q=~Q,de=0;de<10;de++)this.h[de]=this.h[de]&Q|q[de];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,ue=this.h[0]+this.pad[0],this.h[0]=ue&65535,de=1;de<8;de++)ue=(this.h[de]+this.pad[de]|0)+(ue>>>16)|0,this.h[de]=ue&65535;k[X+0]=this.h[0]>>>0&255,k[X+1]=this.h[0]>>>8&255,k[X+2]=this.h[1]>>>0&255,k[X+3]=this.h[1]>>>8&255,k[X+4]=this.h[2]>>>0&255,k[X+5]=this.h[2]>>>8&255,k[X+6]=this.h[3]>>>0&255,k[X+7]=this.h[3]>>>8&255,k[X+8]=this.h[4]>>>0&255,k[X+9]=this.h[4]>>>8&255,k[X+10]=this.h[5]>>>0&255,k[X+11]=this.h[5]>>>8&255,k[X+12]=this.h[6]>>>0&255,k[X+13]=this.h[6]>>>8&255,k[X+14]=this.h[7]>>>0&255,k[X+15]=this.h[7]>>>8&255},F.prototype.update=function(k,X,q){var A,Q;if(this.leftover){for(Q=16-this.leftover,Q>q&&(Q=q),A=0;A<Q;A++)this.buffer[this.leftover+A]=k[X+A];if(q-=Q,X+=Q,this.leftover+=Q,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(q>=16&&(Q=q-q%16,this.blocks(k,X,Q),X+=Q,q-=Q),q){for(A=0;A<q;A++)this.buffer[this.leftover+A]=k[X+A];this.leftover+=q}};function $(k,X,q,A,Q,ue){var de=new F(ue);return de.update(q,A,Q),de.finish(k,X),0}function P(k,X,q,A,Q,ue){var de=new Uint8Array(16);return $(de,0,q,A,Q,ue),w(k,X,de,0)}function v(k,X,q,A,Q){var ue;if(q<32)return-1;for(M(k,0,X,0,q,A,Q),$(k,16,k,32,q-32,k),ue=0;ue<16;ue++)k[ue]=0;return 0}function g(k,X,q,A,Q){var ue,de=new Uint8Array(32);if(q<32||(W(de,0,32,A,Q),P(X,16,X,32,q-32,de)!==0))return-1;for(M(k,0,X,0,q,A,Q),ue=0;ue<32;ue++)k[ue]=0;return 0}function _(k,X){var q;for(q=0;q<16;q++)k[q]=X[q]|0}function T(k){var X,q,A=1;for(X=0;X<16;X++)q=k[X]+A+65535,A=Math.floor(q/65536),k[X]=q-A*65536;k[0]+=A-1+37*(A-1)}function D(k,X,q){for(var A,Q=~(q-1),ue=0;ue<16;ue++)A=Q&(k[ue]^X[ue]),k[ue]^=A,X[ue]^=A}function I(k,X){var q,A,Q,ue=n(),de=n();for(q=0;q<16;q++)de[q]=X[q];for(T(de),T(de),T(de),A=0;A<2;A++){for(ue[0]=de[0]-65517,q=1;q<15;q++)ue[q]=de[q]-65535-(ue[q-1]>>16&1),ue[q-1]&=65535;ue[15]=de[15]-32767-(ue[14]>>16&1),Q=ue[15]>>16&1,ue[14]&=65535,D(de,ue,1-Q)}for(q=0;q<16;q++)k[2*q]=de[q]&255,k[2*q+1]=de[q]>>8}function j(k,X){var q=new Uint8Array(32),A=new Uint8Array(32);return I(q,k),I(A,X),x(q,0,A,0)}function B(k){var X=new Uint8Array(32);return I(X,k),X[0]&1}function C(k,X){var q;for(q=0;q<16;q++)k[q]=X[2*q]+(X[2*q+1]<<8);k[15]&=32767}function H(k,X,q){for(var A=0;A<16;A++)k[A]=X[A]+q[A]}function ae(k,X,q){for(var A=0;A<16;A++)k[A]=X[A]-q[A]}function U(k,X,q){var A,Q,ue=0,de=0,we=0,De=0,Me=0,Re=0,kt=0,je=0,ft=0,ht=0,mt=0,Ot=0,yt=0,gt=0,bt=0,He=0,ot=0,Ue=0,Je=0,et=0,$e=0,ye=0,be=0,Ae=0,K=0,Z=0,V=0,ie=0,le=0,se=0,ve=0,Y=q[0],_e=q[1],Ee=q[2],Ce=q[3],Oe=q[4],Ve=q[5],it=q[6],_t=q[7],St=q[8],It=q[9],Zt=q[10],bn=q[11],In=q[12],hr=q[13],Jn=q[14],_r=q[15];A=X[0],ue+=A*Y,de+=A*_e,we+=A*Ee,De+=A*Ce,Me+=A*Oe,Re+=A*Ve,kt+=A*it,je+=A*_t,ft+=A*St,ht+=A*It,mt+=A*Zt,Ot+=A*bn,yt+=A*In,gt+=A*hr,bt+=A*Jn,He+=A*_r,A=X[1],de+=A*Y,we+=A*_e,De+=A*Ee,Me+=A*Ce,Re+=A*Oe,kt+=A*Ve,je+=A*it,ft+=A*_t,ht+=A*St,mt+=A*It,Ot+=A*Zt,yt+=A*bn,gt+=A*In,bt+=A*hr,He+=A*Jn,ot+=A*_r,A=X[2],we+=A*Y,De+=A*_e,Me+=A*Ee,Re+=A*Ce,kt+=A*Oe,je+=A*Ve,ft+=A*it,ht+=A*_t,mt+=A*St,Ot+=A*It,yt+=A*Zt,gt+=A*bn,bt+=A*In,He+=A*hr,ot+=A*Jn,Ue+=A*_r,A=X[3],De+=A*Y,Me+=A*_e,Re+=A*Ee,kt+=A*Ce,je+=A*Oe,ft+=A*Ve,ht+=A*it,mt+=A*_t,Ot+=A*St,yt+=A*It,gt+=A*Zt,bt+=A*bn,He+=A*In,ot+=A*hr,Ue+=A*Jn,Je+=A*_r,A=X[4],Me+=A*Y,Re+=A*_e,kt+=A*Ee,je+=A*Ce,ft+=A*Oe,ht+=A*Ve,mt+=A*it,Ot+=A*_t,yt+=A*St,gt+=A*It,bt+=A*Zt,He+=A*bn,ot+=A*In,Ue+=A*hr,Je+=A*Jn,et+=A*_r,A=X[5],Re+=A*Y,kt+=A*_e,je+=A*Ee,ft+=A*Ce,ht+=A*Oe,mt+=A*Ve,Ot+=A*it,yt+=A*_t,gt+=A*St,bt+=A*It,He+=A*Zt,ot+=A*bn,Ue+=A*In,Je+=A*hr,et+=A*Jn,$e+=A*_r,A=X[6],kt+=A*Y,je+=A*_e,ft+=A*Ee,ht+=A*Ce,mt+=A*Oe,Ot+=A*Ve,yt+=A*it,gt+=A*_t,bt+=A*St,He+=A*It,ot+=A*Zt,Ue+=A*bn,Je+=A*In,et+=A*hr,$e+=A*Jn,ye+=A*_r,A=X[7],je+=A*Y,ft+=A*_e,ht+=A*Ee,mt+=A*Ce,Ot+=A*Oe,yt+=A*Ve,gt+=A*it,bt+=A*_t,He+=A*St,ot+=A*It,Ue+=A*Zt,Je+=A*bn,et+=A*In,$e+=A*hr,ye+=A*Jn,be+=A*_r,A=X[8],ft+=A*Y,ht+=A*_e,mt+=A*Ee,Ot+=A*Ce,yt+=A*Oe,gt+=A*Ve,bt+=A*it,He+=A*_t,ot+=A*St,Ue+=A*It,Je+=A*Zt,et+=A*bn,$e+=A*In,ye+=A*hr,be+=A*Jn,Ae+=A*_r,A=X[9],ht+=A*Y,mt+=A*_e,Ot+=A*Ee,yt+=A*Ce,gt+=A*Oe,bt+=A*Ve,He+=A*it,ot+=A*_t,Ue+=A*St,Je+=A*It,et+=A*Zt,$e+=A*bn,ye+=A*In,be+=A*hr,Ae+=A*Jn,K+=A*_r,A=X[10],mt+=A*Y,Ot+=A*_e,yt+=A*Ee,gt+=A*Ce,bt+=A*Oe,He+=A*Ve,ot+=A*it,Ue+=A*_t,Je+=A*St,et+=A*It,$e+=A*Zt,ye+=A*bn,be+=A*In,Ae+=A*hr,K+=A*Jn,Z+=A*_r,A=X[11],Ot+=A*Y,yt+=A*_e,gt+=A*Ee,bt+=A*Ce,He+=A*Oe,ot+=A*Ve,Ue+=A*it,Je+=A*_t,et+=A*St,$e+=A*It,ye+=A*Zt,be+=A*bn,Ae+=A*In,K+=A*hr,Z+=A*Jn,V+=A*_r,A=X[12],yt+=A*Y,gt+=A*_e,bt+=A*Ee,He+=A*Ce,ot+=A*Oe,Ue+=A*Ve,Je+=A*it,et+=A*_t,$e+=A*St,ye+=A*It,be+=A*Zt,Ae+=A*bn,K+=A*In,Z+=A*hr,V+=A*Jn,ie+=A*_r,A=X[13],gt+=A*Y,bt+=A*_e,He+=A*Ee,ot+=A*Ce,Ue+=A*Oe,Je+=A*Ve,et+=A*it,$e+=A*_t,ye+=A*St,be+=A*It,Ae+=A*Zt,K+=A*bn,Z+=A*In,V+=A*hr,ie+=A*Jn,le+=A*_r,A=X[14],bt+=A*Y,He+=A*_e,ot+=A*Ee,Ue+=A*Ce,Je+=A*Oe,et+=A*Ve,$e+=A*it,ye+=A*_t,be+=A*St,Ae+=A*It,K+=A*Zt,Z+=A*bn,V+=A*In,ie+=A*hr,le+=A*Jn,se+=A*_r,A=X[15],He+=A*Y,ot+=A*_e,Ue+=A*Ee,Je+=A*Ce,et+=A*Oe,$e+=A*Ve,ye+=A*it,be+=A*_t,Ae+=A*St,K+=A*It,Z+=A*Zt,V+=A*bn,ie+=A*In,le+=A*hr,se+=A*Jn,ve+=A*_r,ue+=38*ot,de+=38*Ue,we+=38*Je,De+=38*et,Me+=38*$e,Re+=38*ye,kt+=38*be,je+=38*Ae,ft+=38*K,ht+=38*Z,mt+=38*V,Ot+=38*ie,yt+=38*le,gt+=38*se,bt+=38*ve,Q=1,A=ue+Q+65535,Q=Math.floor(A/65536),ue=A-Q*65536,A=de+Q+65535,Q=Math.floor(A/65536),de=A-Q*65536,A=we+Q+65535,Q=Math.floor(A/65536),we=A-Q*65536,A=De+Q+65535,Q=Math.floor(A/65536),De=A-Q*65536,A=Me+Q+65535,Q=Math.floor(A/65536),Me=A-Q*65536,A=Re+Q+65535,Q=Math.floor(A/65536),Re=A-Q*65536,A=kt+Q+65535,Q=Math.floor(A/65536),kt=A-Q*65536,A=je+Q+65535,Q=Math.floor(A/65536),je=A-Q*65536,A=ft+Q+65535,Q=Math.floor(A/65536),ft=A-Q*65536,A=ht+Q+65535,Q=Math.floor(A/65536),ht=A-Q*65536,A=mt+Q+65535,Q=Math.floor(A/65536),mt=A-Q*65536,A=Ot+Q+65535,Q=Math.floor(A/65536),Ot=A-Q*65536,A=yt+Q+65535,Q=Math.floor(A/65536),yt=A-Q*65536,A=gt+Q+65535,Q=Math.floor(A/65536),gt=A-Q*65536,A=bt+Q+65535,Q=Math.floor(A/65536),bt=A-Q*65536,A=He+Q+65535,Q=Math.floor(A/65536),He=A-Q*65536,ue+=Q-1+37*(Q-1),Q=1,A=ue+Q+65535,Q=Math.floor(A/65536),ue=A-Q*65536,A=de+Q+65535,Q=Math.floor(A/65536),de=A-Q*65536,A=we+Q+65535,Q=Math.floor(A/65536),we=A-Q*65536,A=De+Q+65535,Q=Math.floor(A/65536),De=A-Q*65536,A=Me+Q+65535,Q=Math.floor(A/65536),Me=A-Q*65536,A=Re+Q+65535,Q=Math.floor(A/65536),Re=A-Q*65536,A=kt+Q+65535,Q=Math.floor(A/65536),kt=A-Q*65536,A=je+Q+65535,Q=Math.floor(A/65536),je=A-Q*65536,A=ft+Q+65535,Q=Math.floor(A/65536),ft=A-Q*65536,A=ht+Q+65535,Q=Math.floor(A/65536),ht=A-Q*65536,A=mt+Q+65535,Q=Math.floor(A/65536),mt=A-Q*65536,A=Ot+Q+65535,Q=Math.floor(A/65536),Ot=A-Q*65536,A=yt+Q+65535,Q=Math.floor(A/65536),yt=A-Q*65536,A=gt+Q+65535,Q=Math.floor(A/65536),gt=A-Q*65536,A=bt+Q+65535,Q=Math.floor(A/65536),bt=A-Q*65536,A=He+Q+65535,Q=Math.floor(A/65536),He=A-Q*65536,ue+=Q-1+37*(Q-1),k[0]=ue,k[1]=de,k[2]=we,k[3]=De,k[4]=Me,k[5]=Re,k[6]=kt,k[7]=je,k[8]=ft,k[9]=ht,k[10]=mt,k[11]=Ot,k[12]=yt,k[13]=gt,k[14]=bt,k[15]=He}function ce(k,X){U(k,X,X)}function te(k,X){var q=n(),A;for(A=0;A<16;A++)q[A]=X[A];for(A=253;A>=0;A--)ce(q,q),A!==2&&A!==4&&U(q,q,X);for(A=0;A<16;A++)k[A]=q[A]}function z(k,X){var q=n(),A;for(A=0;A<16;A++)q[A]=X[A];for(A=250;A>=0;A--)ce(q,q),A!==1&&U(q,q,X);for(A=0;A<16;A++)k[A]=q[A]}function G(k,X,q){var A=new Uint8Array(32),Q=new Float64Array(80),ue,de,we=n(),De=n(),Me=n(),Re=n(),kt=n(),je=n();for(de=0;de<31;de++)A[de]=X[de];for(A[31]=X[31]&127|64,A[0]&=248,C(Q,q),de=0;de<16;de++)De[de]=Q[de],Re[de]=we[de]=Me[de]=0;for(we[0]=Re[0]=1,de=254;de>=0;--de)ue=A[de>>>3]>>>(de&7)&1,D(we,De,ue),D(Me,Re,ue),H(kt,we,Me),ae(we,we,Me),H(Me,De,Re),ae(De,De,Re),ce(Re,kt),ce(je,we),U(we,Me,we),U(Me,De,kt),H(kt,we,Me),ae(we,we,Me),ce(De,we),ae(Me,Re,je),U(we,Me,l),H(we,we,Re),U(Me,Me,we),U(we,Re,je),U(Re,De,Q),ce(De,kt),D(we,De,ue),D(Me,Re,ue);for(de=0;de<16;de++)Q[de+16]=we[de],Q[de+32]=Me[de],Q[de+48]=De[de],Q[de+64]=Re[de];var ft=Q.subarray(32),ht=Q.subarray(16);return te(ft,ft),U(ht,ht,ft),I(k,ht),0}function S(k,X){return G(k,X,o)}function J(k,X){return r(X,32),S(k,X)}function re(k,X,q){var A=new Uint8Array(32);return G(A,q,X),O(k,i,A,N)}var me=v,ge=g;function xe(k,X,q,A,Q,ue){var de=new Uint8Array(32);return re(de,Q,ue),me(k,X,q,A,de)}function qe(k,X,q,A,Q,ue){var de=new Uint8Array(32);return re(de,Q,ue),ge(k,X,q,A,de)}var Fe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Se(k,X,q,A){for(var Q=new Int32Array(16),ue=new Int32Array(16),de,we,De,Me,Re,kt,je,ft,ht,mt,Ot,yt,gt,bt,He,ot,Ue,Je,et,$e,ye,be,Ae,K,Z,V,ie=k[0],le=k[1],se=k[2],ve=k[3],Y=k[4],_e=k[5],Ee=k[6],Ce=k[7],Oe=X[0],Ve=X[1],it=X[2],_t=X[3],St=X[4],It=X[5],Zt=X[6],bn=X[7],In=0;A>=128;){for(et=0;et<16;et++)$e=8*et+In,Q[et]=q[$e+0]<<24|q[$e+1]<<16|q[$e+2]<<8|q[$e+3],ue[et]=q[$e+4]<<24|q[$e+5]<<16|q[$e+6]<<8|q[$e+7];for(et=0;et<80;et++)if(de=ie,we=le,De=se,Me=ve,Re=Y,kt=_e,je=Ee,ft=Ce,ht=Oe,mt=Ve,Ot=it,yt=_t,gt=St,bt=It,He=Zt,ot=bn,ye=Ce,be=bn,Ae=be&65535,K=be>>>16,Z=ye&65535,V=ye>>>16,ye=(Y>>>14|St<<18)^(Y>>>18|St<<14)^(St>>>9|Y<<23),be=(St>>>14|Y<<18)^(St>>>18|Y<<14)^(Y>>>9|St<<23),Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,ye=Y&_e^~Y&Ee,be=St&It^~St&Zt,Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,ye=Fe[et*2],be=Fe[et*2+1],Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,ye=Q[et%16],be=ue[et%16],Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,K+=Ae>>>16,Z+=K>>>16,V+=Z>>>16,Ue=Z&65535|V<<16,Je=Ae&65535|K<<16,ye=Ue,be=Je,Ae=be&65535,K=be>>>16,Z=ye&65535,V=ye>>>16,ye=(ie>>>28|Oe<<4)^(Oe>>>2|ie<<30)^(Oe>>>7|ie<<25),be=(Oe>>>28|ie<<4)^(ie>>>2|Oe<<30)^(ie>>>7|Oe<<25),Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,ye=ie&le^ie&se^le&se,be=Oe&Ve^Oe&it^Ve&it,Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,K+=Ae>>>16,Z+=K>>>16,V+=Z>>>16,ft=Z&65535|V<<16,ot=Ae&65535|K<<16,ye=Me,be=yt,Ae=be&65535,K=be>>>16,Z=ye&65535,V=ye>>>16,ye=Ue,be=Je,Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,K+=Ae>>>16,Z+=K>>>16,V+=Z>>>16,Me=Z&65535|V<<16,yt=Ae&65535|K<<16,le=de,se=we,ve=De,Y=Me,_e=Re,Ee=kt,Ce=je,ie=ft,Ve=ht,it=mt,_t=Ot,St=yt,It=gt,Zt=bt,bn=He,Oe=ot,et%16===15)for($e=0;$e<16;$e++)ye=Q[$e],be=ue[$e],Ae=be&65535,K=be>>>16,Z=ye&65535,V=ye>>>16,ye=Q[($e+9)%16],be=ue[($e+9)%16],Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,Ue=Q[($e+1)%16],Je=ue[($e+1)%16],ye=(Ue>>>1|Je<<31)^(Ue>>>8|Je<<24)^Ue>>>7,be=(Je>>>1|Ue<<31)^(Je>>>8|Ue<<24)^(Je>>>7|Ue<<25),Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,Ue=Q[($e+14)%16],Je=ue[($e+14)%16],ye=(Ue>>>19|Je<<13)^(Je>>>29|Ue<<3)^Ue>>>6,be=(Je>>>19|Ue<<13)^(Ue>>>29|Je<<3)^(Je>>>6|Ue<<26),Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,K+=Ae>>>16,Z+=K>>>16,V+=Z>>>16,Q[$e]=Z&65535|V<<16,ue[$e]=Ae&65535|K<<16;ye=ie,be=Oe,Ae=be&65535,K=be>>>16,Z=ye&65535,V=ye>>>16,ye=k[0],be=X[0],Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,K+=Ae>>>16,Z+=K>>>16,V+=Z>>>16,k[0]=ie=Z&65535|V<<16,X[0]=Oe=Ae&65535|K<<16,ye=le,be=Ve,Ae=be&65535,K=be>>>16,Z=ye&65535,V=ye>>>16,ye=k[1],be=X[1],Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,K+=Ae>>>16,Z+=K>>>16,V+=Z>>>16,k[1]=le=Z&65535|V<<16,X[1]=Ve=Ae&65535|K<<16,ye=se,be=it,Ae=be&65535,K=be>>>16,Z=ye&65535,V=ye>>>16,ye=k[2],be=X[2],Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,K+=Ae>>>16,Z+=K>>>16,V+=Z>>>16,k[2]=se=Z&65535|V<<16,X[2]=it=Ae&65535|K<<16,ye=ve,be=_t,Ae=be&65535,K=be>>>16,Z=ye&65535,V=ye>>>16,ye=k[3],be=X[3],Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,K+=Ae>>>16,Z+=K>>>16,V+=Z>>>16,k[3]=ve=Z&65535|V<<16,X[3]=_t=Ae&65535|K<<16,ye=Y,be=St,Ae=be&65535,K=be>>>16,Z=ye&65535,V=ye>>>16,ye=k[4],be=X[4],Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,K+=Ae>>>16,Z+=K>>>16,V+=Z>>>16,k[4]=Y=Z&65535|V<<16,X[4]=St=Ae&65535|K<<16,ye=_e,be=It,Ae=be&65535,K=be>>>16,Z=ye&65535,V=ye>>>16,ye=k[5],be=X[5],Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,K+=Ae>>>16,Z+=K>>>16,V+=Z>>>16,k[5]=_e=Z&65535|V<<16,X[5]=It=Ae&65535|K<<16,ye=Ee,be=Zt,Ae=be&65535,K=be>>>16,Z=ye&65535,V=ye>>>16,ye=k[6],be=X[6],Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,K+=Ae>>>16,Z+=K>>>16,V+=Z>>>16,k[6]=Ee=Z&65535|V<<16,X[6]=Zt=Ae&65535|K<<16,ye=Ce,be=bn,Ae=be&65535,K=be>>>16,Z=ye&65535,V=ye>>>16,ye=k[7],be=X[7],Ae+=be&65535,K+=be>>>16,Z+=ye&65535,V+=ye>>>16,K+=Ae>>>16,Z+=K>>>16,V+=Z>>>16,k[7]=Ce=Z&65535|V<<16,X[7]=bn=Ae&65535|K<<16,In+=128,A-=128}return A}function lt(k,X,q){var A=new Int32Array(8),Q=new Int32Array(8),ue=new Uint8Array(256),de,we=q;for(A[0]=1779033703,A[1]=3144134277,A[2]=1013904242,A[3]=2773480762,A[4]=1359893119,A[5]=2600822924,A[6]=528734635,A[7]=1541459225,Q[0]=4089235720,Q[1]=2227873595,Q[2]=4271175723,Q[3]=1595750129,Q[4]=2917565137,Q[5]=725511199,Q[6]=4215389547,Q[7]=327033209,Se(A,Q,X,q),q%=128,de=0;de<q;de++)ue[de]=X[we-q+de];for(ue[q]=128,q=256-128*(q<112?1:0),ue[q-9]=0,h(ue,q-8,we/536870912|0,we<<3),Se(A,Q,ue,q),de=0;de<8;de++)h(k,8*de,A[de],Q[de]);return 0}function Qe(k,X){var q=n(),A=n(),Q=n(),ue=n(),de=n(),we=n(),De=n(),Me=n(),Re=n();ae(q,k[1],k[0]),ae(Re,X[1],X[0]),U(q,q,Re),H(A,k[0],k[1]),H(Re,X[0],X[1]),U(A,A,Re),U(Q,k[3],X[3]),U(Q,Q,u),U(ue,k[2],X[2]),H(ue,ue,ue),ae(de,A,q),ae(we,ue,Q),H(De,ue,Q),H(Me,A,q),U(k[0],de,we),U(k[1],Me,De),U(k[2],De,we),U(k[3],de,Me)}function tt(k,X,q){var A;for(A=0;A<4;A++)D(k[A],X[A],q)}function xt(k,X){var q=n(),A=n(),Q=n();te(Q,X[2]),U(q,X[0],Q),U(A,X[1],Q),I(k,A),k[31]^=B(q)<<7}function ze(k,X,q){var A,Q;for(_(k[0],s),_(k[1],a),_(k[2],a),_(k[3],s),Q=255;Q>=0;--Q)A=q[Q/8|0]>>(Q&7)&1,tt(k,X,A),Qe(X,k),Qe(k,k),tt(k,X,A)}function Ye(k,X){var q=[n(),n(),n(),n()];_(q[0],f),_(q[1],d),_(q[2],a),U(q[3],f,d),ze(k,q,X)}function Dt(k,X,q){var A=new Uint8Array(64),Q=[n(),n(),n(),n()],ue;for(q||r(X,32),lt(A,X,32),A[0]&=248,A[31]&=127,A[31]|=64,Ye(Q,A),xt(k,Q),ue=0;ue<32;ue++)X[ue+32]=k[ue];return 0}var Te=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Ie(k,X){var q,A,Q,ue;for(A=63;A>=32;--A){for(q=0,Q=A-32,ue=A-12;Q<ue;++Q)X[Q]+=q-16*X[A]*Te[Q-(A-32)],q=Math.floor((X[Q]+128)/256),X[Q]-=q*256;X[Q]+=q,X[A]=0}for(q=0,Q=0;Q<32;Q++)X[Q]+=q-(X[31]>>4)*Te[Q],q=X[Q]>>8,X[Q]&=255;for(Q=0;Q<32;Q++)X[Q]-=q*Te[Q];for(A=0;A<32;A++)X[A+1]+=X[A]>>8,k[A]=X[A]&255}function We(k){var X=new Float64Array(64),q;for(q=0;q<64;q++)X[q]=k[q];for(q=0;q<64;q++)k[q]=0;Ie(k,X)}function Ke(k,X,q,A){var Q=new Uint8Array(64),ue=new Uint8Array(64),de=new Uint8Array(64),we,De,Me=new Float64Array(64),Re=[n(),n(),n(),n()];lt(Q,A,32),Q[0]&=248,Q[31]&=127,Q[31]|=64;var kt=q+64;for(we=0;we<q;we++)k[64+we]=X[we];for(we=0;we<32;we++)k[32+we]=Q[32+we];for(lt(de,k.subarray(32),q+32),We(de),Ye(Re,de),xt(k,Re),we=32;we<64;we++)k[we]=A[we];for(lt(ue,k,q+64),We(ue),we=0;we<64;we++)Me[we]=0;for(we=0;we<32;we++)Me[we]=de[we];for(we=0;we<32;we++)for(De=0;De<32;De++)Me[we+De]+=ue[we]*Q[De];return Ie(k.subarray(32),Me),kt}function ut(k,X){var q=n(),A=n(),Q=n(),ue=n(),de=n(),we=n(),De=n();return _(k[2],a),C(k[1],X),ce(Q,k[1]),U(ue,Q,c),ae(Q,Q,k[2]),H(ue,k[2],ue),ce(de,ue),ce(we,de),U(De,we,de),U(q,De,Q),U(q,q,ue),z(q,q),U(q,q,Q),U(q,q,ue),U(q,q,ue),U(k[0],q,ue),ce(A,k[0]),U(A,A,ue),j(A,Q)&&U(k[0],k[0],p),ce(A,k[0]),U(A,A,ue),j(A,Q)?-1:(B(k[0])===X[31]>>7&&ae(k[0],s,k[0]),U(k[3],k[0],k[1]),0)}function Nt(k,X,q,A){var Q,ue=new Uint8Array(32),de=new Uint8Array(64),we=[n(),n(),n(),n()],De=[n(),n(),n(),n()];if(q<64||ut(De,A))return-1;for(Q=0;Q<q;Q++)k[Q]=X[Q];for(Q=0;Q<32;Q++)k[Q+32]=A[Q];if(lt(de,k,q),We(de),ze(we,De,de),Ye(De,X.subarray(32)),Qe(we,De),xt(ue,we),q-=64,x(X,0,ue,0)){for(Q=0;Q<q;Q++)k[Q]=0;return-1}for(Q=0;Q<q;Q++)k[Q]=X[Q+64];return q}var Le=32,Pe=24,Ut=32,wt=16,Tt=32,_n=32,Pt=32,Kt=32,yn=32,Vt=Pe,Yt=Ut,dn=wt,pt=64,vt=32,Jt=64,Ct=32,At=64;e.lowlevel={crypto_core_hsalsa20:O,crypto_stream_xor:M,crypto_stream:W,crypto_stream_salsa20_xor:R,crypto_stream_salsa20:L,crypto_onetimeauth:$,crypto_onetimeauth_verify:P,crypto_verify_16:w,crypto_verify_32:x,crypto_secretbox:v,crypto_secretbox_open:g,crypto_scalarmult:G,crypto_scalarmult_base:S,crypto_box_beforenm:re,crypto_box_afternm:me,crypto_box:xe,crypto_box_open:qe,crypto_box_keypair:J,crypto_hash:lt,crypto_sign:Ke,crypto_sign_keypair:Dt,crypto_sign_open:Nt,crypto_secretbox_KEYBYTES:Le,crypto_secretbox_NONCEBYTES:Pe,crypto_secretbox_ZEROBYTES:Ut,crypto_secretbox_BOXZEROBYTES:wt,crypto_scalarmult_BYTES:Tt,crypto_scalarmult_SCALARBYTES:_n,crypto_box_PUBLICKEYBYTES:Pt,crypto_box_SECRETKEYBYTES:Kt,crypto_box_BEFORENMBYTES:yn,crypto_box_NONCEBYTES:Vt,crypto_box_ZEROBYTES:Yt,crypto_box_BOXZEROBYTES:dn,crypto_sign_BYTES:pt,crypto_sign_PUBLICKEYBYTES:vt,crypto_sign_SECRETKEYBYTES:Jt,crypto_sign_SEEDBYTES:Ct,crypto_hash_BYTES:At,gf:n,D:c,L:Te,pack25519:I,unpack25519:C,M:U,A:H,S:ce,Z:ae,pow2523:z,add:Qe,set25519:_,modL:Ie,scalarmult:ze,scalarbase:Ye};function un(k,X){if(k.length!==Le)throw new Error("bad key size");if(X.length!==Pe)throw new Error("bad nonce size")}function Rt(k,X){if(k.length!==Pt)throw new Error("bad public key size");if(X.length!==Kt)throw new Error("bad secret key size")}function at(){for(var k=0;k<arguments.length;k++)if(!(arguments[k]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ft(k){for(var X=0;X<k.length;X++)k[X]=0}e.randomBytes=function(k){var X=new Uint8Array(k);return r(X,k),X},e.secretbox=function(k,X,q){at(k,X,q),un(q,X);for(var A=new Uint8Array(Ut+k.length),Q=new Uint8Array(A.length),ue=0;ue<k.length;ue++)A[ue+Ut]=k[ue];return v(Q,A,A.length,X,q),Q.subarray(wt)},e.secretbox.open=function(k,X,q){at(k,X,q),un(q,X);for(var A=new Uint8Array(wt+k.length),Q=new Uint8Array(A.length),ue=0;ue<k.length;ue++)A[ue+wt]=k[ue];return A.length<32||g(Q,A,A.length,X,q)!==0?null:Q.subarray(Ut)},e.secretbox.keyLength=Le,e.secretbox.nonceLength=Pe,e.secretbox.overheadLength=wt,e.scalarMult=function(k,X){if(at(k,X),k.length!==_n)throw new Error("bad n size");if(X.length!==Tt)throw new Error("bad p size");var q=new Uint8Array(Tt);return G(q,k,X),q},e.scalarMult.base=function(k){if(at(k),k.length!==_n)throw new Error("bad n size");var X=new Uint8Array(Tt);return S(X,k),X},e.scalarMult.scalarLength=_n,e.scalarMult.groupElementLength=Tt,e.box=function(k,X,q,A){var Q=e.box.before(q,A);return e.secretbox(k,X,Q)},e.box.before=function(k,X){at(k,X),Rt(k,X);var q=new Uint8Array(yn);return re(q,k,X),q},e.box.after=e.secretbox,e.box.open=function(k,X,q,A){var Q=e.box.before(q,A);return e.secretbox.open(k,X,Q)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var k=new Uint8Array(Pt),X=new Uint8Array(Kt);return J(k,X),{publicKey:k,secretKey:X}},e.box.keyPair.fromSecretKey=function(k){if(at(k),k.length!==Kt)throw new Error("bad secret key size");var X=new Uint8Array(Pt);return S(X,k),{publicKey:X,secretKey:new Uint8Array(k)}},e.box.publicKeyLength=Pt,e.box.secretKeyLength=Kt,e.box.sharedKeyLength=yn,e.box.nonceLength=Vt,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(k,X){if(at(k,X),X.length!==Jt)throw new Error("bad secret key size");var q=new Uint8Array(pt+k.length);return Ke(q,k,k.length,X),q},e.sign.open=function(k,X){if(at(k,X),X.length!==vt)throw new Error("bad public key size");var q=new Uint8Array(k.length),A=Nt(q,k,k.length,X);if(A<0)return null;for(var Q=new Uint8Array(A),ue=0;ue<Q.length;ue++)Q[ue]=q[ue];return Q},e.sign.detached=function(k,X){for(var q=e.sign(k,X),A=new Uint8Array(pt),Q=0;Q<A.length;Q++)A[Q]=q[Q];return A},e.sign.detached.verify=function(k,X,q){if(at(k,X,q),X.length!==pt)throw new Error("bad signature size");if(q.length!==vt)throw new Error("bad public key size");var A=new Uint8Array(pt+k.length),Q=new Uint8Array(pt+k.length),ue;for(ue=0;ue<pt;ue++)A[ue]=X[ue];for(ue=0;ue<k.length;ue++)A[ue+pt]=k[ue];return Nt(Q,A,A.length,q)>=0},e.sign.keyPair=function(){var k=new Uint8Array(vt),X=new Uint8Array(Jt);return Dt(k,X),{publicKey:k,secretKey:X}},e.sign.keyPair.fromSecretKey=function(k){if(at(k),k.length!==Jt)throw new Error("bad secret key size");for(var X=new Uint8Array(vt),q=0;q<X.length;q++)X[q]=k[32+q];return{publicKey:X,secretKey:new Uint8Array(k)}},e.sign.keyPair.fromSeed=function(k){if(at(k),k.length!==Ct)throw new Error("bad seed size");for(var X=new Uint8Array(vt),q=new Uint8Array(Jt),A=0;A<32;A++)q[A]=k[A];return Dt(X,q,!0),{publicKey:X,secretKey:q}},e.sign.publicKeyLength=vt,e.sign.secretKeyLength=Jt,e.sign.seedLength=Ct,e.sign.signatureLength=pt,e.hash=function(k){at(k);var X=new Uint8Array(At);return lt(X,k,k.length),X},e.hash.hashLength=At,e.verify=function(k,X){return at(k,X),k.length===0||X.length===0||k.length!==X.length?!1:m(k,0,X,0,k.length)===0},e.setPRNG=function(k){r=k},function(){var k=typeof self<"u"?self.crypto||self.msCrypto:null;if(k&&k.getRandomValues){var X=65536;e.setPRNG(function(q,A){var Q,ue=new Uint8Array(A);for(Q=0;Q<A;Q+=X)k.getRandomValues(ue.subarray(Q,Q+Math.min(A-Q,X)));for(Q=0;Q<A;Q++)q[Q]=ue[Q];Ft(ue)})}else typeof Xa<"u"&&(k=Mp,k&&k.randomBytes&&e.setPRNG(function(q,A){var Q,ue=k.randomBytes(A);for(Q=0;Q<A;Q++)q[Q]=ue[Q];Ft(ue)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(YE);var au=YE.exports,bg={},ZE={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():(e.nacl||(e.nacl={}),e.nacl.util=n())})(ne,function(){var e={};function n(r){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(r))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(r){if(typeof r!="string")throw new TypeError("expected string");var i,o=unescape(encodeURIComponent(r)),s=new Uint8Array(o.length);for(i=0;i<o.length;i++)s[i]=o.charCodeAt(i);return s},e.encodeUTF8=function(r){var i,o=[];for(i=0;i<r.length;i++)o.push(String.fromCharCode(r[i]));return decodeURIComponent(escape(o.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(e.encodeBase64=function(r){return Buffer.from(r).toString("base64")},e.decodeBase64=function(r){return n(r),new Uint8Array(Array.prototype.slice.call(Buffer.from(r,"base64"),0))}):(e.encodeBase64=function(r){return new Buffer(r).toString("base64")},e.decodeBase64=function(r){return n(r),new Uint8Array(Array.prototype.slice.call(new Buffer(r,"base64"),0))}):(e.encodeBase64=function(r){var i,o=[],s=r.length;for(i=0;i<s;i++)o.push(String.fromCharCode(r[i]));return btoa(o.join(""))},e.decodeBase64=function(r){n(r);var i,o=atob(r),s=new Uint8Array(o.length);for(i=0;i<o.length;i++)s[i]=o.charCodeAt(i);return s}),e})})(ZE);var oR=ZE.exports;function sR(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,w=0,x=0,y=h.length;x!==y&&h[x]===0;)x++,m++;for(var b=(y-x)*u+1>>>0,E=new Uint8Array(b);x!==y;){for(var O=h[x],N=0,R=b-1;(O!==0||N<w)&&R!==-1;R--,N++)O+=256*E[R]>>>0,E[R]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");w=N,x++}for(var L=b-w;L!==b&&E[L]===0;)L++;for(var W=l.repeat(m);L<b;++L)W+=t.charAt(E[L]);return W}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var m=0;if(h[m]!==" "){for(var w=0,x=0;h[m]===l;)w++,m++;for(var y=(h.length-m)*c+1>>>0,b=new Uint8Array(y);h[m];){var E=n[h.charCodeAt(m)];if(E===255)return;for(var O=0,N=y-1;(E!==0||O<x)&&N!==-1;N--,O++)E+=a*b[N]>>>0,b[N]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");x=O,m++}if(h[m]!==" "){for(var R=y-x;R!==y&&b[R]===0;)R++;for(var L=new Uint8Array(w+(y-R)),W=w;R!==y;)L[W++]=b[R++];return L}}}function p(h){var m=d(h);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var aR=sR,lR=aR;const cR=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},uR=t=>new TextEncoder().encode(t),fR=t=>new TextDecoder().decode(t);let dR=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},hR=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return e8(this,e)}},pR=class{constructor(e){this.decoders=e}or(e){return e8(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const e8=(t,e)=>new pR({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let gR=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new dR(e,n,r),this.decoder=new hR(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Bp=({name:t,prefix:e,encode:n,decode:r})=>new gR(t,e,n,r),bf=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=lR(n,e);return Bp({prefix:t,name:e,encode:r,decode:o=>cR(i(o))})},vR=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;const s=new Uint8Array(o*n/8|0);let a=0,l=0,c=0;for(let u=0;u<o;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|f,a+=n,a>=8&&(a-=8,s[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return s},mR=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let o="",s=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],s+=8;s>n;)s-=n,o+=e[i&a>>s];if(s&&(o+=e[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o},Tr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Bp({prefix:e,name:t,encode(i){return mR(i,r,n)},decode(i){return vR(i,r,n,t)}}),yR=Bp({prefix:"\0",name:"identity",encode:t=>fR(t),decode:t=>uR(t)}),bR=Object.freeze(Object.defineProperty({__proto__:null,identity:yR},Symbol.toStringTag,{value:"Module"})),xR=Tr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),wR=Object.freeze(Object.defineProperty({__proto__:null,base2:xR},Symbol.toStringTag,{value:"Module"})),_R=Tr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),ER=Object.freeze(Object.defineProperty({__proto__:null,base8:_R},Symbol.toStringTag,{value:"Module"})),CR=bf({prefix:"9",name:"base10",alphabet:"0123456789"}),AR=Object.freeze(Object.defineProperty({__proto__:null,base10:CR},Symbol.toStringTag,{value:"Module"})),SR=Tr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),OR=Tr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),DR=Object.freeze(Object.defineProperty({__proto__:null,base16:SR,base16upper:OR},Symbol.toStringTag,{value:"Module"})),RR=Tr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),TR=Tr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),NR=Tr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),PR=Tr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),kR=Tr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),IR=Tr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),MR=Tr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),BR=Tr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),FR=Tr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),LR=Object.freeze(Object.defineProperty({__proto__:null,base32:RR,base32hex:kR,base32hexpad:MR,base32hexpadupper:BR,base32hexupper:IR,base32pad:NR,base32padupper:PR,base32upper:TR,base32z:FR},Symbol.toStringTag,{value:"Module"})),UR=bf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),$R=bf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),jR=Object.freeze(Object.defineProperty({__proto__:null,base36:UR,base36upper:$R},Symbol.toStringTag,{value:"Module"})),KR=bf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),WR=bf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),HR=Object.freeze(Object.defineProperty({__proto__:null,base58btc:KR,base58flickr:WR},Symbol.toStringTag,{value:"Module"})),XR=Tr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zR=Tr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),qR=Tr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),VR=Tr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),JR=Object.freeze(Object.defineProperty({__proto__:null,base64:XR,base64pad:zR,base64url:qR,base64urlpad:VR},Symbol.toStringTag,{value:"Module"})),t8=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),GR=t8.reduce((t,e,n)=>(t[n]=e,t),[]),QR=t8.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function YR(t){return t.reduce((e,n)=>(e+=GR[n],e),"")}function ZR(t){const e=[];for(const n of t){const r=QR[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const eT=Bp({prefix:"🚀",name:"base256emoji",encode:YR,decode:ZR}),tT=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:eT},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const q6={...bR,...wR,...ER,...AR,...DR,...LR,...jR,...HR,...JR,...tT};function nT(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function n8(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const V6=n8("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),xg=n8("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=nT(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),rT={utf8:V6,"utf-8":V6,hex:q6.base16,latin1:xg,ascii:xg,binary:xg,...q6};function iT(t,e="utf8"){const n=rT[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const oT=Object.freeze(Object.defineProperty({__proto__:null,toString:iT},Symbol.toStringTag,{value:"Module"})),sT=gp(oT);var r8={},Ht={},i8={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(a,l){var c=a>>>16&65535,u=a&65535,f=l>>>16&65535,d=l&65535;return u*d+(c*d+u*f<<16>>>0)|0}t.mul=Math.imul||e;function n(a,l){return a+l|0}t.add=n;function r(a,l){return a-l|0}t.sub=r;function i(a,l){return a<<l|a>>>32-l}t.rotl=i;function o(a,l){return a<<32-l|a>>>l}t.rotr=o;function s(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}t.isInteger=Number.isInteger||s,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(a){return t.isInteger(a)&&a>=-t.MAX_SAFE_INTEGER&&a<=t.MAX_SAFE_INTEGER}})(i8);Object.defineProperty(Ht,"__esModule",{value:!0});var o8=i8;function aT(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Ht.readInt16BE=aT;function lT(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Ht.readUint16BE=lT;function cT(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Ht.readInt16LE=cT;function uT(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Ht.readUint16LE=uT;function s8(t,e,n){return e===void 0&&(e=new Uint8Array(2)),n===void 0&&(n=0),e[n+0]=t>>>8,e[n+1]=t>>>0,e}Ht.writeUint16BE=s8;Ht.writeInt16BE=s8;function a8(t,e,n){return e===void 0&&(e=new Uint8Array(2)),n===void 0&&(n=0),e[n+0]=t>>>0,e[n+1]=t>>>8,e}Ht.writeUint16LE=a8;Ht.writeInt16LE=a8;function cy(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Ht.readInt32BE=cy;function uy(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Ht.readUint32BE=uy;function fy(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Ht.readInt32LE=fy;function dy(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Ht.readUint32LE=dy;function Lh(t,e,n){return e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0),e[n+0]=t>>>24,e[n+1]=t>>>16,e[n+2]=t>>>8,e[n+3]=t>>>0,e}Ht.writeUint32BE=Lh;Ht.writeInt32BE=Lh;function Uh(t,e,n){return e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0),e[n+0]=t>>>0,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24,e}Ht.writeUint32LE=Uh;Ht.writeInt32LE=Uh;function fT(t,e){e===void 0&&(e=0);var n=cy(t,e),r=cy(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Ht.readInt64BE=fT;function dT(t,e){e===void 0&&(e=0);var n=uy(t,e),r=uy(t,e+4);return n*4294967296+r}Ht.readUint64BE=dT;function hT(t,e){e===void 0&&(e=0);var n=fy(t,e),r=fy(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Ht.readInt64LE=hT;function pT(t,e){e===void 0&&(e=0);var n=dy(t,e),r=dy(t,e+4);return r*4294967296+n}Ht.readUint64LE=pT;function l8(t,e,n){return e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0),Lh(t/4294967296>>>0,e,n),Lh(t>>>0,e,n+4),e}Ht.writeUint64BE=l8;Ht.writeInt64BE=l8;function c8(t,e,n){return e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0),Uh(t>>>0,e,n),Uh(t/4294967296>>>0,e,n+4),e}Ht.writeUint64LE=c8;Ht.writeInt64LE=c8;function gT(t,e,n){if(n===void 0&&(n=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,i=1,o=t/8+n-1;o>=n;o--)r+=e[o]*i,i*=256;return r}Ht.readUintBE=gT;function vT(t,e,n){if(n===void 0&&(n=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,i=1,o=n;o<n+t/8;o++)r+=e[o]*i,i*=256;return r}Ht.readUintLE=vT;function mT(t,e,n,r){if(n===void 0&&(n=new Uint8Array(t/8)),r===void 0&&(r=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!o8.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,o=t/8+r-1;o>=r;o--)n[o]=e/i&255,i*=256;return n}Ht.writeUintBE=mT;function yT(t,e,n,r){if(n===void 0&&(n=new Uint8Array(t/8)),r===void 0&&(r=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!o8.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,o=r;o<r+t/8;o++)n[o]=e/i&255,i*=256;return n}Ht.writeUintLE=yT;function bT(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat32(e)}Ht.readFloat32BE=bT;function xT(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat32(e,!0)}Ht.readFloat32LE=xT;function wT(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat64(e)}Ht.readFloat64BE=wT;function _T(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat64(e,!0)}Ht.readFloat64LE=_T;function ET(t,e,n){e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat32(n,t),e}Ht.writeFloat32BE=ET;function CT(t,e,n){e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat32(n,t,!0),e}Ht.writeFloat32LE=CT;function AT(t,e,n){e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat64(n,t),e}Ht.writeFloat64BE=AT;function ST(t,e,n){e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat64(n,t,!0),e}Ht.writeFloat64LE=ST;var xl={};Object.defineProperty(xl,"__esModule",{value:!0});function OT(t){for(var e=0;e<t.length;e++)t[e]=0;return t}xl.wipe=OT;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ht,n=xl;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var r=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._temp),this.reset()},a.prototype.update=function(l,c){if(c===void 0&&(c=l.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var u=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&c>0;)this._buffer[this._bufferLength++]=l[u++],c--;this._bufferLength===this.blockSize&&(o(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(u=o(this._temp,this._state,l,u,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=l[u++],c--;return this},a.prototype.finish=function(l){if(!this._finished){var c=this._bytesHashed,u=this._bufferLength,f=c/536870912|0,d=c<<3,p=c%64<56?64:128;this._buffer[u]=128;for(var h=u+1;h<p-8;h++)this._buffer[h]=0;e.writeUint32BE(f,this._buffer,p-8),e.writeUint32BE(d,this._buffer,p-4),o(this._temp,this._state,this._buffer,0,p),this._finished=!0}for(var h=0;h<this.digestLength/4;h++)e.writeUint32BE(this._state[h],l,h*4);return this},a.prototype.digest=function(){var l=new Uint8Array(this.digestLength);return this.finish(l),l},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(l){return this._state.set(l.state),this._bufferLength=l.bufferLength,l.buffer&&this._buffer.set(l.buffer),this._bytesHashed=l.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(l){n.wipe(l.state),l.buffer&&n.wipe(l.buffer),l.bufferLength=0,l.bytesHashed=0},a}();t.SHA256=r;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function o(a,l,c,u,f){for(;f>=64;){for(var d=l[0],p=l[1],h=l[2],m=l[3],w=l[4],x=l[5],y=l[6],b=l[7],E=0;E<16;E++){var O=u+E*4;a[E]=e.readUint32BE(c,O)}for(var E=16;E<64;E++){var N=a[E-2],R=(N>>>17|N<<15)^(N>>>19|N<<13)^N>>>10;N=a[E-15];var L=(N>>>7|N<<25)^(N>>>18|N<<14)^N>>>3;a[E]=(R+a[E-7]|0)+(L+a[E-16]|0)}for(var E=0;E<64;E++){var R=(((w>>>6|w<<26)^(w>>>11|w<<21)^(w>>>25|w<<7))+(w&x^~w&y)|0)+(b+(i[E]+a[E]|0)|0)|0,L=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&p^d&h^p&h)|0;b=y,y=x,x=w,w=m+R|0,m=h,h=p,p=d,d=R+L|0}l[0]+=d,l[1]+=p,l[2]+=h,l[3]+=m,l[4]+=w,l[5]+=x,l[6]+=y,l[7]+=b,u+=64,f-=64}return u}function s(a){var l=new r;l.update(a);var c=l.digest();return l.clean(),c}t.hash=s})(r8);var Mu={},Go={},wg={},hy={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ne<"u"&&ne,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a=typeof o<"u"&&o||typeof self<"u"&&self||typeof ne<"u"&&ne||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(g){return g&&DataView.prototype.isPrototypeOf(g)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(g){return g&&u.indexOf(Object.prototype.toString.call(g))>-1};function d(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(g)||g==="")throw new TypeError('Invalid character in header field name: "'+g+'"');return g.toLowerCase()}function p(g){return typeof g!="string"&&(g=String(g)),g}function h(g){var _={next:function(){var T=g.shift();return{done:T===void 0,value:T}}};return l.iterable&&(_[Symbol.iterator]=function(){return _}),_}function m(g){this.map={},g instanceof m?g.forEach(function(_,T){this.append(T,_)},this):Array.isArray(g)?g.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(_){this.append(_,g[_])},this)}m.prototype.append=function(g,_){g=d(g),_=p(_);var T=this.map[g];this.map[g]=T?T+", "+_:_},m.prototype.delete=function(g){delete this.map[d(g)]},m.prototype.get=function(g){return g=d(g),this.has(g)?this.map[g]:null},m.prototype.has=function(g){return this.map.hasOwnProperty(d(g))},m.prototype.set=function(g,_){this.map[d(g)]=p(_)},m.prototype.forEach=function(g,_){for(var T in this.map)this.map.hasOwnProperty(T)&&g.call(_,this.map[T],T,this)},m.prototype.keys=function(){var g=[];return this.forEach(function(_,T){g.push(T)}),h(g)},m.prototype.values=function(){var g=[];return this.forEach(function(_){g.push(_)}),h(g)},m.prototype.entries=function(){var g=[];return this.forEach(function(_,T){g.push([T,_])}),h(g)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function w(g){if(!g._noBody){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}}function x(g){return new Promise(function(_,T){g.onload=function(){_(g.result)},g.onerror=function(){T(g.error)}})}function y(g){var _=new FileReader,T=x(_);return _.readAsArrayBuffer(g),T}function b(g){var _=new FileReader,T=x(_),D=/charset=([A-Za-z0-9_-]+)/.exec(g.type),I=D?D[1]:"utf-8";return _.readAsText(g,I),T}function E(g){for(var _=new Uint8Array(g),T=new Array(_.length),D=0;D<_.length;D++)T[D]=String.fromCharCode(_[D]);return T.join("")}function O(g){if(g.slice)return g.slice(0);var _=new Uint8Array(g.byteLength);return _.set(new Uint8Array(g)),_.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(g){this.bodyUsed=this.bodyUsed,this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:l.blob&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:l.formData&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():l.arrayBuffer&&l.blob&&c(g)?(this._bodyArrayBuffer=O(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(g)||f(g))?this._bodyArrayBuffer=O(g):this._bodyText=g=Object.prototype.toString.call(g):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var g=w(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var g=w(this);return g||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var g=w(this);if(g)return g;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function L(g){var _=g.toUpperCase();return R.indexOf(_)>-1?_:g}function W(g,_){if(!(this instanceof W))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var T=_.body;if(g instanceof W){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,_.headers||(this.headers=new m(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,!T&&g._bodyInit!=null&&(T=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new m(_.headers)),this.method=L(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||function(){if("AbortController"in a){var j=new AbortController;return j.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&T)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(T),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var D=/([?&])_=[^&]*/;if(D.test(this.url))this.url=this.url.replace(D,"$1_="+new Date().getTime());else{var I=/\?/;this.url+=(I.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}W.prototype.clone=function(){return new W(this,{body:this._bodyInit})};function M(g){var _=new FormData;return g.trim().split("&").forEach(function(T){if(T){var D=T.split("="),I=D.shift().replace(/\+/g," "),j=D.join("=").replace(/\+/g," ");_.append(decodeURIComponent(I),decodeURIComponent(j))}}),_}function F(g){var _=new m,T=g.replace(/\r?\n[\t ]+/g," ");return T.split("\r").map(function(D){return D.indexOf(`
`)===0?D.substr(1,D.length):D}).forEach(function(D){var I=D.split(":"),j=I.shift().trim();if(j){var B=I.join(":").trim();try{_.append(j,B)}catch(C){console.warn("Response "+C.message)}}}),_}N.call(W.prototype);function $(g,_){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new m(_.headers),this.url=_.url||"",this._initBody(g)}N.call($.prototype),$.prototype.clone=function(){return new $(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},$.error=function(){var g=new $(null,{status:200,statusText:""});return g.ok=!1,g.status=0,g.type="error",g};var P=[301,302,303,307,308];$.redirect=function(g,_){if(P.indexOf(_)===-1)throw new RangeError("Invalid status code");return new $(null,{status:_,headers:{location:g}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(_,T){this.message=_,this.name=T;var D=Error(_);this.stack=D.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function v(g,_){return new Promise(function(T,D){var I=new W(g,_);if(I.signal&&I.signal.aborted)return D(new s.DOMException("Aborted","AbortError"));var j=new XMLHttpRequest;function B(){j.abort()}j.onload=function(){var ae={statusText:j.statusText,headers:F(j.getAllResponseHeaders()||"")};I.url.indexOf("file://")===0&&(j.status<200||j.status>599)?ae.status=200:ae.status=j.status,ae.url="responseURL"in j?j.responseURL:ae.headers.get("X-Request-URL");var U="response"in j?j.response:j.responseText;setTimeout(function(){T(new $(U,ae))},0)},j.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},j.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request timed out"))},0)},j.onabort=function(){setTimeout(function(){D(new s.DOMException("Aborted","AbortError"))},0)};function C(ae){try{return ae===""&&a.location.href?a.location.href:ae}catch{return ae}}if(j.open(I.method,C(I.url),!0),I.credentials==="include"?j.withCredentials=!0:I.credentials==="omit"&&(j.withCredentials=!1),"responseType"in j&&(l.blob?j.responseType="blob":l.arrayBuffer&&(j.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof m||a.Headers&&_.headers instanceof a.Headers)){var H=[];Object.getOwnPropertyNames(_.headers).forEach(function(ae){H.push(d(ae)),j.setRequestHeader(ae,p(_.headers[ae]))}),I.headers.forEach(function(ae,U){H.indexOf(U)===-1&&j.setRequestHeader(U,ae)})}else I.headers.forEach(function(ae,U){j.setRequestHeader(U,ae)});I.signal&&(I.signal.addEventListener("abort",B),j.onreadystatechange=function(){j.readyState===4&&I.signal.removeEventListener("abort",B)}),j.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}return v.polyfill=!0,a.fetch||(a.fetch=v,a.Headers=m,a.Request=W,a.Response=$),s.Headers=m,s.Request=W,s.Response=$,s.fetch=v,s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(hy,hy.exports);var DT=hy.exports,Hn={},wl={},u8={},ub={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ERROR=t.STANDARD_ERROR_MAP=t.SERVER_ERROR_CODE_RANGE=t.RESERVED_ERROR_CODES=t.SERVER_ERROR=t.INTERNAL_ERROR=t.INVALID_PARAMS=t.METHOD_NOT_FOUND=t.INVALID_REQUEST=t.PARSE_ERROR=t.OKX_CONNECT_ERROR_CODES=t.OKXConnectError=void 0;class e extends Error{constructor(o,s){s==null&&(s=n(o)),super(s),this.code=o,this.message=`${e.prefix} ${s?`
`+s:""}`,Object.setPrototypeOf(this,e.prototype)}toJSON(){return{message:this.message,code:this.code}}}t.OKXConnectError=e,e.prefix="[OKX_CONNECT_SDK_ERROR]";function n(i){return i==r.UNKNOWN_ERROR?"unknown error":i==r.BAD_REQUEST_ERROR?"bad request error":i==r.ALREADY_CONNECTED_ERROR?"already connected error":i==r.NOT_CONNECTED_ERROR?"not connected error":i==r.UNKNOWN_APP_ERROR?"unknown app error":i==r.USER_REJECTS_ERROR?"user rejects error":i==r.USER_REJECTS_ERROR_CAUSE_REGISTER?"wallet address are registering":i==r.METHOD_NOT_SUPPORTED?"method not supported":i==r.CONNECTION_ERROR?"connect error":i==r.CHAIN_NOT_SUPPORTED?"chain not supported":"unknown error"}var r;(function(i){i[i.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",i[i.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",i[i.ALREADY_CONNECTED_ERROR=11]="ALREADY_CONNECTED_ERROR",i[i.NOT_CONNECTED_ERROR=12]="NOT_CONNECTED_ERROR",i[i.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",i[i.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",i[i.USER_REJECTS_ERROR_CAUSE_REGISTER=301]="USER_REJECTS_ERROR_CAUSE_REGISTER",i[i.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",i[i.CHAIN_NOT_SUPPORTED=500]="CHAIN_NOT_SUPPORTED",i[i.WALLET_NOT_SUPPORTED=600]="WALLET_NOT_SUPPORTED",i[i.CONNECTION_ERROR=700]="CONNECTION_ERROR"})(r||(t.OKX_CONNECT_ERROR_CODES=r={})),t.PARSE_ERROR="PARSE_ERROR",t.INVALID_REQUEST="INVALID_REQUEST",t.METHOD_NOT_FOUND="METHOD_NOT_FOUND",t.INVALID_PARAMS="INVALID_PARAMS",t.INTERNAL_ERROR="INTERNAL_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],t.SERVER_ERROR_CODE_RANGE=[-32e3,-32099],t.STANDARD_ERROR_MAP={[t.PARSE_ERROR]:{code:-32700,message:"Parse error"},[t.INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[t.METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[t.INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[t.INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[t.SERVER_ERROR]:{code:-32e3,message:"Server error"}},t.DEFAULT_ERROR=t.SERVER_ERROR})(ub);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.OKX_CONNECT_ERROR_CODES=t.OKXConnectError=void 0;var e=ub;Object.defineProperty(t,"OKXConnectError",{enumerable:!0,get:function(){return e.OKXConnectError}}),Object.defineProperty(t,"OKX_CONNECT_ERROR_CODES",{enumerable:!0,get:function(){return e.OKX_CONNECT_ERROR_CODES}})})(u8);var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.NameSpaceKeyStarknet=Zn.NameSpaceKeyTron=Zn.NameSpaceKeyCosmos=Zn.NameSpaceKeyAptos=Zn.NameSpaceKeyBtc=Zn.NameSpaceKeySui=Zn.NameSpaceKeyTON=Zn.NameSpaceKeySOL=Zn.NameSpaceKeyEip155=void 0;Zn.NameSpaceKeyEip155="eip155";Zn.NameSpaceKeySOL="solana";Zn.NameSpaceKeyTON="ton";Zn.NameSpaceKeySui="sui";Zn.NameSpaceKeyBtc="btc";Zn.NameSpaceKeyAptos="aptos";Zn.NameSpaceKeyCosmos="cosmos";Zn.NameSpaceKeyTron="tron";Zn.NameSpaceKeyStarknet="starknet";var Fp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.OKX_MINI_WALLET_NAME=t.OKX_APP_WALLET_NAME=t.tgwalletAppName=t.tgwalletName=t.tonConnectSdkVersion=t.shortUniversalLink=t.standardDeeplink=t.downloadUrl=t.standardUniversalLink=t.okxDeeplink=void 0,t.getTestTwaUrl=e,t.getTestTgTwaUrl=n,t.okxDeeplink="okx://web3",t.standardUniversalLink=typeof window<"u"&&window.location.hostname.includes("okx.com")?"https://link.okx.com/download":"https://www.okx.com/download",t.downloadUrl="https://www.okx.com/download",t.standardDeeplink=`${t.okxDeeplink}/wallet/connect`,t.shortUniversalLink="https://www.okx.com/ul/connect",t.tonConnectSdkVersion="1",t.tgwalletName="OKX_WALLET_BOT",t.tgwalletAppName="start";function e(){return window.okxTesttwaUrl}function n(){return window.okxTestTgtwaUrl}t.OKX_APP_WALLET_NAME="OKX Wallet",t.OKX_MINI_WALLET_NAME="OKX Mini Wallet"})(Fp);var f8={},fr={},RT=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fr,"__esModule",{value:!0});fr.isJsonRpcPayload=fb;fr.isJsonRpcRequest=TT;fr.isJsonRpcResponse=NT;fr.isJsonRpcResult=d8;fr.isJsonRpcError=h8;fr.payloadId=g8;fr.getBigIntRpcId=MT;fr.formatJsonRpcRequest=BT;fr.formatJsonRpcResult=FT;fr.formatJsonRpcError=LT;fr.isReservedErrorCode=v8;fr.getError=py;fr.getErrorByCode=m8;fr.formatErrorMessage=y8;fr.isHttpUrl=$T;fr.isWsUrl=jT;fr.parseConnectionError=KT;function fb(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function TT(t){return fb(t)&&"method"in t}function NT(t){return fb(t)&&(d8(t)||h8(t))}function d8(t){return"result"in t}function h8(t){return"error"in t}const Po=ub,PT=RT(au);class p8{constructor(e){this.i=1,e?this.initialValue=PT.default.randomBytes(e/8)[0]:this.initialValue=0}getNextValue(){return this.initialValue+this.i++}}const kT=new p8(8),IT=new p8(16);function g8(){const t=Date.now()*1e3,e=kT.getNextValue();return t+e}function MT(){const t=BigInt(Date.now())*BigInt(1e6),e=BigInt(IT.getNextValue());return t+e}function BT(t,e,n){return{id:n||g8(),jsonrpc:"2.0",method:t,params:e}}function FT(t,e){return{id:t,jsonrpc:"2.0",result:e}}function LT(t,e,n){return{id:t,jsonrpc:"2.0",error:y8(e,n)}}function v8(t){return Po.RESERVED_ERROR_CODES.includes(t)}function py(t){return Object.keys(Po.STANDARD_ERROR_MAP).includes(t)?Po.STANDARD_ERROR_MAP[t]:Po.STANDARD_ERROR_MAP[Po.DEFAULT_ERROR]}function m8(t){const e=Object.values(Po.STANDARD_ERROR_MAP).find(n=>n.code===t);return e||Po.STANDARD_ERROR_MAP[Po.DEFAULT_ERROR]}function y8(t,e){return typeof t>"u"?py(Po.INTERNAL_ERROR):(typeof t=="string"&&(t=Object.assign(Object.assign({},py(Po.SERVER_ERROR)),{message:t})),typeof e<"u"&&(t.data=e),v8(t.code)&&(t=m8(t.code)),t)}function UT(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function b8(t,e){const n=UT(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function $T(t){return b8(t,"^https?:")}function jT(t){return b8(t,"^wss?:")}function KT(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var ko={},x8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,d),h=n?n+c:c;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],p]:l._events[h].push(p):(l._events[h]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,h=new Array(p);d<p;d++)h[d]=f[d].fn;return h},a.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,u,f,d,p,h){var m=n?n+c:c;if(!this._events[m])return!1;var w=this._events[m],x=arguments.length,y,b;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),x){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,f),!0;case 4:return w.fn.call(w.context,u,f,d),!0;case 5:return w.fn.call(w.context,u,f,d,p),!0;case 6:return w.fn.call(w.context,u,f,d,p,h),!0}for(b=1,y=new Array(x-1);b<x;b++)y[b-1]=arguments[b];w.fn.apply(w.context,y)}else{var E=w.length,O;for(b=0;b<E;b++)switch(w[b].once&&this.removeListener(c,w[b].fn,void 0,!0),x){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,u);break;case 3:w[b].fn.call(w[b].context,u,f);break;case 4:w[b].fn.call(w[b].context,u,f,d);break;default:if(!y)for(O=1,y=new Array(x-1);O<x;O++)y[O-1]=arguments[O];w[b].fn.apply(w[b].context,y)}}return!0},a.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},a.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},a.prototype.removeListener=function(c,u,f,d){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var h=this._events[p];if(h.fn)h.fn===u&&(!d||h.once)&&(!f||h.context===f)&&s(this,p);else{for(var m=0,w=[],x=h.length;m<x;m++)(h[m].fn!==u||d&&!h[m].once||f&&h[m].context!==f)&&w.push(h[m]);w.length?this._events[p]=w.length===1?w[0]:w:s(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(x8);var _l=x8.exports,WT=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ko,"__esModule",{value:!0});ko.IEngine=ko.ISignClient=ko.ISignClientEvents=ko.IEngineEvents=void 0;const w8=WT(_l);class HT extends w8.default{constructor(){super()}}ko.IEngineEvents=HT;class XT extends w8.default{constructor(){super()}}ko.ISignClientEvents=XT;class zT{constructor(e){this.data=e}}ko.ISignClient=zT;class qT{constructor(e){this.client=e}}ko.IEngine=qT;var _8={},Lp={};Object.defineProperty(Lp,"__esModule",{value:!0});Lp.TONCHAIN=void 0;var J6;(function(t){t.MAINNET="-239"})(J6||(Lp.TONCHAIN=J6={}));var Up={};Object.defineProperty(Up,"__esModule",{value:!0});Up.CONNECT_ITEM_ERROR_CODES=void 0;var G6;(function(t){t[t.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",t[t.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(G6||(Up.CONNECT_ITEM_ERROR_CODES=G6={}));(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_ITEM_ERROR_CODES=t.TONCHAIN=void 0;var e=Lp;Object.defineProperty(t,"TONCHAIN",{enumerable:!0,get:function(){return e.TONCHAIN}});var n=Up;Object.defineProperty(t,"CONNECT_ITEM_ERROR_CODES",{enumerable:!0,get:function(){return n.CONNECT_ITEM_ERROR_CODES}})})(_8);var $p={};Object.defineProperty($p,"__esModule",{value:!0});$p.creatOKXWalletInfo=VT;$p.creatOKXMiniAppWalletInfo=JT;const za=Fp;function VT(){return{appName:"okxAppWallet",name:za.OKX_APP_WALLET_NAME,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",aboutUrl:za.downloadUrl,universalLink:za.standardUniversalLink,deepLink:za.standardDeeplink,platforms:["ios","android"]}}function JT(){return{appName:"okxMiniApp",name:za.OKX_MINI_WALLET_NAME,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",aboutUrl:za.downloadUrl,universalLink:`https://t.me/${za.tgwalletName}/start`,deepLink:"",platforms:["ios","android","macos","windows"]}}(function(t){var e=ne&&ne.__createBinding||(Object.create?function(s,a,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(s,c,u)}:function(s,a,l,c){c===void 0&&(c=l),s[c]=a[l]}),n=ne&&ne.__exportStar||function(s,a){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&e(a,s,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.creatOKXMiniAppWalletInfo=t.creatOKXWalletInfo=t.ISignClientEvents=t.IEngine=t.IEngineEvents=t.ISignClient=t.getBigIntRpcId=t.formatJsonRpcRequest=t.isJsonRpcError=t.isJsonRpcResponse=t.parseConnectionError=t.isHttpUrl=t.formatJsonRpcError=void 0;var r=fr;Object.defineProperty(t,"formatJsonRpcError",{enumerable:!0,get:function(){return r.formatJsonRpcError}}),Object.defineProperty(t,"isHttpUrl",{enumerable:!0,get:function(){return r.isHttpUrl}}),Object.defineProperty(t,"parseConnectionError",{enumerable:!0,get:function(){return r.parseConnectionError}}),Object.defineProperty(t,"isJsonRpcResponse",{enumerable:!0,get:function(){return r.isJsonRpcResponse}}),Object.defineProperty(t,"isJsonRpcError",{enumerable:!0,get:function(){return r.isJsonRpcError}}),Object.defineProperty(t,"formatJsonRpcRequest",{enumerable:!0,get:function(){return r.formatJsonRpcRequest}}),Object.defineProperty(t,"getBigIntRpcId",{enumerable:!0,get:function(){return r.getBigIntRpcId}});var i=ko;Object.defineProperty(t,"ISignClient",{enumerable:!0,get:function(){return i.ISignClient}}),Object.defineProperty(t,"IEngineEvents",{enumerable:!0,get:function(){return i.IEngineEvents}}),Object.defineProperty(t,"IEngine",{enumerable:!0,get:function(){return i.IEngine}}),Object.defineProperty(t,"ISignClientEvents",{enumerable:!0,get:function(){return i.ISignClientEvents}}),n(_8,t);var o=$p;Object.defineProperty(t,"creatOKXWalletInfo",{enumerable:!0,get:function(){return o.creatOKXWalletInfo}}),Object.defineProperty(t,"creatOKXMiniAppWalletInfo",{enumerable:!0,get:function(){return o.creatOKXMiniAppWalletInfo}})})(f8);(function(t){var e=ne&&ne.__createBinding||(Object.create?function(o,s,a,l){l===void 0&&(l=a);var c=Object.getOwnPropertyDescriptor(s,a);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(o,l,c)}:function(o,s,a,l){l===void 0&&(l=a),o[l]=s[a]}),n=ne&&ne.__exportStar||function(o,s){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&e(s,o,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.OKX_APP_WALLET_NAME=t.downloadUrl=t.okxDeeplink=t.tonConnectSdkVersion=t.standardDeeplink=t.standardUniversalLink=t.NameSpaceKeyStarknet=t.NameSpaceKeyTron=t.NameSpaceKeyCosmos=t.NameSpaceKeyAptos=t.NameSpaceKeyBtc=t.NameSpaceKeySui=t.NameSpaceKeyTON=t.NameSpaceKeySOL=t.NameSpaceKeyEip155=void 0,n(u8,t);var r=Zn;Object.defineProperty(t,"NameSpaceKeyEip155",{enumerable:!0,get:function(){return r.NameSpaceKeyEip155}}),Object.defineProperty(t,"NameSpaceKeySOL",{enumerable:!0,get:function(){return r.NameSpaceKeySOL}}),Object.defineProperty(t,"NameSpaceKeyTON",{enumerable:!0,get:function(){return r.NameSpaceKeyTON}}),Object.defineProperty(t,"NameSpaceKeySui",{enumerable:!0,get:function(){return r.NameSpaceKeySui}}),Object.defineProperty(t,"NameSpaceKeyBtc",{enumerable:!0,get:function(){return r.NameSpaceKeyBtc}}),Object.defineProperty(t,"NameSpaceKeyAptos",{enumerable:!0,get:function(){return r.NameSpaceKeyAptos}}),Object.defineProperty(t,"NameSpaceKeyCosmos",{enumerable:!0,get:function(){return r.NameSpaceKeyCosmos}}),Object.defineProperty(t,"NameSpaceKeyTron",{enumerable:!0,get:function(){return r.NameSpaceKeyTron}}),Object.defineProperty(t,"NameSpaceKeyStarknet",{enumerable:!0,get:function(){return r.NameSpaceKeyStarknet}});var i=Fp;Object.defineProperty(t,"standardUniversalLink",{enumerable:!0,get:function(){return i.standardUniversalLink}}),Object.defineProperty(t,"standardDeeplink",{enumerable:!0,get:function(){return i.standardDeeplink}}),Object.defineProperty(t,"tonConnectSdkVersion",{enumerable:!0,get:function(){return i.tonConnectSdkVersion}}),Object.defineProperty(t,"okxDeeplink",{enumerable:!0,get:function(){return i.okxDeeplink}}),Object.defineProperty(t,"downloadUrl",{enumerable:!0,get:function(){return i.downloadUrl}}),Object.defineProperty(t,"OKX_APP_WALLET_NAME",{enumerable:!0,get:function(){return i.OKX_APP_WALLET_NAME}}),n(f8,t)})(wl);var Qo={},xo={},gy={exports:{}};(function(t,e){(function(n,r){var i="1.0.40",o="",s="?",a="function",l="undefined",c="object",u="string",f="major",d="model",p="name",h="type",m="vendor",w="version",x="architecture",y="console",b="mobile",E="tablet",O="smarttv",N="wearable",R="embedded",L=500,W="Amazon",M="Apple",F="ASUS",$="BlackBerry",P="Browser",v="Chrome",g="Edge",_="Firefox",T="Google",D="Huawei",I="LG",j="Microsoft",B="Motorola",C="Opera",H="Samsung",ae="Sharp",U="Sony",ce="Xiaomi",te="Zebra",z="Facebook",G="Chromium OS",S="Mac OS",J=" Browser",re=function(Te,Ie){var We={};for(var Ke in Te)Ie[Ke]&&Ie[Ke].length%2===0?We[Ke]=Ie[Ke].concat(Te[Ke]):We[Ke]=Te[Ke];return We},me=function(Te){for(var Ie={},We=0;We<Te.length;We++)Ie[Te[We].toUpperCase()]=Te[We];return Ie},ge=function(Te,Ie){return typeof Te===u?xe(Ie).indexOf(xe(Te))!==-1:!1},xe=function(Te){return Te.toLowerCase()},qe=function(Te){return typeof Te===u?Te.replace(/[^\d\.]/g,o).split(".")[0]:r},Fe=function(Te,Ie){if(typeof Te===u)return Te=Te.replace(/^\s\s*/,o),typeof Ie===l?Te:Te.substring(0,L)},Se=function(Te,Ie){for(var We=0,Ke,ut,Nt,Le,Pe,Ut;We<Ie.length&&!Pe;){var wt=Ie[We],Tt=Ie[We+1];for(Ke=ut=0;Ke<wt.length&&!Pe&&wt[Ke];)if(Pe=wt[Ke++].exec(Te),Pe)for(Nt=0;Nt<Tt.length;Nt++)Ut=Pe[++ut],Le=Tt[Nt],typeof Le===c&&Le.length>0?Le.length===2?typeof Le[1]==a?this[Le[0]]=Le[1].call(this,Ut):this[Le[0]]=Le[1]:Le.length===3?typeof Le[1]===a&&!(Le[1].exec&&Le[1].test)?this[Le[0]]=Ut?Le[1].call(this,Ut,Le[2]):r:this[Le[0]]=Ut?Ut.replace(Le[1],Le[2]):r:Le.length===4&&(this[Le[0]]=Ut?Le[3].call(this,Ut.replace(Le[1],Le[2])):r):this[Le]=Ut||r;We+=2}},lt=function(Te,Ie){for(var We in Ie)if(typeof Ie[We]===c&&Ie[We].length>0){for(var Ke=0;Ke<Ie[We].length;Ke++)if(ge(Ie[We][Ke],Te))return We===s?r:We}else if(ge(Ie[We],Te))return We===s?r:We;return Ie.hasOwnProperty("*")?Ie["*"]:Te},Qe={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},tt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},xt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,w],[/opios[\/ ]+([\w\.]+)/i],[w,[p,C+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[w,[p,C+" GX"]],[/\bopr\/([\w\.]+)/i],[w,[p,C]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[w,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[w,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,w],[/quark(?:pc)?\/([-\w\.]+)/i],[w,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[w,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[p,"UC"+P]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[w,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[w,[p,"Smart Lenovo "+P]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+P],w],[/\bfocus\/([\w\.]+)/i],[w,[p,_+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[p,C+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[p,C+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[p,"MIUI"+J]],[/fxios\/([\w\.-]+)/i],[w,[p,_]],[/\bqihoobrowser\/?([\w\.]*)/i],[w,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],w],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+J],w],[/samsungbrowser\/([\w\.]+)/i],[w,[p,H+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[w,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,w],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[w,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,z],w],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[p,v+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,v+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[p,"Android "+P]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,w],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[w,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[w,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[w,lt,Qe]],[/(webkit|khtml)\/([\w\.]+)/i],[p,w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],w],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[p,_+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,[w,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[w,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[x,"amd64"]],[/(ia32(?=;))/i],[[x,xe]],[/((?:i[346]|x)86)[;\)]/i],[[x,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[x,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[x,"armhf"]],[/windows (ce|mobile); ppc;/i],[[x,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[x,/ower/,o,xe]],[/(sun4\w)[;\)]/i],[[x,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[x,xe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[m,H],[h,E]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[m,H],[h,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[m,M],[h,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[m,M],[h,E]],[/(macintosh);/i],[d,[m,M]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[m,ae],[h,b]],[/(?:honor)([-\w ]+)[;\)]/i],[d,[m,"Honor"],[h,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[m,D],[h,E]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[m,D],[h,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[d,/_/g," "],[m,ce],[h,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[m,ce],[h,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[m,"OPPO"],[h,b]],[/\b(opd2\d{3}a?) bui/i],[d,[m,"OPPO"],[h,E]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[m,"Vivo"],[h,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[m,"Realme"],[h,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[m,B],[h,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[m,B],[h,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[m,I],[h,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[m,I],[h,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[m,"Lenovo"],[h,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[m,"Nokia"],[h,b]],[/(pixel c)\b/i],[d,[m,T],[h,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[m,T],[h,b]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[m,U],[h,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[m,U],[h,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[m,"OnePlus"],[h,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[m,W],[h,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[m,W],[h,b]],[/(playbook);[-\w\),; ]+(rim)/i],[d,m,[h,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[m,$],[h,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[m,F],[h,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[m,F],[h,b]],[/(nexus 9)/i],[d,[m,"HTC"],[h,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[d,/_/g," "],[h,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[m,"TCL"],[h,E]],[/(itel) ((\w+))/i],[[m,xe],d,[h,lt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[m,"Acer"],[h,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[m,"Meizu"],[h,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[m,"Ulefone"],[h,b]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[d,[m,"Energizer"],[h,b]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[d,[m,"Cat"],[h,b]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[d,[m,"Smartfren"],[h,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[m,"Nothing"],[h,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,d,[h,b]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,d,[h,E]],[/(surface duo)/i],[d,[m,j],[h,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[m,"Fairphone"],[h,b]],[/(u304aa)/i],[d,[m,"AT&T"],[h,b]],[/\bsie-(\w*)/i],[d,[m,"Siemens"],[h,b]],[/\b(rct\w+) b/i],[d,[m,"RCA"],[h,E]],[/\b(venue[\d ]{2,7}) b/i],[d,[m,"Dell"],[h,E]],[/\b(q(?:mv|ta)\w+) b/i],[d,[m,"Verizon"],[h,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[m,"Barnes & Noble"],[h,E]],[/\b(tm\d{3}\w+) b/i],[d,[m,"NuVision"],[h,E]],[/\b(k88) b/i],[d,[m,"ZTE"],[h,E]],[/\b(nx\d{3}j) b/i],[d,[m,"ZTE"],[h,b]],[/\b(gen\d{3}) b.+49h/i],[d,[m,"Swiss"],[h,b]],[/\b(zur\d{3}) b/i],[d,[m,"Swiss"],[h,E]],[/\b((zeki)?tb.*\b) b/i],[d,[m,"Zeki"],[h,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],d,[h,E]],[/\b(ns-?\w{0,9}) b/i],[d,[m,"Insignia"],[h,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[m,"NextBook"],[h,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],d,[h,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],d,[h,b]],[/\b(ph-1) /i],[d,[m,"Essential"],[h,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[m,"Envizen"],[h,E]],[/\b(trio[-\w\. ]+) b/i],[d,[m,"MachSpeed"],[h,E]],[/\btu_(1491) b/i],[d,[m,"Rotor"],[h,E]],[/(shield[\w ]+) b/i],[d,[m,"Nvidia"],[h,E]],[/(sprint) (\w+)/i],[m,d,[h,b]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[m,j],[h,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[m,te],[h,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[m,te],[h,b]],[/smart-tv.+(samsung)/i],[m,[h,O]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[m,H],[h,O]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,I],[h,O]],[/(apple) ?tv/i],[m,[d,M+" TV"],[h,O]],[/crkey/i],[[d,v+"cast"],[m,T],[h,O]],[/droid.+aft(\w+)( bui|\))/i],[d,[m,W],[h,O]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[m,ae],[h,O]],[/(bravia[\w ]+)( bui|\))/i],[d,[m,U],[h,O]],[/(mitv-\w{5}) bui/i],[d,[m,ce],[h,O]],[/Hbbtv.*(technisat) (.*);/i],[m,d,[h,O]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,Fe],[d,Fe],[h,O]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,O]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,d,[h,y]],[/droid.+; (shield) bui/i],[d,[m,"Nvidia"],[h,y]],[/(playstation [345portablevi]+)/i],[d,[m,U],[h,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[m,j],[h,y]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[d,[m,H],[h,N]],[/((pebble))app/i],[m,d,[h,N]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[m,M],[h,N]],[/droid.+; (glass) \d/i],[d,[m,T],[h,N]],[/droid.+; (wt63?0{2,3})\)/i],[d,[m,te],[h,N]],[/droid.+; (glass) \d/i],[d,[m,T],[h,N]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,d,[h,N]],[/; (quest( \d| pro)?)/i],[d,[m,z],[h,N]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[h,R]],[/(aeobc)\b/i],[d,[m,W],[h,R]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[h,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[h,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,b]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[p,g+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[p,w],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,w],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,w],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[w,lt,tt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,lt,tt],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,S],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,w],[/\(bb(10);/i],[w,[p,$]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[w,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[p,_+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[w,[p,v+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,G],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,w],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,w]]},ze=function(Te,Ie){if(typeof Te===c&&(Ie=Te,Te=r),!(this instanceof ze))return new ze(Te,Ie).getResult();var We=typeof n!==l&&n.navigator?n.navigator:r,Ke=Te||(We&&We.userAgent?We.userAgent:o),ut=We&&We.userAgentData?We.userAgentData:r,Nt=Ie?re(xt,Ie):xt,Le=We&&We.userAgent==Ke;return this.getBrowser=function(){var Pe={};return Pe[p]=r,Pe[w]=r,Se.call(Pe,Ke,Nt.browser),Pe[f]=qe(Pe[w]),Le&&We&&We.brave&&typeof We.brave.isBrave==a&&(Pe[p]="Brave"),Pe},this.getCPU=function(){var Pe={};return Pe[x]=r,Se.call(Pe,Ke,Nt.cpu),Pe},this.getDevice=function(){var Pe={};return Pe[m]=r,Pe[d]=r,Pe[h]=r,Se.call(Pe,Ke,Nt.device),Le&&!Pe[h]&&ut&&ut.mobile&&(Pe[h]=b),Le&&Pe[d]=="Macintosh"&&We&&typeof We.standalone!==l&&We.maxTouchPoints&&We.maxTouchPoints>2&&(Pe[d]="iPad",Pe[h]=E),Pe},this.getEngine=function(){var Pe={};return Pe[p]=r,Pe[w]=r,Se.call(Pe,Ke,Nt.engine),Pe},this.getOS=function(){var Pe={};return Pe[p]=r,Pe[w]=r,Se.call(Pe,Ke,Nt.os),Le&&!Pe[p]&&ut&&ut.platform&&ut.platform!="Unknown"&&(Pe[p]=ut.platform.replace(/chrome os/i,G).replace(/macos/i,S)),Pe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ke},this.setUA=function(Pe){return Ke=typeof Pe===u&&Pe.length>L?Fe(Pe,L):Pe,this},this.setUA(Ke),this};ze.VERSION=i,ze.BROWSER=me([p,w,f]),ze.CPU=me([x]),ze.DEVICE=me([d,m,h,y,b,O,E,N,R]),ze.ENGINE=ze.OS=me([p,w]),t.exports&&(e=t.exports=ze),e.UAParser=ze;var Ye=typeof n!==l&&(n.jQuery||n.Zepto);if(Ye&&!Ye.ua){var Dt=new ze;Ye.ua=Dt.getResult(),Ye.ua.get=function(){return Dt.getUA()},Ye.ua.set=function(Te){Dt.setUA(Te);var Ie=Dt.getResult();for(var We in Ie)Ye.ua[We]=Ie[We]}}})(typeof window=="object"?window:ne)})(gy,gy.exports);var E8=gy.exports;const GT=xa(E8);var Q6;function C8(){if(Q6)return xo;Q6=1;var t=ne&&ne.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(xo,"__esModule",{value:!0}),xo.openLink=r,xo.openLinkBlank=i,xo.openDeeplinkWithFallback=o,xo.isMobileUserAgent=s,xo.getUserAgent=a,xo.isOS=l,xo.isBrowser=c;const e=t(E8),n=Nr();function r(u,f="_self"){(0,n.logDebug)("openLink",u,f),window.open(u,f,"noopener noreferrer")}function i(u){r(u,"_blank")}function o(u,f){const d=()=>{c("safari")||l("android")&&c("firefox")||f()},p=setTimeout(()=>d(),500);window.addEventListener("blur",()=>clearTimeout(p),{once:!0}),r(u,"_self")}function s(){let u=!1;return function(f){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(f)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(f.slice(0,4)))&&(u=!0)}(navigator.userAgent||navigator.vendor||window.opera),u}function a(){var u,f,d;const p=new e.default().getResult(),h=(u=p.os.name)===null||u===void 0?void 0:u.toLowerCase(),m=(f=p.device.model)===null||f===void 0?void 0:f.toLowerCase();let w;switch(!0){case m==="ipad":w="ipad";break;case h==="ios":w="ios";break;case h==="android":w="android";break;case h==="mac os":w="macos";break;case h==="linux":w="linux";break;case(h==null?void 0:h.includes("windows")):w="windows";break}const x=(d=p.browser.name)===null||d===void 0?void 0:d.toLowerCase();let y;switch(!0){case x==="chrome":y="chrome";break;case x==="firefox":y="firefox";break;case(x==null?void 0:x.includes("safari")):y="safari";break;case(x==null?void 0:x.includes("opera")):y="opera";break}return{os:w,browser:y}}function l(...u){return u.includes(a().os)}function c(...u){return u.includes(a().browser)}return xo}var Y6;function A8(){if(Y6)return Qo;Y6=1;var t,e,n,r,i,o,s;Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.isTmaPlatform=h,Qo.isInTMA=m,Qo.isInTelegramBrowser=w,Qo.sendExpand=x,Qo.sendOpenTelegramLink=y,Qo.versionCompare=L;const a=xf(),l=Nr(),c=wl,u=C8();let f={};try{let M=location.hash.toString();f=O(M)}catch{}let d="unknown";if(f!=null&&f.tgWebAppPlatform&&(d=(t=f.tgWebAppPlatform)!==null&&t!==void 0?t:"unknown"),d==="unknown"){const M=(0,a.getWindow)();d=(r=(n=(e=M==null?void 0:M.Telegram)===null||e===void 0?void 0:e.WebApp)===null||n===void 0?void 0:n.platform)!==null&&r!==void 0?r:"unknown"}let p="6.0";if(f!=null&&f.tgWebAppVersion&&(p=f.tgWebAppVersion),!p){const M=(0,a.getWindow)();p=(s=(o=(i=M==null?void 0:M.Telegram)===null||i===void 0?void 0:i.WebApp)===null||o===void 0?void 0:o.version)!==null&&s!==void 0?s:"6.0"}function h(...M){return M.includes(d)}function m(){var M;return d!=="unknown"||!!(!((M=(0,a.getWindow)())===null||M===void 0)&&M.TelegramWebviewProxy)}function w(){var M;const F=!!(!((M=(0,a.getWindow)())===null||M===void 0)&&M.TelegramWebview);return(m()||F)&&d==="unknown"}function x(){E("web_app_expand",{})}function y(M,F){const $=new URL(M);if($.protocol!=="http:"&&$.protocol!=="https:"){if(F)return F();throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url protocol is not supported: ${$}`)}if($.hostname!=="t.me"){if(F)return F();throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url host is not supported: ${$}`)}const P=$.pathname+$.search;b()||W("6.1")?E("web_app_open_tg_link",{path_full:P}):(0,u.openLinkBlank)("https://t.me"+P)}function b(){try{const M=(0,a.getWindow)();return M?M.parent!=null&&M!==M.parent:!1}catch{return!1}}function E(M,F){try{const $=(0,a.getWindow)();if(!$)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to parent window: window is not defined");if($.TelegramWebviewProxy!==void 0)(0,l.logDebug)("postEvent",M,F),$.TelegramWebviewProxy.postEvent(M,JSON.stringify(F));else if($.external&&"notify"in $.external)(0,l.logDebug)("postEvent",M,F),$.external.notify(JSON.stringify({eventType:M,eventData:F}));else if(b()){const P="*",v=JSON.stringify({eventType:M,eventData:F});(0,l.logDebug)("postEvent",M,F),$.parent.postMessage(v,P)}else throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to TMA")}catch($){(0,l.logError)(`Can't post event to parent window: ${$}`)}}function O(M){M=M.replace(/^#/,"");let F={};if(!M.length)return F;if(M.indexOf("=")<0&&M.indexOf("?")<0)return F._path=N(M),F;let $=M.indexOf("?");if($>=0){let v=M.substr(0,$);F._path=N(v),M=M.substr($+1)}let P=R(M);for(let v in P)F[v]=P[v];return F}function N(M){try{return M=M.replace(/\+/g,"%20"),decodeURIComponent(M)}catch{return M}}function R(M){let F={};if(!M.length)return F;let $=M.split("&"),P,v,g,_;for(P=0;P<$.length;P++)v=$[P].split("="),g=N(v[0]),_=v[1]==null?null:N(v[1]),F[g]=_;return F}function L(M,F){typeof M!="string"&&(M=""),typeof F!="string"&&(F="");let $=M.replace(/^\s+|\s+$/g,"").split("."),P=F.replace(/^\s+|\s+$/g,"").split("."),v,g,_,T;for(v=Math.max($.length,P.length),g=0;g<v;g++)if(_=parseInt($[g])||0,T=parseInt(P[g])||0,_!==T)return _>T?1:-1;return 0}function W(M){return L(p,M)>=0}return Qo}var Z6;function xf(){if(Z6)return Hn;Z6=1;var t,e,n,r;Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.removeUrlLastSlash=c,Hn.addPathToUrl=u,Hn.getUniversalLink=f,Hn.openOKXDeeplink=d,Hn.openOKXUniversalLink=p,Hn.openOKXDeeplinkWithFallback=h,Hn.getWindow=m,Hn.isTelegramUrl=w,Hn.encodeTelegramUrlParameters=x,Hn.encodeConnectParams=y,Hn.encodeTWAConnectURLParams=b,Hn.getAppWalletDeepLink=E,Hn.getAppWalletShortDeepLink=O,Hn.getTelegramWalletTWAUrl=N,Hn.openOKXTMAWalletlinkWithFallback=R,Hn.isInTMA=P,Hn.isInTelegramBrowser=v,Hn.getOKXLink=g;const i=wl,o=Nr(),s=Fp,a=Oa(),l=A8();function c(_){return _.slice(-1)==="/"?_.slice(0,-1):_}function u(_,T){return c(_)+"/"+T}function f(_,T=!1){console.log("getUniversalLink deeplinkUrl:",_,", useStandardUniversalLink:",T);const D=encodeURIComponent(_);return console.log("getUniversalLink standardUniversalLink:",i.standardUniversalLink),console.log("getUniversalLink standardUniversalLink:",`${i.standardUniversalLink}?deeplink=${D}`),`${i.standardUniversalLink}?deeplink=${D}`}function d(_){var T;const D=f(_),I=!!(!((T=m())===null||T===void 0)&&T.TelegramWebviewProxy);console.log("openOKXDeeplink fullUrl:",D),(0,a.isIos)()?p(D):I?window.open(_,"_blank"):window.location.href=_}function p(_){(0,a.isIos)()?P()?window.open(_,"_blank"):(console.log("windowOpen[before]: ",Date.now()),window!=null&&window.okxLogDebug?window.open(_,"_blank"):window.open(_,"_self"),console.log("windowOpen[after]: ",Date.now())):window.open(_,"_blank")}function h(_){var T;const D=f(_),I=!!(!((T=m())===null||T===void 0)&&T.TelegramWebviewProxy);console.log("openOKXDeeplinkWithFallback fullUrl:",D);let j=!1;const B=3e3;if(i.standardUniversalLink,console.log("openOKXDeeplinkWithFallback standardUniversalLink:",i.standardUniversalLink),(0,a.isIos)())I?window.open(D,"_blank"):(console.log("windowOpen[before]: ",Date.now()),window!=null&&window.okxLogDebug?window.open(D,"_blank"):window.open(D,"_self"),console.log("windowOpen[after]: ",Date.now()));else{let H=null;var C=()=>{j||(H?H.open(D,"_self"):window.open(D,"_blank"))};I?H=window.open(_,"_blank"):window.location.href=_,setTimeout(C,B),window.addEventListener("blur",()=>{j=!0},{once:!0}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(j=!0)})}}function m(){if(typeof window<"u")return window}function w(_){if(!_)return!1;const T=new URL(_);return T.protocol==="tg:"||T.hostname==="t.me"}function x(_){let T=_;return T=T.replace(/\./g,"%2E"),T=T.replace(/-/g,"%2D"),T=T.replace(/_/g,"%5F"),T=T.replace(/&/g,"-"),T=T.replace(/=/g,"__"),T=T.replace(/%/g,"--"),T}function y(_){const T=JSON.stringify(_);(0,o.logDebug)("url encodeConnectParams connectRequestStr ",T);const D=new TextEncoder().encode(T),I=btoa(String.fromCharCode(...D));return(0,o.logDebug)("url encodeConnectParams base64Encoded ",I),I}function b(_){const T=JSON.stringify({topic:_.topic,clientId:_.clientId});(0,o.logDebug)("url encodeConnectParams connectRequestStr",T);const D=new TextEncoder().encode(T);return btoa(String.fromCharCode(...D))}function E(_){return`${i.standardDeeplink}?param=${_}`}function O(_,T){return`${s.shortUniversalLink}?topic=${_}${(0,a.getLastSixMd5Hash)(T)}`}function N(_,T){let D={okxconnect:"",redirect:"",extraparams:"",fromtg:"0"};_&&(D.okxconnect=_),P()?(D.redirect="back",D.fromtg="1"):(D.redirect="none",D.fromtg="0"),(0,o.logDebug)("getTelegramWalletTWAUrl redirect:",D.redirect);let I=JSON.stringify(D);const j=new TextEncoder().encode(I),B=btoa(String.fromCharCode(...j)),C=(0,a.toSafeBase64FromBase64)(B);return(0,o.logDebug)("[TWA] open link:",D,B),_||T?P()?(0,s.getTestTgTwaUrl)()?`${(0,s.getTestTgTwaUrl)()}?startapp=${C}`:`https://t.me/${s.tgwalletName}/start?startapp=${C}`:(0,s.getTestTwaUrl)()?`${(0,s.getTestTwaUrl)()}?tgWebAppStartParam=${C}`:`tg://resolve?domain=${s.tgwalletName}&appname=${s.tgwalletAppName}&startapp=${C}`:P()?(0,s.getTestTgTwaUrl)()?`${(0,s.getTestTgTwaUrl)()}`:`https://t.me/${s.tgwalletName}/start`:(0,s.getTestTwaUrl)()?`${(0,s.getTestTwaUrl)()}`:`tg://resolve?domain=${s.tgwalletName}&appname=${s.tgwalletAppName}`}function R(_){var T,D,I,j,B;(0,o.logDebug)("[TWA] open link:",_,"isInTMA ==> ",P()),P()?!((D=(T=m())===null||T===void 0?void 0:T.Telegram)===null||D===void 0)&&D.WebApp?(B=(j=(I=m())===null||I===void 0?void 0:I.Telegram)===null||j===void 0?void 0:j.WebApp)===null||B===void 0||B.openTelegramLink(_):(0,l.sendOpenTelegramLink)(_):(0,s.getTestTwaUrl)()?window.open(_,"_blank"):window.open(_,"_self")}function L(_){try{return _=_.replace(/\+/g,"%20"),decodeURIComponent(_)}catch{return _}}function W(_){let T={};if(!_.length)return T;let D=_.split("&"),I,j,B,C;for(I=0;I<D.length;I++)j=D[I].split("="),B=L(j[0]),C=j[1]==null?null:L(j[1]),T[B]=C;return T}function M(_){_=_.replace(/^#/,"");let T={};if(!_.length)return T;if(_.indexOf("=")<0&&_.indexOf("?")<0)return T._path=L(_),T;let D=_.indexOf("?");if(D>=0){let j=_.substr(0,D);T._path=L(j),_=_.substr(D+1)}let I=W(_);for(let j in I)T[j]=I[j];return T}let F={};try{let _=location.hash.toString();F=M(_)}catch{}let $="unknown";if(F!=null&&F.tgWebAppPlatform&&($=(t=F.tgWebAppPlatform)!==null&&t!==void 0?t:"unknown"),$==="unknown"){const _=m();$=(r=(n=(e=_==null?void 0:_.Telegram)===null||e===void 0?void 0:e.WebApp)===null||n===void 0?void 0:n.platform)!==null&&r!==void 0?r:"unknown"}function P(){var _;return $!=="unknown"||!!(!((_=m())===null||_===void 0)&&_.TelegramWebviewProxy)}function v(){var _;const T=!!(!((_=m())===null||_===void 0)&&_.TelegramWebview);return(P()||T)&&$==="unknown"}function g(_,T=!1,D){if((0,o.logDebug)(`url  getOKXLink() called connectRequest==> ${JSON.stringify(_)}  useMini=> ${T}  tmaReturnUrl==> ${D}`),T){var I=b(_);return N(I,D??"back")}else{if((0,a.useShortLink)())return O(_.topic,_.clientId);{const j=y(_);return`${i.standardDeeplink}?param=${j}`}}}return Hn}var _g={},jp={},S8=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(jp,"__esModule",{value:!0});jp.callForSuccess=QT;jp.delay=O8;function QT(t,e){return S8(this,void 0,void 0,function*(){var n,r;const i=(n=e==null?void 0:e.attempts)!==null&&n!==void 0?n:3,o=(r=e==null?void 0:e.delayMs)!==null&&r!==void 0?r:800;if(typeof t!="function")throw new Error(`Expected a function, got ${typeof t}`);let s=0,a;for(;s<i;)try{return yield t()}catch(l){a=l,s++,s<i&&(yield O8(o))}throw a})}function O8(t,e){return S8(this,void 0,void 0,function*(){return new Promise((n,r)=>{var i,o;if(!((i=e==null?void 0:e.signal)===null||i===void 0)&&i.aborted){r(new Error("Delay aborted"));return}const s=setTimeout(()=>n(),t);(o=e==null?void 0:e.signal)===null||o===void 0||o.addEventListener("abort",()=>{clearTimeout(s),r(new Error("Delay aborted"))})})})}var er={};Object.defineProperty(er,"__esModule",{value:!0});er.Report_WalletType_Key=er.Report_Proceed_QRCode_Click=er.Report_ChooseType_Download_Click=er.Report_ChooseType_ConnectWallet_Click=er.Report_Proceed_Retry_Click=er.Report_ChooseType_ConnectWallet_View=er.Report_Loading_ConnectWallet_View=er.Report_Proceed_QRCode_View=er.Report_Proceed_Proceed_View=void 0;er.Report_Proceed_Proceed_View="OKXConnectSDK_Proceed_Proceed_View";er.Report_Proceed_QRCode_View="OKXConnectSDK_Proceed_QRCode_View";er.Report_Loading_ConnectWallet_View="OKXConnectSDK_Loading_ConnectWallet_View";er.Report_ChooseType_ConnectWallet_View="OKXConnectSDK_ChooseType_ConnectWallet_View";er.Report_Proceed_Retry_Click="OKXConnectSDK_Proceed_Retry_Click";er.Report_ChooseType_ConnectWallet_Click="OKXConnectSDK_ChooseType_ConnectWallet_Click";er.Report_ChooseType_Download_Click="OKXConnectSDK_ChooseType_Download_Click";er.Report_Proceed_QRCode_Click="OKXConnectSDK_Proceed_QRCode_Click";er.Report_WalletType_Key="wallet_type";var db={};Object.defineProperty(db,"__esModule",{value:!0});db.checkMetaData=YT;const kl=wl;function YT(t){if(!t)throw new kl.OKXConnectError(kl.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"You have to specify a `dappMetaData`in the options.");if(!t.name)throw new kl.OKXConnectError(kl.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"dappName is required");if(!t.icon)throw new kl.OKXConnectError(kl.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"icon is required");return!0}var ew;function Aa(){return ew||(ew=1,function(t){var e=ne&&ne.__createBinding||(Object.create?function(f,d,p,h){h===void 0&&(h=p);var m=Object.getOwnPropertyDescriptor(d,p);(!m||("get"in m?!d.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(f,h,m)}:function(f,d,p,h){h===void 0&&(h=p),f[h]=d[p]}),n=ne&&ne.__exportStar||function(f,d){for(var p in f)p!=="default"&&!Object.prototype.hasOwnProperty.call(d,p)&&e(d,f,p)};Object.defineProperty(t,"__esModule",{value:!0}),t.checkMetaData=t.versionCompare=t.isBrowser=t.isOS=t.isMobileUserAgent=t.openDeeplinkWithFallback=t.openLinkBlank=t.openLink=t.useShortLink=t.toSafeBase64FromBase64=t.isValidObject=t.isIos=t.base64decode=t.base64encode=t.splitToUint8Arrays=t.concatUint8Arrays=t.toHexString=t.hexToByteArray=t.getOKXLink=t.openOKXUniversalLink=t.getAppWalletShortDeepLink=t.encodeTWAConnectURLParams=t.encodeConnectParams=t.openOKXTMAWalletlinkWithFallback=t.getTelegramWalletTWAUrl=t.getAppWalletDeepLink=t.encodeTelegramUrlParameters=t.isTelegramUrl=t.openOKXDeeplinkWithFallback=t.openOKXDeeplink=t.getUniversalLink=t.safeJsonStringify=t.safeJsonParse=t.getDefaultReporter=t.reportEvent=t.reportLog=t.logWarning=t.logError=t.logDebug=t.callForSuccess=void 0;var r=jp;Object.defineProperty(t,"callForSuccess",{enumerable:!0,get:function(){return r.callForSuccess}});var i=Nr();Object.defineProperty(t,"logDebug",{enumerable:!0,get:function(){return i.logDebug}}),Object.defineProperty(t,"logError",{enumerable:!0,get:function(){return i.logError}}),Object.defineProperty(t,"logWarning",{enumerable:!0,get:function(){return i.logWarning}}),Object.defineProperty(t,"reportLog",{enumerable:!0,get:function(){return i.reportLog}}),Object.defineProperty(t,"reportEvent",{enumerable:!0,get:function(){return i.reportEvent}}),Object.defineProperty(t,"getDefaultReporter",{enumerable:!0,get:function(){return i.getDefaultReporter}}),n(er,t),n(Kp(),t);var o=lu();Object.defineProperty(t,"safeJsonParse",{enumerable:!0,get:function(){return o.safeJsonParse}}),Object.defineProperty(t,"safeJsonStringify",{enumerable:!0,get:function(){return o.safeJsonStringify}});var s=xf();Object.defineProperty(t,"getUniversalLink",{enumerable:!0,get:function(){return s.getUniversalLink}}),Object.defineProperty(t,"openOKXDeeplink",{enumerable:!0,get:function(){return s.openOKXDeeplink}}),Object.defineProperty(t,"openOKXDeeplinkWithFallback",{enumerable:!0,get:function(){return s.openOKXDeeplinkWithFallback}}),Object.defineProperty(t,"isTelegramUrl",{enumerable:!0,get:function(){return s.isTelegramUrl}}),Object.defineProperty(t,"encodeTelegramUrlParameters",{enumerable:!0,get:function(){return s.encodeTelegramUrlParameters}}),Object.defineProperty(t,"getAppWalletDeepLink",{enumerable:!0,get:function(){return s.getAppWalletDeepLink}}),Object.defineProperty(t,"getTelegramWalletTWAUrl",{enumerable:!0,get:function(){return s.getTelegramWalletTWAUrl}}),Object.defineProperty(t,"openOKXTMAWalletlinkWithFallback",{enumerable:!0,get:function(){return s.openOKXTMAWalletlinkWithFallback}}),Object.defineProperty(t,"encodeConnectParams",{enumerable:!0,get:function(){return s.encodeConnectParams}}),Object.defineProperty(t,"encodeTWAConnectURLParams",{enumerable:!0,get:function(){return s.encodeTWAConnectURLParams}}),Object.defineProperty(t,"getAppWalletShortDeepLink",{enumerable:!0,get:function(){return s.getAppWalletShortDeepLink}}),Object.defineProperty(t,"openOKXUniversalLink",{enumerable:!0,get:function(){return s.openOKXUniversalLink}}),Object.defineProperty(t,"getOKXLink",{enumerable:!0,get:function(){return s.getOKXLink}});var a=Oa();Object.defineProperty(t,"hexToByteArray",{enumerable:!0,get:function(){return a.hexToByteArray}}),Object.defineProperty(t,"toHexString",{enumerable:!0,get:function(){return a.toHexString}}),Object.defineProperty(t,"concatUint8Arrays",{enumerable:!0,get:function(){return a.concatUint8Arrays}}),Object.defineProperty(t,"splitToUint8Arrays",{enumerable:!0,get:function(){return a.splitToUint8Arrays}}),Object.defineProperty(t,"base64encode",{enumerable:!0,get:function(){return a.base64encode}}),Object.defineProperty(t,"base64decode",{enumerable:!0,get:function(){return a.base64decode}}),Object.defineProperty(t,"isIos",{enumerable:!0,get:function(){return a.isIos}}),Object.defineProperty(t,"isValidObject",{enumerable:!0,get:function(){return a.isValidObject}}),Object.defineProperty(t,"toSafeBase64FromBase64",{enumerable:!0,get:function(){return a.toSafeBase64FromBase64}}),Object.defineProperty(t,"useShortLink",{enumerable:!0,get:function(){return a.useShortLink}});var l=C8();Object.defineProperty(t,"openLink",{enumerable:!0,get:function(){return l.openLink}}),Object.defineProperty(t,"openLinkBlank",{enumerable:!0,get:function(){return l.openLinkBlank}}),Object.defineProperty(t,"openDeeplinkWithFallback",{enumerable:!0,get:function(){return l.openDeeplinkWithFallback}}),Object.defineProperty(t,"isMobileUserAgent",{enumerable:!0,get:function(){return l.isMobileUserAgent}}),Object.defineProperty(t,"isOS",{enumerable:!0,get:function(){return l.isOS}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return l.isBrowser}});var c=A8();Object.defineProperty(t,"versionCompare",{enumerable:!0,get:function(){return c.versionCompare}});var u=db;Object.defineProperty(t,"checkMetaData",{enumerable:!0,get:function(){return u.checkMetaData}})}(_g)),_g}var D8={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,o){function s(c,u){if(!i[c]){if(!r[c]){var f=typeof Xa=="function"&&Xa;if(!u&&f)return f(c,!0);if(a)return a(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(h){var m=r[c][1][h];return s(m||h)},p,p.exports,n,r,i,o)}return i[c].exports}for(var a=typeof Xa=="function"&&Xa,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,r,i){(function(o){var s=o.MutationObserver||o.WebKitMutationObserver,a;if(s){var l=0,c=new s(h),u=o.document.createTextNode("");c.observe(u,{characterData:!0}),a=function(){u.data=l=++l%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var f=new o.MessageChannel;f.port1.onmessage=h,a=function(){f.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?a=function(){var w=o.document.createElement("script");w.onreadystatechange=function(){h(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},o.document.documentElement.appendChild(w)}:a=function(){setTimeout(h,0)};var d,p=[];function h(){d=!0;for(var w,x,y=p.length;y;){for(x=p,p=[],w=-1;++w<y;)x[w]();y=p.length}d=!1}r.exports=m;function m(w){p.push(w)===1&&!d&&a()}}).call(this,typeof ne<"u"?ne:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var o=n(1);function s(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=f;function f(O){if(typeof O!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,O!==s&&m(this,O)}f.prototype.catch=function(O){return this.then(null,O)},f.prototype.then=function(O,N){if(typeof O!="function"&&this.state===c||typeof N!="function"&&this.state===l)return this;var R=new this.constructor(s);if(this.state!==u){var L=this.state===c?O:N;p(R,L,this.outcome)}else this.queue.push(new d(R,O,N));return R};function d(O,N,R){this.promise=O,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(O){a.resolve(this.promise,O)},d.prototype.otherCallFulfilled=function(O){p(this.promise,this.onFulfilled,O)},d.prototype.callRejected=function(O){a.reject(this.promise,O)},d.prototype.otherCallRejected=function(O){p(this.promise,this.onRejected,O)};function p(O,N,R){o(function(){var L;try{L=N(R)}catch(W){return a.reject(O,W)}L===O?a.reject(O,new TypeError("Cannot resolve promise with itself")):a.resolve(O,L)})}a.resolve=function(O,N){var R=w(h,N);if(R.status==="error")return a.reject(O,R.value);var L=R.value;if(L)m(O,L);else{O.state=c,O.outcome=N;for(var W=-1,M=O.queue.length;++W<M;)O.queue[W].callFulfilled(N)}return O},a.reject=function(O,N){O.state=l,O.outcome=N;for(var R=-1,L=O.queue.length;++R<L;)O.queue[R].callRejected(N);return O};function h(O){var N=O&&O.then;if(O&&(typeof O=="object"||typeof O=="function")&&typeof N=="function")return function(){N.apply(O,arguments)}}function m(O,N){var R=!1;function L($){R||(R=!0,a.reject(O,$))}function W($){R||(R=!0,a.resolve(O,$))}function M(){N(W,L)}var F=w(M);F.status==="error"&&L(F.value)}function w(O,N){var R={};try{R.value=O(N),R.status="success"}catch(L){R.status="error",R.value=L}return R}f.resolve=x;function x(O){return O instanceof this?O:a.resolve(new this(s),O)}f.reject=y;function y(O){var N=new this(s);return a.reject(N,O)}f.all=b;function b(O){var N=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=O.length,L=!1;if(!R)return this.resolve([]);for(var W=new Array(R),M=0,F=-1,$=new this(s);++F<R;)P(O[F],F);return $;function P(v,g){N.resolve(v).then(_,function(T){L||(L=!0,a.reject($,T))});function _(T){W[g]=T,++M===R&&!L&&(L=!0,a.resolve($,W))}}}f.race=E;function E(O){var N=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=O.length,L=!1;if(!R)return this.resolve([]);for(var W=-1,M=new this(s);++W<R;)F(O[W]);return M;function F($){N.resolve($).then(function(P){L||(L=!0,a.resolve(M,P))},function(P){L||(L=!0,a.reject(M,P))})}}},{1:1}],3:[function(n,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof ne<"u"?ne:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K};function s(K,Z){if(!(K instanceof Z))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function c(){try{if(!l||!l.open)return!1;var K=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Z=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!K||Z)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(K,Z){K=K||[],Z=Z||{};try{return new Blob(K,Z)}catch(se){if(se.name!=="TypeError")throw se;for(var V=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ie=new V,le=0;le<K.length;le+=1)ie.append(K[le]);return ie.getBlob(Z.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(K,Z){Z&&K.then(function(V){Z(null,V)},function(V){Z(V)})}function p(K,Z,V){typeof Z=="function"&&K.then(Z),typeof V=="function"&&K.catch(V)}function h(K){return typeof K!="string"&&(console.warn(K+" used as a key, but it is not a string."),K=String(K)),K}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var w="local-forage-detect-blob-support",x=void 0,y={},b=Object.prototype.toString,E="readonly",O="readwrite";function N(K){for(var Z=K.length,V=new ArrayBuffer(Z),ie=new Uint8Array(V),le=0;le<Z;le++)ie[le]=K.charCodeAt(le);return V}function R(K){return new f(function(Z){var V=K.transaction(w,O),ie=u([""]);V.objectStore(w).put(ie,"key"),V.onabort=function(le){le.preventDefault(),le.stopPropagation(),Z(!1)},V.oncomplete=function(){var le=navigator.userAgent.match(/Chrome\/(\d+)/),se=navigator.userAgent.match(/Edge\//);Z(se||!le||parseInt(le[1],10)>=43)}}).catch(function(){return!1})}function L(K){return typeof x=="boolean"?f.resolve(x):R(K).then(function(Z){return x=Z,x})}function W(K){var Z=y[K.name],V={};V.promise=new f(function(ie,le){V.resolve=ie,V.reject=le}),Z.deferredOperations.push(V),Z.dbReady?Z.dbReady=Z.dbReady.then(function(){return V.promise}):Z.dbReady=V.promise}function M(K){var Z=y[K.name],V=Z.deferredOperations.pop();if(V)return V.resolve(),V.promise}function F(K,Z){var V=y[K.name],ie=V.deferredOperations.pop();if(ie)return ie.reject(Z),ie.promise}function $(K,Z){return new f(function(V,ie){if(y[K.name]=y[K.name]||C(),K.db)if(Z)W(K),K.db.close();else return V(K.db);var le=[K.name];Z&&le.push(K.version);var se=l.open.apply(l,le);Z&&(se.onupgradeneeded=function(ve){var Y=se.result;try{Y.createObjectStore(K.storeName),ve.oldVersion<=1&&Y.createObjectStore(w)}catch(_e){if(_e.name==="ConstraintError")console.warn('The database "'+K.name+'" has been upgraded from version '+ve.oldVersion+" to version "+ve.newVersion+', but the storage "'+K.storeName+'" already exists.');else throw _e}}),se.onerror=function(ve){ve.preventDefault(),ie(se.error)},se.onsuccess=function(){var ve=se.result;ve.onversionchange=function(Y){Y.target.close()},V(ve),M(K)}})}function P(K){return $(K,!1)}function v(K){return $(K,!0)}function g(K,Z){if(!K.db)return!0;var V=!K.db.objectStoreNames.contains(K.storeName),ie=K.version<K.db.version,le=K.version>K.db.version;if(ie&&(K.version!==Z&&console.warn('The database "'+K.name+`" can't be downgraded from version `+K.db.version+" to version "+K.version+"."),K.version=K.db.version),le||V){if(V){var se=K.db.version+1;se>K.version&&(K.version=se)}return!0}return!1}function _(K){return new f(function(Z,V){var ie=new FileReader;ie.onerror=V,ie.onloadend=function(le){var se=btoa(le.target.result||"");Z({__local_forage_encoded_blob:!0,data:se,type:K.type})},ie.readAsBinaryString(K)})}function T(K){var Z=N(atob(K.data));return u([Z],{type:K.type})}function D(K){return K&&K.__local_forage_encoded_blob}function I(K){var Z=this,V=Z._initReady().then(function(){var ie=y[Z._dbInfo.name];if(ie&&ie.dbReady)return ie.dbReady});return p(V,K,K),V}function j(K){W(K);for(var Z=y[K.name],V=Z.forages,ie=0;ie<V.length;ie++){var le=V[ie];le._dbInfo.db&&(le._dbInfo.db.close(),le._dbInfo.db=null)}return K.db=null,P(K).then(function(se){return K.db=se,g(K)?v(K):se}).then(function(se){K.db=Z.db=se;for(var ve=0;ve<V.length;ve++)V[ve]._dbInfo.db=se}).catch(function(se){throw F(K,se),se})}function B(K,Z,V,ie){ie===void 0&&(ie=1);try{var le=K.db.transaction(K.storeName,Z);V(null,le)}catch(se){if(ie>0&&(!K.db||se.name==="InvalidStateError"||se.name==="NotFoundError"))return f.resolve().then(function(){if(!K.db||se.name==="NotFoundError"&&!K.db.objectStoreNames.contains(K.storeName)&&K.version<=K.db.version)return K.db&&(K.version=K.db.version+1),v(K)}).then(function(){return j(K).then(function(){B(K,Z,V,ie-1)})}).catch(V);V(se)}}function C(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function H(K){var Z=this,V={db:null};if(K)for(var ie in K)V[ie]=K[ie];var le=y[V.name];le||(le=C(),y[V.name]=le),le.forages.push(Z),Z._initReady||(Z._initReady=Z.ready,Z.ready=I);var se=[];function ve(){return f.resolve()}for(var Y=0;Y<le.forages.length;Y++){var _e=le.forages[Y];_e!==Z&&se.push(_e._initReady().catch(ve))}var Ee=le.forages.slice(0);return f.all(se).then(function(){return V.db=le.db,P(V)}).then(function(Ce){return V.db=Ce,g(V,Z._defaultConfig.version)?v(V):Ce}).then(function(Ce){V.db=le.db=Ce,Z._dbInfo=V;for(var Oe=0;Oe<Ee.length;Oe++){var Ve=Ee[Oe];Ve!==Z&&(Ve._dbInfo.db=V.db,Ve._dbInfo.version=V.version)}})}function ae(K,Z){var V=this;K=h(K);var ie=new f(function(le,se){V.ready().then(function(){B(V._dbInfo,E,function(ve,Y){if(ve)return se(ve);try{var _e=Y.objectStore(V._dbInfo.storeName),Ee=_e.get(K);Ee.onsuccess=function(){var Ce=Ee.result;Ce===void 0&&(Ce=null),D(Ce)&&(Ce=T(Ce)),le(Ce)},Ee.onerror=function(){se(Ee.error)}}catch(Ce){se(Ce)}})}).catch(se)});return d(ie,Z),ie}function U(K,Z){var V=this,ie=new f(function(le,se){V.ready().then(function(){B(V._dbInfo,E,function(ve,Y){if(ve)return se(ve);try{var _e=Y.objectStore(V._dbInfo.storeName),Ee=_e.openCursor(),Ce=1;Ee.onsuccess=function(){var Oe=Ee.result;if(Oe){var Ve=Oe.value;D(Ve)&&(Ve=T(Ve));var it=K(Ve,Oe.key,Ce++);it!==void 0?le(it):Oe.continue()}else le()},Ee.onerror=function(){se(Ee.error)}}catch(Oe){se(Oe)}})}).catch(se)});return d(ie,Z),ie}function ce(K,Z,V){var ie=this;K=h(K);var le=new f(function(se,ve){var Y;ie.ready().then(function(){return Y=ie._dbInfo,b.call(Z)==="[object Blob]"?L(Y.db).then(function(_e){return _e?Z:_(Z)}):Z}).then(function(_e){B(ie._dbInfo,O,function(Ee,Ce){if(Ee)return ve(Ee);try{var Oe=Ce.objectStore(ie._dbInfo.storeName);_e===null&&(_e=void 0);var Ve=Oe.put(_e,K);Ce.oncomplete=function(){_e===void 0&&(_e=null),se(_e)},Ce.onabort=Ce.onerror=function(){var it=Ve.error?Ve.error:Ve.transaction.error;ve(it)}}catch(it){ve(it)}})}).catch(ve)});return d(le,V),le}function te(K,Z){var V=this;K=h(K);var ie=new f(function(le,se){V.ready().then(function(){B(V._dbInfo,O,function(ve,Y){if(ve)return se(ve);try{var _e=Y.objectStore(V._dbInfo.storeName),Ee=_e.delete(K);Y.oncomplete=function(){le()},Y.onerror=function(){se(Ee.error)},Y.onabort=function(){var Ce=Ee.error?Ee.error:Ee.transaction.error;se(Ce)}}catch(Ce){se(Ce)}})}).catch(se)});return d(ie,Z),ie}function z(K){var Z=this,V=new f(function(ie,le){Z.ready().then(function(){B(Z._dbInfo,O,function(se,ve){if(se)return le(se);try{var Y=ve.objectStore(Z._dbInfo.storeName),_e=Y.clear();ve.oncomplete=function(){ie()},ve.onabort=ve.onerror=function(){var Ee=_e.error?_e.error:_e.transaction.error;le(Ee)}}catch(Ee){le(Ee)}})}).catch(le)});return d(V,K),V}function G(K){var Z=this,V=new f(function(ie,le){Z.ready().then(function(){B(Z._dbInfo,E,function(se,ve){if(se)return le(se);try{var Y=ve.objectStore(Z._dbInfo.storeName),_e=Y.count();_e.onsuccess=function(){ie(_e.result)},_e.onerror=function(){le(_e.error)}}catch(Ee){le(Ee)}})}).catch(le)});return d(V,K),V}function S(K,Z){var V=this,ie=new f(function(le,se){if(K<0){le(null);return}V.ready().then(function(){B(V._dbInfo,E,function(ve,Y){if(ve)return se(ve);try{var _e=Y.objectStore(V._dbInfo.storeName),Ee=!1,Ce=_e.openKeyCursor();Ce.onsuccess=function(){var Oe=Ce.result;if(!Oe){le(null);return}K===0||Ee?le(Oe.key):(Ee=!0,Oe.advance(K))},Ce.onerror=function(){se(Ce.error)}}catch(Oe){se(Oe)}})}).catch(se)});return d(ie,Z),ie}function J(K){var Z=this,V=new f(function(ie,le){Z.ready().then(function(){B(Z._dbInfo,E,function(se,ve){if(se)return le(se);try{var Y=ve.objectStore(Z._dbInfo.storeName),_e=Y.openKeyCursor(),Ee=[];_e.onsuccess=function(){var Ce=_e.result;if(!Ce){ie(Ee);return}Ee.push(Ce.key),Ce.continue()},_e.onerror=function(){le(_e.error)}}catch(Ce){le(Ce)}})}).catch(le)});return d(V,K),V}function re(K,Z){Z=m.apply(this,arguments);var V=this.config();K=typeof K!="function"&&K||{},K.name||(K.name=K.name||V.name,K.storeName=K.storeName||V.storeName);var ie=this,le;if(!K.name)le=f.reject("Invalid arguments");else{var se=K.name===V.name&&ie._dbInfo.db,ve=se?f.resolve(ie._dbInfo.db):P(K).then(function(Y){var _e=y[K.name],Ee=_e.forages;_e.db=Y;for(var Ce=0;Ce<Ee.length;Ce++)Ee[Ce]._dbInfo.db=Y;return Y});K.storeName?le=ve.then(function(Y){if(Y.objectStoreNames.contains(K.storeName)){var _e=Y.version+1;W(K);var Ee=y[K.name],Ce=Ee.forages;Y.close();for(var Oe=0;Oe<Ce.length;Oe++){var Ve=Ce[Oe];Ve._dbInfo.db=null,Ve._dbInfo.version=_e}var it=new f(function(_t,St){var It=l.open(K.name,_e);It.onerror=function(Zt){var bn=It.result;bn.close(),St(Zt)},It.onupgradeneeded=function(){var Zt=It.result;Zt.deleteObjectStore(K.storeName)},It.onsuccess=function(){var Zt=It.result;Zt.close(),_t(Zt)}});return it.then(function(_t){Ee.db=_t;for(var St=0;St<Ce.length;St++){var It=Ce[St];It._dbInfo.db=_t,M(It._dbInfo)}}).catch(function(_t){throw(F(K,_t)||f.resolve()).catch(function(){}),_t})}}):le=ve.then(function(Y){W(K);var _e=y[K.name],Ee=_e.forages;Y.close();for(var Ce=0;Ce<Ee.length;Ce++){var Oe=Ee[Ce];Oe._dbInfo.db=null}var Ve=new f(function(it,_t){var St=l.deleteDatabase(K.name);St.onerror=function(){var It=St.result;It&&It.close(),_t(St.error)},St.onblocked=function(){console.warn('dropInstance blocked for database "'+K.name+'" until all open connections are closed')},St.onsuccess=function(){var It=St.result;It&&It.close(),it(It)}});return Ve.then(function(it){_e.db=it;for(var _t=0;_t<Ee.length;_t++){var St=Ee[_t];M(St._dbInfo)}}).catch(function(it){throw(F(K,it)||f.resolve()).catch(function(){}),it})})}return d(le,Z),le}var me={_driver:"asyncStorage",_initStorage:H,_support:c(),iterate:U,getItem:ae,setItem:ce,removeItem:te,clear:z,length:G,key:S,keys:J,dropInstance:re};function ge(){return typeof openDatabase=="function"}var xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qe="~~local_forage_type~",Fe=/^~~local_forage_type~([^~]+)~/,Se="__lfsc__:",lt=Se.length,Qe="arbf",tt="blob",xt="si08",ze="ui08",Ye="uic8",Dt="si16",Te="si32",Ie="ur16",We="ui32",Ke="fl32",ut="fl64",Nt=lt+Qe.length,Le=Object.prototype.toString;function Pe(K){var Z=K.length*.75,V=K.length,ie,le=0,se,ve,Y,_e;K[K.length-1]==="="&&(Z--,K[K.length-2]==="="&&Z--);var Ee=new ArrayBuffer(Z),Ce=new Uint8Array(Ee);for(ie=0;ie<V;ie+=4)se=xe.indexOf(K[ie]),ve=xe.indexOf(K[ie+1]),Y=xe.indexOf(K[ie+2]),_e=xe.indexOf(K[ie+3]),Ce[le++]=se<<2|ve>>4,Ce[le++]=(ve&15)<<4|Y>>2,Ce[le++]=(Y&3)<<6|_e&63;return Ee}function Ut(K){var Z=new Uint8Array(K),V="",ie;for(ie=0;ie<Z.length;ie+=3)V+=xe[Z[ie]>>2],V+=xe[(Z[ie]&3)<<4|Z[ie+1]>>4],V+=xe[(Z[ie+1]&15)<<2|Z[ie+2]>>6],V+=xe[Z[ie+2]&63];return Z.length%3===2?V=V.substring(0,V.length-1)+"=":Z.length%3===1&&(V=V.substring(0,V.length-2)+"=="),V}function wt(K,Z){var V="";if(K&&(V=Le.call(K)),K&&(V==="[object ArrayBuffer]"||K.buffer&&Le.call(K.buffer)==="[object ArrayBuffer]")){var ie,le=Se;K instanceof ArrayBuffer?(ie=K,le+=Qe):(ie=K.buffer,V==="[object Int8Array]"?le+=xt:V==="[object Uint8Array]"?le+=ze:V==="[object Uint8ClampedArray]"?le+=Ye:V==="[object Int16Array]"?le+=Dt:V==="[object Uint16Array]"?le+=Ie:V==="[object Int32Array]"?le+=Te:V==="[object Uint32Array]"?le+=We:V==="[object Float32Array]"?le+=Ke:V==="[object Float64Array]"?le+=ut:Z(new Error("Failed to get type for BinaryArray"))),Z(le+Ut(ie))}else if(V==="[object Blob]"){var se=new FileReader;se.onload=function(){var ve=qe+K.type+"~"+Ut(this.result);Z(Se+tt+ve)},se.readAsArrayBuffer(K)}else try{Z(JSON.stringify(K))}catch(ve){console.error("Couldn't convert value into a JSON string: ",K),Z(null,ve)}}function Tt(K){if(K.substring(0,lt)!==Se)return JSON.parse(K);var Z=K.substring(Nt),V=K.substring(lt,Nt),ie;if(V===tt&&Fe.test(Z)){var le=Z.match(Fe);ie=le[1],Z=Z.substring(le[0].length)}var se=Pe(Z);switch(V){case Qe:return se;case tt:return u([se],{type:ie});case xt:return new Int8Array(se);case ze:return new Uint8Array(se);case Ye:return new Uint8ClampedArray(se);case Dt:return new Int16Array(se);case Ie:return new Uint16Array(se);case Te:return new Int32Array(se);case We:return new Uint32Array(se);case Ke:return new Float32Array(se);case ut:return new Float64Array(se);default:throw new Error("Unkown type: "+V)}}var _n={serialize:wt,deserialize:Tt,stringToBuffer:Pe,bufferToString:Ut};function Pt(K,Z,V,ie){K.executeSql("CREATE TABLE IF NOT EXISTS "+Z.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],V,ie)}function Kt(K){var Z=this,V={db:null};if(K)for(var ie in K)V[ie]=typeof K[ie]!="string"?K[ie].toString():K[ie];var le=new f(function(se,ve){try{V.db=openDatabase(V.name,String(V.version),V.description,V.size)}catch(Y){return ve(Y)}V.db.transaction(function(Y){Pt(Y,V,function(){Z._dbInfo=V,se()},function(_e,Ee){ve(Ee)})},ve)});return V.serializer=_n,le}function yn(K,Z,V,ie,le,se){K.executeSql(V,ie,le,function(ve,Y){Y.code===Y.SYNTAX_ERR?ve.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Z.storeName],function(_e,Ee){Ee.rows.length?se(_e,Y):Pt(_e,Z,function(){_e.executeSql(V,ie,le,se)},se)},se):se(ve,Y)},se)}function Vt(K,Z){var V=this;K=h(K);var ie=new f(function(le,se){V.ready().then(function(){var ve=V._dbInfo;ve.db.transaction(function(Y){yn(Y,ve,"SELECT * FROM "+ve.storeName+" WHERE key = ? LIMIT 1",[K],function(_e,Ee){var Ce=Ee.rows.length?Ee.rows.item(0).value:null;Ce&&(Ce=ve.serializer.deserialize(Ce)),le(Ce)},function(_e,Ee){se(Ee)})})}).catch(se)});return d(ie,Z),ie}function Yt(K,Z){var V=this,ie=new f(function(le,se){V.ready().then(function(){var ve=V._dbInfo;ve.db.transaction(function(Y){yn(Y,ve,"SELECT * FROM "+ve.storeName,[],function(_e,Ee){for(var Ce=Ee.rows,Oe=Ce.length,Ve=0;Ve<Oe;Ve++){var it=Ce.item(Ve),_t=it.value;if(_t&&(_t=ve.serializer.deserialize(_t)),_t=K(_t,it.key,Ve+1),_t!==void 0){le(_t);return}}le()},function(_e,Ee){se(Ee)})})}).catch(se)});return d(ie,Z),ie}function dn(K,Z,V,ie){var le=this;K=h(K);var se=new f(function(ve,Y){le.ready().then(function(){Z===void 0&&(Z=null);var _e=Z,Ee=le._dbInfo;Ee.serializer.serialize(Z,function(Ce,Oe){Oe?Y(Oe):Ee.db.transaction(function(Ve){yn(Ve,Ee,"INSERT OR REPLACE INTO "+Ee.storeName+" (key, value) VALUES (?, ?)",[K,Ce],function(){ve(_e)},function(it,_t){Y(_t)})},function(Ve){if(Ve.code===Ve.QUOTA_ERR){if(ie>0){ve(dn.apply(le,[K,_e,V,ie-1]));return}Y(Ve)}})})}).catch(Y)});return d(se,V),se}function pt(K,Z,V){return dn.apply(this,[K,Z,V,1])}function vt(K,Z){var V=this;K=h(K);var ie=new f(function(le,se){V.ready().then(function(){var ve=V._dbInfo;ve.db.transaction(function(Y){yn(Y,ve,"DELETE FROM "+ve.storeName+" WHERE key = ?",[K],function(){le()},function(_e,Ee){se(Ee)})})}).catch(se)});return d(ie,Z),ie}function Jt(K){var Z=this,V=new f(function(ie,le){Z.ready().then(function(){var se=Z._dbInfo;se.db.transaction(function(ve){yn(ve,se,"DELETE FROM "+se.storeName,[],function(){ie()},function(Y,_e){le(_e)})})}).catch(le)});return d(V,K),V}function Ct(K){var Z=this,V=new f(function(ie,le){Z.ready().then(function(){var se=Z._dbInfo;se.db.transaction(function(ve){yn(ve,se,"SELECT COUNT(key) as c FROM "+se.storeName,[],function(Y,_e){var Ee=_e.rows.item(0).c;ie(Ee)},function(Y,_e){le(_e)})})}).catch(le)});return d(V,K),V}function At(K,Z){var V=this,ie=new f(function(le,se){V.ready().then(function(){var ve=V._dbInfo;ve.db.transaction(function(Y){yn(Y,ve,"SELECT key FROM "+ve.storeName+" WHERE id = ? LIMIT 1",[K+1],function(_e,Ee){var Ce=Ee.rows.length?Ee.rows.item(0).key:null;le(Ce)},function(_e,Ee){se(Ee)})})}).catch(se)});return d(ie,Z),ie}function un(K){var Z=this,V=new f(function(ie,le){Z.ready().then(function(){var se=Z._dbInfo;se.db.transaction(function(ve){yn(ve,se,"SELECT key FROM "+se.storeName,[],function(Y,_e){for(var Ee=[],Ce=0;Ce<_e.rows.length;Ce++)Ee.push(_e.rows.item(Ce).key);ie(Ee)},function(Y,_e){le(_e)})})}).catch(le)});return d(V,K),V}function Rt(K){return new f(function(Z,V){K.transaction(function(ie){ie.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(le,se){for(var ve=[],Y=0;Y<se.rows.length;Y++)ve.push(se.rows.item(Y).name);Z({db:K,storeNames:ve})},function(le,se){V(se)})},function(ie){V(ie)})})}function at(K,Z){Z=m.apply(this,arguments);var V=this.config();K=typeof K!="function"&&K||{},K.name||(K.name=K.name||V.name,K.storeName=K.storeName||V.storeName);var ie=this,le;return K.name?le=new f(function(se){var ve;K.name===V.name?ve=ie._dbInfo.db:ve=openDatabase(K.name,"","",0),K.storeName?se({db:ve,storeNames:[K.storeName]}):se(Rt(ve))}).then(function(se){return new f(function(ve,Y){se.db.transaction(function(_e){function Ee(it){return new f(function(_t,St){_e.executeSql("DROP TABLE IF EXISTS "+it,[],function(){_t()},function(It,Zt){St(Zt)})})}for(var Ce=[],Oe=0,Ve=se.storeNames.length;Oe<Ve;Oe++)Ce.push(Ee(se.storeNames[Oe]));f.all(Ce).then(function(){ve()}).catch(function(it){Y(it)})},function(_e){Y(_e)})})}):le=f.reject("Invalid arguments"),d(le,Z),le}var Ft={_driver:"webSQLStorage",_initStorage:Kt,_support:ge(),iterate:Yt,getItem:Vt,setItem:pt,removeItem:vt,clear:Jt,length:Ct,key:At,keys:un,dropInstance:at};function k(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function X(K,Z){var V=K.name+"/";return K.storeName!==Z.storeName&&(V+=K.storeName+"/"),V}function q(){var K="_localforage_support_test";try{return localStorage.setItem(K,!0),localStorage.removeItem(K),!1}catch{return!0}}function A(){return!q()||localStorage.length>0}function Q(K){var Z=this,V={};if(K)for(var ie in K)V[ie]=K[ie];return V.keyPrefix=X(K,Z._defaultConfig),A()?(Z._dbInfo=V,V.serializer=_n,f.resolve()):f.reject()}function ue(K){var Z=this,V=Z.ready().then(function(){for(var ie=Z._dbInfo.keyPrefix,le=localStorage.length-1;le>=0;le--){var se=localStorage.key(le);se.indexOf(ie)===0&&localStorage.removeItem(se)}});return d(V,K),V}function de(K,Z){var V=this;K=h(K);var ie=V.ready().then(function(){var le=V._dbInfo,se=localStorage.getItem(le.keyPrefix+K);return se&&(se=le.serializer.deserialize(se)),se});return d(ie,Z),ie}function we(K,Z){var V=this,ie=V.ready().then(function(){for(var le=V._dbInfo,se=le.keyPrefix,ve=se.length,Y=localStorage.length,_e=1,Ee=0;Ee<Y;Ee++){var Ce=localStorage.key(Ee);if(Ce.indexOf(se)===0){var Oe=localStorage.getItem(Ce);if(Oe&&(Oe=le.serializer.deserialize(Oe)),Oe=K(Oe,Ce.substring(ve),_e++),Oe!==void 0)return Oe}}});return d(ie,Z),ie}function De(K,Z){var V=this,ie=V.ready().then(function(){var le=V._dbInfo,se;try{se=localStorage.key(K)}catch{se=null}return se&&(se=se.substring(le.keyPrefix.length)),se});return d(ie,Z),ie}function Me(K){var Z=this,V=Z.ready().then(function(){for(var ie=Z._dbInfo,le=localStorage.length,se=[],ve=0;ve<le;ve++){var Y=localStorage.key(ve);Y.indexOf(ie.keyPrefix)===0&&se.push(Y.substring(ie.keyPrefix.length))}return se});return d(V,K),V}function Re(K){var Z=this,V=Z.keys().then(function(ie){return ie.length});return d(V,K),V}function kt(K,Z){var V=this;K=h(K);var ie=V.ready().then(function(){var le=V._dbInfo;localStorage.removeItem(le.keyPrefix+K)});return d(ie,Z),ie}function je(K,Z,V){var ie=this;K=h(K);var le=ie.ready().then(function(){Z===void 0&&(Z=null);var se=Z;return new f(function(ve,Y){var _e=ie._dbInfo;_e.serializer.serialize(Z,function(Ee,Ce){if(Ce)Y(Ce);else try{localStorage.setItem(_e.keyPrefix+K,Ee),ve(se)}catch(Oe){(Oe.name==="QuotaExceededError"||Oe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Y(Oe),Y(Oe)}})})});return d(le,V),le}function ft(K,Z){if(Z=m.apply(this,arguments),K=typeof K!="function"&&K||{},!K.name){var V=this.config();K.name=K.name||V.name,K.storeName=K.storeName||V.storeName}var ie=this,le;return K.name?le=new f(function(se){K.storeName?se(X(K,ie._defaultConfig)):se(K.name+"/")}).then(function(se){for(var ve=localStorage.length-1;ve>=0;ve--){var Y=localStorage.key(ve);Y.indexOf(se)===0&&localStorage.removeItem(Y)}}):le=f.reject("Invalid arguments"),d(le,Z),le}var ht={_driver:"localStorageWrapper",_initStorage:Q,_support:k(),iterate:we,getItem:de,setItem:je,removeItem:kt,clear:ue,length:Re,key:De,keys:Me,dropInstance:ft},mt=function(Z,V){return Z===V||typeof Z=="number"&&typeof V=="number"&&isNaN(Z)&&isNaN(V)},Ot=function(Z,V){for(var ie=Z.length,le=0;le<ie;){if(mt(Z[le],V))return!0;le++}return!1},yt=Array.isArray||function(K){return Object.prototype.toString.call(K)==="[object Array]"},gt={},bt={},He={INDEXEDDB:me,WEBSQL:Ft,LOCALSTORAGE:ht},ot=[He.INDEXEDDB._driver,He.WEBSQL._driver,He.LOCALSTORAGE._driver],Ue=["dropInstance"],Je=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ue),et={description:"",driver:ot.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function $e(K,Z){K[Z]=function(){var V=arguments;return K.ready().then(function(){return K[Z].apply(K,V)})}}function ye(){for(var K=1;K<arguments.length;K++){var Z=arguments[K];if(Z)for(var V in Z)Z.hasOwnProperty(V)&&(yt(Z[V])?arguments[0][V]=Z[V].slice():arguments[0][V]=Z[V])}return arguments[0]}var be=function(){function K(Z){s(this,K);for(var V in He)if(He.hasOwnProperty(V)){var ie=He[V],le=ie._driver;this[V]=le,gt[le]||this.defineDriver(ie)}this._defaultConfig=ye({},et),this._config=ye({},this._defaultConfig,Z),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return K.prototype.config=function(V){if((typeof V>"u"?"undefined":o(V))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ie in V){if(ie==="storeName"&&(V[ie]=V[ie].replace(/\W/g,"_")),ie==="version"&&typeof V[ie]!="number")return new Error("Database version must be a number.");this._config[ie]=V[ie]}return"driver"in V&&V.driver?this.setDriver(this._config.driver):!0}else return typeof V=="string"?this._config[V]:this._config},K.prototype.defineDriver=function(V,ie,le){var se=new f(function(ve,Y){try{var _e=V._driver,Ee=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!V._driver){Y(Ee);return}for(var Ce=Je.concat("_initStorage"),Oe=0,Ve=Ce.length;Oe<Ve;Oe++){var it=Ce[Oe],_t=!Ot(Ue,it);if((_t||V[it])&&typeof V[it]!="function"){Y(Ee);return}}var St=function(){for(var bn=function(SO){return function(){var OO=new Error("Method "+SO+" is not implemented by the current driver"),Dx=f.reject(OO);return d(Dx,arguments[arguments.length-1]),Dx}},In=0,hr=Ue.length;In<hr;In++){var Jn=Ue[In];V[Jn]||(V[Jn]=bn(Jn))}};St();var It=function(bn){gt[_e]&&console.info("Redefining LocalForage driver: "+_e),gt[_e]=V,bt[_e]=bn,ve()};"_support"in V?V._support&&typeof V._support=="function"?V._support().then(It,Y):It(!!V._support):It(!0)}catch(Zt){Y(Zt)}});return p(se,ie,le),se},K.prototype.driver=function(){return this._driver||null},K.prototype.getDriver=function(V,ie,le){var se=gt[V]?f.resolve(gt[V]):f.reject(new Error("Driver not found."));return p(se,ie,le),se},K.prototype.getSerializer=function(V){var ie=f.resolve(_n);return p(ie,V),ie},K.prototype.ready=function(V){var ie=this,le=ie._driverSet.then(function(){return ie._ready===null&&(ie._ready=ie._initDriver()),ie._ready});return p(le,V,V),le},K.prototype.setDriver=function(V,ie,le){var se=this;yt(V)||(V=[V]);var ve=this._getSupportedDrivers(V);function Y(){se._config.driver=se.driver()}function _e(Oe){return se._extend(Oe),Y(),se._ready=se._initStorage(se._config),se._ready}function Ee(Oe){return function(){var Ve=0;function it(){for(;Ve<Oe.length;){var _t=Oe[Ve];return Ve++,se._dbInfo=null,se._ready=null,se.getDriver(_t).then(_e).catch(it)}Y();var St=new Error("No available storage method found.");return se._driverSet=f.reject(St),se._driverSet}return it()}}var Ce=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=Ce.then(function(){var Oe=ve[0];return se._dbInfo=null,se._ready=null,se.getDriver(Oe).then(function(Ve){se._driver=Ve._driver,Y(),se._wrapLibraryMethodsWithReady(),se._initDriver=Ee(ve)})}).catch(function(){Y();var Oe=new Error("No available storage method found.");return se._driverSet=f.reject(Oe),se._driverSet}),p(this._driverSet,ie,le),this._driverSet},K.prototype.supports=function(V){return!!bt[V]},K.prototype._extend=function(V){ye(this,V)},K.prototype._getSupportedDrivers=function(V){for(var ie=[],le=0,se=V.length;le<se;le++){var ve=V[le];this.supports(ve)&&ie.push(ve)}return ie},K.prototype._wrapLibraryMethodsWithReady=function(){for(var V=0,ie=Je.length;V<ie;V++)$e(this,Je[V])},K.prototype.createInstance=function(V){return new K(V)},K}(),Ae=new be;r.exports=Ae},{3:3}]},{},[4])(4)})})(D8);var ZT=D8.exports,tw;function Kp(){return tw||(tw=1,function(t){var e=ne&&ne.__awaiter||function(y,b,E,O){function N(R){return R instanceof E?R:new E(function(L){L(R)})}return new(E||(E=Promise))(function(R,L){function W($){try{F(O.next($))}catch(P){L(P)}}function M($){try{F(O.throw($))}catch(P){L(P)}}function F($){$.done?R($.value):N($.value).then(W,M)}F((O=O.apply(y,b||[])).next())})},n=ne&&ne.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXReporter=t.OKXReportSide=t.OKXReportType=t.versionStr=void 0;const r=n(DT),i=Nr(),o=xf(),s=Aa(),a=n(ZT),l=n(au);t.versionStr="1.6.4";const c=["https://www.okx.com/dappstat/wallet-connect","https://www.okx.ac/dappstat/wallet-connect"],u="OKX_RP_CK",f="OKX_RP_UUID_CK",d=100,m={headers:{Accept:"*/*","Content-Type":"text/plain"},method:"POST"};t.OKXReportType={PAGE_IN:"page_in",PAGE_OUT:"page_out",CLICK:"click",LOG:"log"},t.OKXReportSide={DAPP:"dapp",WALLET:"wallet"};const w=(y,...b)=>e(void 0,[y,...b],void 0,function*(E,O={},N=5e3){for(const R of E)try{const L=new AbortController,W=L.signal,M=(0,r.default)(R,Object.assign(Object.assign({},O),{signal:W})),F=new Promise((P,v)=>setTimeout(()=>{L.abort(),v(new Error("Request timed out"))},N)),$=yield Promise.race([M,F]);if($.ok)return $;if($.status==502)return console.error("Fetch error status 502",R),$}catch(L){console.error(`Fetch error for ${R}:`,L)}throw console.error("'All fetch attempts failed.'"),new Error("All fetch attempts failed.")});class x{constructor(){this.currentSide=t.OKXReportSide.DAPP,this.currentVersion=t.versionStr,this.storage=a.default.createInstance({name:"OKXReporter"}),this.recordList=new Array,this.currentUUID=(0,s.toHexString)(l.default.randomBytes(16))}configVersionAndSide(b,E,O){this.currentVersion=b,this.currentSide=E,this.appName=O}get recordCacheKey(){return u+"@"+this.appName}get reportPlatform(){return(0,s.isMobileUserAgent)()?(0,s.isIos)()?"iOS":"android":"pc"}beginReport(){return e(this,void 0,void 0,function*(){this.startErrorCatching();let b=yield this.storage.getItem(this.recordCacheKey),E=yield this.storage.getItem(f);E?this.currentUUID=E:this.storage.setItem(f,this.currentUUID),b&&(this.recordList=b,(0,i.logDebug)("resume records from cache length: ",this.recordList.length),yield this.sendCachedRecords())})}startErrorCatching(){(0,o.getWindow)()&&(0,i.logDebug)("begin capture console error")}cachedErrors(){return this.recordList}sendRecord(b){return e(this,void 0,void 0,function*(){return new Promise((E,O)=>e(this,void 0,void 0,function*(){try{const N=JSON.stringify(b);(0,i.logDebug)("[REPORT] record: ",N);const R=yield w(c,Object.assign(Object.assign({},m),{body:N}));(0,i.logDebug)("[REPORT] get rsp:",R),R&&R.status&&R.status==200?(this.recordList=this.recordList.filter(L=>L.timestamp!=b.timestamp||L.content!=b.content),yield this.storage.setItem(this.recordCacheKey,this.recordList),E(!0)):O(!1)}catch(N){(0,i.logDebug)("send record error:",N),E(!0)}}))})}sendRecordContent(b,E,O){return e(this,void 0,void 0,function*(){var N,R,L,W;let M=(N=(0,o.getWindow)())===null||N===void 0?void 0:N.location.pathname,F=(R=(0,o.getWindow)())===null||R===void 0?void 0:R.location.origin;M&&F&&(F=F+M);let $=(L=(0,o.getWindow)())===null||L===void 0?void 0:L.navigator.language,P=(W=(0,o.getWindow)())===null||W===void 0?void 0:W.navigator.userAgent,v=this.reportPlatform,g={uuid:this.currentUUID,version:this.currentVersion,content:b,action:O,side:this.currentSide,timestamp:new Date().getTime(),url:F,lang:$,type:E,platform:v,"user-agent":P};yield this.markRecordItem(g),yield this.sendRecord(g)})}sendCachedRecords(){return e(this,void 0,void 0,function*(){return new Promise((b,E)=>e(this,void 0,void 0,function*(){let O=this.recordList.map(N=>this.sendRecord(N));(0,i.logDebug)("[REPORT] submit & clean recorded caches begin @",new Date().toUTCString()),Promise.allSettled(O).then(N=>{(0,i.logDebug)("[REPORT] submit & clean recorded caches ends @",new Date().toUTCString());let R=[];N.forEach((L,W)=>{L.status=="rejected"&&R.push(W)}),this.recordList=this.recordList.filter((L,W)=>!R.includes(W)),this.storage.setItem(this.recordCacheKey,this.recordList).then(function(L){b()}).catch(function(L){E(L)})})}))})}markRecordItem(b){return e(this,void 0,void 0,function*(){if(this.recordList.push(b),this.recordList.length>d){let E=this.recordList.length-d;this.recordList.splice(0,E)}return new Promise((E,O)=>{this.storage.setItem(this.recordCacheKey,this.recordList).then(function(N){E(b)}).catch(function(N){O(N)})})})}markRecord(b,E,O,N){return e(this,void 0,void 0,function*(){var R,L,W,M;let F=(R=(0,o.getWindow)())===null||R===void 0?void 0:R.location.pathname,$=(L=(0,o.getWindow)())===null||L===void 0?void 0:L.location.origin;F&&$&&($=$+F);let P=(W=(0,o.getWindow)())===null||W===void 0?void 0:W.navigator.language,v=this.reportPlatform,g=(M=(0,o.getWindow)())===null||M===void 0?void 0:M.navigator.userAgent,_={uuid:this.currentUUID,version:this.currentVersion,content:b,action:O,side:N,timestamp:new Date().getTime(),url:$,lang:P,type:E,platform:v,"user-agent":g};return yield this.markRecordItem(_)})}}t.OKXReporter=x}(wg)),wg}const eN="@okxconnect/core",tN="1.6.4",nN="OKX Connect core",rN="./src/index.js",iN=["OKXConnect","OKX Connect"],oN={build:"npx tsc",local:"yarn install && npx tsc",remove:"rm -rf ./src  && rm -rf ./node_modules"},sN="OKX Wallet",aN="MIT",lN={"@stablelib/ed25519":"^1.0.2","@stablelib/random":"^1.0.1","@stablelib/sha256":"1.0.1","core-js":"2.6.12","cross-fetch":"^4.0.0","crypto-js":"^4.2.0",eventemitter3:"^5.0.1",isutf8:"^4.0.0",localforage:"^1.10.0",multiformats:"9.4.2",process:"^0.11.10",tweetnacl:"^1.0.3","tweetnacl-util":"^0.15.1","ua-parser-js":"^1.0.35",uint8arrays:"3.1.0"},cN={"@types/crypto-js":"^4.2.2","@types/ua-parser-js":"^0.7.36",assert:"^2.1.0",eslint:"^9.7.0",events:"^3.3.0",jest:"^29.7.0","ts-loader":"^9.5.1",typescript:"^5.5.2"},uN={name:eN,version:tN,description:nN,main:rN,keywords:iN,scripts:oN,author:sN,license:aN,dependencies:lN,devDependencies:cN};var nw;function Nr(){if(nw)return Go;nw=1;var t=ne&&ne.__awaiter||function(p,h,m,w){function x(y){return y instanceof m?y:new m(function(b){b(y)})}return new(m||(m=Promise))(function(y,b){function E(R){try{N(w.next(R))}catch(L){b(L)}}function O(R){try{N(w.throw(R))}catch(L){b(L)}}function N(R){R.done?y(R.value):x(R.value).then(E,O)}N((w=w.apply(p,h||[])).next())})};Object.defineProperty(Go,"__esModule",{value:!0}),Go.getDefaultReporter=o,Go.logDebug=l,Go.logError=c,Go.logWarning=u,Go.reportEvent=f,Go.reportLog=d;const e=!1,n=!1,r=Kp(),i=new r.OKXReporter;function o(){return i}const a=uN.version;function l(...p){if(typeof console<"u")try{(e||window!=null&&window.okxLogDebug)&&console.log(`[OKX_CONNECT_SDK] ${a} `,...p)}catch{}}function c(...p){if(typeof console<"u")try{if((e||window!=null&&window.okxLogDebug)&&console.error(`[OKX_CONNECT_SDK] ${a} `,...p),n||!e){let h="";h+=[...p].reduce((m,w)=>{typeof w=="string"?m+=","+w:typeof w=="object"&&(m+=JSON.stringify(w))}),i.sendRecordContent(h,r.OKXReportType.LOG,"")}}catch{}}function u(...p){if(typeof console<"u")try{(e||window!=null&&window.okxLogDebug)&&console.warn(`[OKX_CONNECT_SDK] ${a} `,...p)}catch{}}function f(p,h,m){return t(this,void 0,void 0,function*(){yield i.sendRecordContent(m,p,h)})}function d(p){return t(this,arguments,void 0,function*(h,m="default"){})}return Go}var rw;function lu(){if(rw)return Mu;rw=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.safeJsonParse=r,Mu.safeJsonStringify=i;const t=Nr(),e=o=>JSON.stringify(o,(s,a)=>typeof a=="bigint"?a.toString()+"n":a),n=o=>{const s=/:(\b\d{17,}|\b(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))(?=[,\}\]]|$)/g,a=o.replace(s,(l,c)=>`:"${c}n"`);try{return JSON.parse(a,(l,c)=>typeof c=="string"&&c.match(/^\d+n$/)?BigInt(c.substring(0,c.length-1)):c)}catch{return JSON.parse(o)}};function r(o){if(typeof o!="string")throw(0,t.logDebug)(o),new Error(`Cannot safe json parse value of type ${typeof o}`);try{return n(o)}catch(s){return console.error("safeJsonParse error:",s),o}}function i(o){return typeof o=="string"?o:e(o)||""}return Mu}var Na={};function fN(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(n[s]!==255)throw new TypeError(o+" is ambiguous");n[s]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,w=0,x=0,y=h.length;x!==y&&h[x]===0;)x++,m++;for(var b=(y-x)*u+1>>>0,E=new Uint8Array(b);x!==y;){for(var O=h[x],N=0,R=b-1;(O!==0||N<w)&&R!==-1;R--,N++)O+=256*E[R]>>>0,E[R]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");w=N,x++}for(var L=b-w;L!==b&&E[L]===0;)L++;for(var W=l.repeat(m);L<b;++L)W+=t.charAt(E[L]);return W}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var m=0;if(h[m]!==" "){for(var w=0,x=0;h[m]===l;)w++,m++;for(var y=(h.length-m)*c+1>>>0,b=new Uint8Array(y);h[m];){var E=n[h.charCodeAt(m)];if(E===255)return;for(var O=0,N=y-1;(E!==0||O<x)&&N!==-1;N--,O++)E+=a*b[N]>>>0,b[N]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");x=O,m++}if(h[m]!==" "){for(var R=y-x;R!==y&&b[R]===0;)R++;for(var L=new Uint8Array(w+(y-R)),W=w;R!==y;)L[W++]=b[R++];return L}}}function p(h){var m=d(h);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var dN=fN,hN=dN;const R8=new Uint8Array(0),pN=t=>t.reduce((e,n)=>e+n.toString(16).padStart(2,"0"),""),gN=t=>{const e=t.match(/../g);return e?new Uint8Array(e.map(n=>parseInt(n,16))):R8},T8=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0},cu=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},vN=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),N8=t=>new TextEncoder().encode(t),P8=t=>new TextDecoder().decode(t),mN=Object.freeze(Object.defineProperty({__proto__:null,coerce:cu,empty:R8,equals:T8,fromHex:gN,fromString:N8,isBinary:vN,toHex:pN,toString:P8},Symbol.toStringTag,{value:"Module"}));class yN{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class bN{constructor(e,n,r){this.name=e,this.prefix=n,this.baseDecode=r}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){const n={[this.prefix]:this,...e.decoders||{[e.prefix]:e}};return new hb(n)}}class hb{constructor(e){this.decoders=e}or(e){const n=e.decoders||{[e.prefix]:e};return new hb({...this.decoders,...n})}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}class xN{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new yN(e,n,r),this.decoder=new bN(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const pb=({name:t,prefix:e,encode:n,decode:r})=>new xN(t,e,n,r),wf=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=hN(n,e);return pb({prefix:t,name:e,encode:r,decode:o=>cu(i(o))})},wN=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;const s=new Uint8Array(o*n/8|0);let a=0,l=0,c=0;for(let u=0;u<o;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|f,a+=n,a>=8&&(a-=8,s[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return s},_N=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let o="",s=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],s+=8;s>n;)s-=n,o+=e[i&a>>s];if(s&&(o+=e[i&a<<n-s]),r)for(;o.length*n&7;)o+="=";return o},Pr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>pb({prefix:e,name:t,encode(i){return _N(i,r,n)},decode(i){return wN(i,r,n,t)}}),EN=pb({prefix:"\0",name:"identity",encode:t=>P8(t),decode:t=>N8(t)}),CN=Object.freeze(Object.defineProperty({__proto__:null,identity:EN},Symbol.toStringTag,{value:"Module"})),AN=Pr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),SN=Object.freeze(Object.defineProperty({__proto__:null,base2:AN},Symbol.toStringTag,{value:"Module"})),ON=Pr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),DN=Object.freeze(Object.defineProperty({__proto__:null,base8:ON},Symbol.toStringTag,{value:"Module"})),RN=wf({prefix:"9",name:"base10",alphabet:"0123456789"}),TN=Object.freeze(Object.defineProperty({__proto__:null,base10:RN},Symbol.toStringTag,{value:"Module"})),NN=Pr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),PN=Pr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),kN=Object.freeze(Object.defineProperty({__proto__:null,base16:NN,base16upper:PN},Symbol.toStringTag,{value:"Module"})),v0=Pr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),IN=Pr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),MN=Pr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),BN=Pr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),FN=Pr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),LN=Pr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),UN=Pr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),$N=Pr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),jN=Pr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),KN=Object.freeze(Object.defineProperty({__proto__:null,base32:v0,base32hex:FN,base32hexpad:UN,base32hexpadupper:$N,base32hexupper:LN,base32pad:MN,base32padupper:BN,base32upper:IN,base32z:jN},Symbol.toStringTag,{value:"Module"})),WN=wf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),HN=wf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),XN=Object.freeze(Object.defineProperty({__proto__:null,base36:WN,base36upper:HN},Symbol.toStringTag,{value:"Module"})),ls=wf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),zN=wf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),qN=Object.freeze(Object.defineProperty({__proto__:null,base58btc:ls,base58flickr:zN},Symbol.toStringTag,{value:"Module"})),VN=Pr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),JN=Pr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),GN=Pr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),QN=Pr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),YN=Object.freeze(Object.defineProperty({__proto__:null,base64:VN,base64pad:JN,base64url:GN,base64urlpad:QN},Symbol.toStringTag,{value:"Module"}));var ZN=k8,iw=128,eP=127,tP=~eP,nP=Math.pow(2,31);function k8(t,e,n){e=e||[],n=n||0;for(var r=n;t>=nP;)e[n++]=t&255|iw,t/=128;for(;t&tP;)e[n++]=t&255|iw,t>>>=7;return e[n]=t|0,k8.bytes=n-r+1,e}var rP=vy,iP=128,ow=127;function vy(t,r){var n=0,r=r||0,i=0,o=r,s,a=t.length;do{if(o>=a)throw vy.bytes=0,new RangeError("Could not decode varint");s=t[o++],n+=i<28?(s&ow)<<i:(s&ow)*Math.pow(2,i),i+=7}while(s>=iP);return vy.bytes=o-r,n}var oP=Math.pow(2,7),sP=Math.pow(2,14),aP=Math.pow(2,21),lP=Math.pow(2,28),cP=Math.pow(2,35),uP=Math.pow(2,42),fP=Math.pow(2,49),dP=Math.pow(2,56),hP=Math.pow(2,63),pP=function(t){return t<oP?1:t<sP?2:t<aP?3:t<lP?4:t<cP?5:t<uP?6:t<fP?7:t<dP?8:t<hP?9:10},gP={encode:ZN,decode:rP,encodingLength:pP},$h=gP;const jh=t=>[$h.decode(t),$h.decode.bytes],z0=(t,e,n=0)=>($h.encode(t,e,n),e),q0=t=>$h.encodingLength(t),vP=Object.freeze(Object.defineProperty({__proto__:null,decode:jh,encodeTo:z0,encodingLength:q0},Symbol.toStringTag,{value:"Module"})),gb=(t,e)=>{const n=e.byteLength,r=q0(t),i=r+q0(n),o=new Uint8Array(i+n);return z0(t,o,0),z0(n,o,r),o.set(e,i),new Wp(t,n,e,o)},I8=t=>{const e=cu(t),[n,r]=jh(e),[i,o]=jh(e.subarray(r)),s=e.subarray(r+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Wp(n,i,s,e)},M8=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&T8(t.bytes,e.bytes);class Wp{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const mP=Object.freeze(Object.defineProperty({__proto__:null,Digest:Wp,create:gb,decode:I8,equals:M8},Symbol.toStringTag,{value:"Module"})),Hp=({name:t,code:e,encode:n})=>new B8(t,e,n);class B8{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}async digest(e){if(e instanceof Uint8Array){const n=await this.encode(e);return gb(this.code,n)}else throw Error("Unknown type, must be binary type")}}const yP=Object.freeze(Object.defineProperty({__proto__:null,Hasher:B8,from:Hp},Symbol.toStringTag,{value:"Module"})),F8=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),bP=Hp({name:"sha2-256",code:18,encode:F8("SHA-256")}),xP=Hp({name:"sha2-512",code:19,encode:F8("SHA-512")}),wP=Object.freeze(Object.defineProperty({__proto__:null,sha256:bP,sha512:xP},Symbol.toStringTag,{value:"Module"})),_P=Hp({name:"identity",code:0,encode:t=>cu(t)}),EP=Object.freeze(Object.defineProperty({__proto__:null,identity:_P},Symbol.toStringTag,{value:"Module"})),sw=t=>cu(t),{name:CP,code:AP,encode:SP,decode:OP}={name:"raw",code:85,decode:sw,encode:sw},DP=Object.freeze(Object.defineProperty({__proto__:null,code:AP,decode:OP,encode:SP,name:CP},Symbol.toStringTag,{value:"Module"})),{name:RP,code:TP,encode:NP,decode:PP}={name:"json",code:512,encode:t=>new TextEncoder().encode(JSON.stringify(t)),decode:t=>JSON.parse(new TextDecoder().decode(t))},kP=Object.freeze(Object.defineProperty({__proto__:null,code:TP,decode:PP,encode:NP,name:RP},Symbol.toStringTag,{value:"Module"}));class Br{constructor(e,n,r,i){this.code=n,this.version=e,this.multihash=r,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:dd,byteLength:dd,code:fd,version:fd,multihash:fd,bytes:fd,_baseCache:dd,asCID:dd})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:n}=this;if(e!==Bu)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==FP)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Br.createV0(n)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:n}=this.multihash,r=gb(e,n);return Br.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&M8(this.multihash,e.multihash)}toString(e){const{bytes:n,version:r,_baseCache:i}=this;switch(r){case 0:return MP(n,i,e||ls.encoder);default:return BP(n,i,e||v0.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return UP(/^0\.0/,$P),!!(e&&(e[lw]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Br)return e;if(e!=null&&e.asCID===e){const{version:n,code:r,multihash:i,bytes:o}=e;return new Br(n,r,i,o||aw(n,r,i.bytes))}else if(e!=null&&e[lw]===!0){const{version:n,multihash:r,code:i}=e,o=I8(r);return Br.create(n,i,o)}else return null}static create(e,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(n!==Bu)throw new Error(`Version 0 CID must use dag-pb (code: ${Bu}) block encoding`);return new Br(e,n,r,r.bytes)}case 1:{const i=aw(e,n,r.bytes);return new Br(e,n,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return Br.create(0,Bu,e)}static createV1(e,n){return Br.create(1,e,n)}static decode(e){const[n,r]=Br.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return n}static decodeFirst(e){const n=Br.inspectBytes(e),r=n.size-n.multihashSize,i=cu(e.subarray(r,r+n.multihashSize));if(i.byteLength!==n.multihashSize)throw new Error("Incorrect length");const o=i.subarray(n.multihashSize-n.digestSize),s=new Wp(n.multihashCode,n.digestSize,o,i);return[n.version===0?Br.createV0(s):Br.createV1(n.codec,s),e.subarray(n.size)]}static inspectBytes(e){let n=0;const r=()=>{const[f,d]=jh(e.subarray(n));return n+=d,f};let i=r(),o=Bu;if(i===18?(i=0,n=0):i===1&&(o=r()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const s=n,a=r(),l=r(),c=n+l,u=c-s;return{version:i,codec:o,multihashCode:a,digestSize:l,multihashSize:u,size:c}}static parse(e,n){const[r,i]=IP(e,n),o=Br.decode(i);return o._baseCache.set(r,e),o}}const IP=(t,e)=>{switch(t[0]){case"Q":{const n=e||ls;return[ls.prefix,n.decode(`${ls.prefix}${t}`)]}case ls.prefix:{const n=e||ls;return[ls.prefix,n.decode(t)]}case v0.prefix:{const n=e||v0;return[v0.prefix,n.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},MP=(t,e,n)=>{const{prefix:r}=n;if(r!==ls.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=e.get(r);if(i==null){const o=n.encode(t).slice(1);return e.set(r,o),o}else return i},BP=(t,e,n)=>{const{prefix:r}=n,i=e.get(r);if(i==null){const o=n.encode(t);return e.set(r,o),o}else return i},Bu=112,FP=18,aw=(t,e,n)=>{const r=q0(t),i=r+q0(e),o=new Uint8Array(i+n.byteLength);return z0(t,o,0),z0(e,o,r),o.set(n,i),o},lw=Symbol.for("@ipld/js-cid/CID"),fd={writable:!1,configurable:!1,enumerable:!0},dd={writable:!1,enumerable:!1,configurable:!1},LP="0.0.0-dev",UP=(t,e)=>{if(t.test(LP))console.warn(e);else throw new Error(e)},$P=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,jP={...CN,...SN,...DN,...TN,...kN,...KN,...XN,...qN,...YN},KP={...wP,...EP},WP={raw:DP,json:kP},HP=Object.freeze(Object.defineProperty({__proto__:null,CID:Br,bases:jP,bytes:mN,codecs:WP,digest:mP,hasher:yP,hashes:KP,varint:vP},Symbol.toStringTag,{value:"Module"})),XP=gp(HP);var cw;function L8(){if(cw)return Na;cw=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.okxfromString=n,Na.okxtoString=r,Na.alloc=i,Na.allocUnsafe=o;const t=XP,e=Nr();function n(u,f="utf8"){const d=c[f];if((0,e.logDebug)("okxfromstring ====> "),!d)throw new Error(`Unsupported encoding "${f}"`);return d.decoder.decode(`${d.prefix}${u}`)}function r(u,f="utf8"){const d=c[f];if((0,e.logDebug)("okxtoString ====> "),!d)throw new Error(`Unsupported encoding "${f}"`);return d.encoder.encode(u).substring(1)}function i(u=0){return new Uint8Array(u)}function o(u=0){return new Uint8Array(u)}function s(u,f,d,p){return{name:u,prefix:f,encoder:{name:u,prefix:f,encode:d},decoder:{decode:p}}}const a=s("utf8","u",u=>"u"+new TextDecoder("utf8").decode(u),u=>new TextEncoder().encode(u.substring(1))),l=s("ascii","a",u=>{let f="a";for(let d=0;d<u.length;d++){let p=u[d];p&&String.fromCharCode(p)&&(f+=String.fromCharCode(p))}return f},u=>{u=u.substring(1);const f=o(u.length);for(let d=0;d<u.length;d++)f[d]=u.charCodeAt(d);return f}),c=Object.assign({utf8:a,"utf-8":a,hex:t.bases.base16,latin1:l,ascii:l,binary:l},t.bases);return Na}var U8={exports:{}},Eg={exports:{}},uw;function rn(){return uw||(uw=1,function(t,e){(function(n,r){t.exports=r()})(ne,function(){var n=n||function(r,i){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof ne<"u"&&ne.crypto&&(o=ne.crypto),!o&&typeof Xa=="function")try{o=Mp}catch{}var s=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function y(){}return function(b){var E;return y.prototype=b,E=new y,y.prototype=null,E}}(),l={},c=l.lib={},u=c.Base=function(){return{extend:function(y){var b=a(this);return y&&b.mixIn(y),(!b.hasOwnProperty("init")||this.init===b.init)&&(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var b in y)y.hasOwnProperty(b)&&(this[b]=y[b]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=c.WordArray=u.extend({init:function(y,b){y=this.words=y||[],b!=i?this.sigBytes=b:this.sigBytes=y.length*4},toString:function(y){return(y||p).stringify(this)},concat:function(y){var b=this.words,E=y.words,O=this.sigBytes,N=y.sigBytes;if(this.clamp(),O%4)for(var R=0;R<N;R++){var L=E[R>>>2]>>>24-R%4*8&255;b[O+R>>>2]|=L<<24-(O+R)%4*8}else for(var W=0;W<N;W+=4)b[O+W>>>2]=E[W>>>2];return this.sigBytes+=N,this},clamp:function(){var y=this.words,b=this.sigBytes;y[b>>>2]&=4294967295<<32-b%4*8,y.length=r.ceil(b/4)},clone:function(){var y=u.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var b=[],E=0;E<y;E+=4)b.push(s());return new f.init(b,y)}}),d=l.enc={},p=d.Hex={stringify:function(y){for(var b=y.words,E=y.sigBytes,O=[],N=0;N<E;N++){var R=b[N>>>2]>>>24-N%4*8&255;O.push((R>>>4).toString(16)),O.push((R&15).toString(16))}return O.join("")},parse:function(y){for(var b=y.length,E=[],O=0;O<b;O+=2)E[O>>>3]|=parseInt(y.substr(O,2),16)<<24-O%8*4;return new f.init(E,b/2)}},h=d.Latin1={stringify:function(y){for(var b=y.words,E=y.sigBytes,O=[],N=0;N<E;N++){var R=b[N>>>2]>>>24-N%4*8&255;O.push(String.fromCharCode(R))}return O.join("")},parse:function(y){for(var b=y.length,E=[],O=0;O<b;O++)E[O>>>2]|=(y.charCodeAt(O)&255)<<24-O%4*8;return new f.init(E,b)}},m=d.Utf8={stringify:function(y){try{return decodeURIComponent(escape(h.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return h.parse(unescape(encodeURIComponent(y)))}},w=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(y){typeof y=="string"&&(y=m.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var b,E=this._data,O=E.words,N=E.sigBytes,R=this.blockSize,L=R*4,W=N/L;y?W=r.ceil(W):W=r.max((W|0)-this._minBufferSize,0);var M=W*R,F=r.min(M*4,N);if(M){for(var $=0;$<M;$+=R)this._doProcessBlock(O,$);b=O.splice(0,M),E.sigBytes-=F}return new f.init(b,F)},clone:function(){var y=u.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0});c.Hasher=w.extend({cfg:u.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){y&&this._append(y);var b=this._doFinalize();return b},blockSize:16,_createHelper:function(y){return function(b,E){return new y.init(E).finalize(b)}},_createHmacHelper:function(y){return function(b,E){return new x.HMAC.init(y,E).finalize(b)}}});var x=l.algo={};return l}(Math);return n})}(Eg)),Eg.exports}var Cg={exports:{}},fw;function Xp(){return fw||(fw=1,function(t,e){(function(n,r){t.exports=r(rn())})(ne,function(n){return function(r){var i=n,o=i.lib,s=o.Base,a=o.WordArray,l=i.x64={};l.Word=s.extend({init:function(c,u){this.high=c,this.low=u}}),l.WordArray=s.extend({init:function(c,u){c=this.words=c||[],u!=r?this.sigBytes=u:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,u=c.length,f=[],d=0;d<u;d++){var p=c[d];f.push(p.high),f.push(p.low)}return a.create(f,this.sigBytes)},clone:function(){for(var c=s.clone.call(this),u=c.words=this.words.slice(0),f=u.length,d=0;d<f;d++)u[d]=u[d].clone();return c}})}(),n})}(Cg)),Cg.exports}var Ag={exports:{}},dw;function zP(){return dw||(dw=1,function(t,e){(function(n,r){t.exports=r(rn())})(ne,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,o=i.WordArray,s=o.init,a=o.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,u=[],f=0;f<c;f++)u[f>>>2]|=l[f]<<24-f%4*8;s.call(this,u,c)}else s.apply(this,arguments)};a.prototype=o}}(),n.lib.WordArray})}(Ag)),Ag.exports}var Sg={exports:{}},hw;function qP(){return hw||(hw=1,function(t,e){(function(n,r){t.exports=r(rn())})(ne,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Utf16=s.Utf16BE={stringify:function(l){for(var c=l.words,u=l.sigBytes,f=[],d=0;d<u;d+=2){var p=c[d>>>2]>>>16-d%4*8&65535;f.push(String.fromCharCode(p))}return f.join("")},parse:function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return o.create(u,c*2)}},s.Utf16LE={stringify:function(l){for(var c=l.words,u=l.sigBytes,f=[],d=0;d<u;d+=2){var p=a(c[d>>>2]>>>16-d%4*8&65535);f.push(String.fromCharCode(p))}return f.join("")},parse:function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return o.create(u,c*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),n.enc.Utf16})}(Sg)),Sg.exports}var Og={exports:{}},pw;function El(){return pw||(pw=1,function(t,e){(function(n,r){t.exports=r(rn())})(ne,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Base64={stringify:function(l){var c=l.words,u=l.sigBytes,f=this._map;l.clamp();for(var d=[],p=0;p<u;p+=3)for(var h=c[p>>>2]>>>24-p%4*8&255,m=c[p+1>>>2]>>>24-(p+1)%4*8&255,w=c[p+2>>>2]>>>24-(p+2)%4*8&255,x=h<<16|m<<8|w,y=0;y<4&&p+y*.75<u;y++)d.push(f.charAt(x>>>6*(3-y)&63));var b=f.charAt(64);if(b)for(;d.length%4;)d.push(b);return d.join("")},parse:function(l){var c=l.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var d=0;d<u.length;d++)f[u.charCodeAt(d)]=d}var p=u.charAt(64);if(p){var h=l.indexOf(p);h!==-1&&(c=h)}return a(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var f=[],d=0,p=0;p<c;p++)if(p%4){var h=u[l.charCodeAt(p-1)]<<p%4*2,m=u[l.charCodeAt(p)]>>>6-p%4*2,w=h|m;f[d>>>2]|=w<<24-d%4*8,d++}return o.create(f,d)}}(),n.enc.Base64})}(Og)),Og.exports}var Dg={exports:{}},gw;function VP(){return gw||(gw=1,function(t,e){(function(n,r){t.exports=r(rn())})(ne,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Base64url={stringify:function(l,c){c===void 0&&(c=!0);var u=l.words,f=l.sigBytes,d=c?this._safe_map:this._map;l.clamp();for(var p=[],h=0;h<f;h+=3)for(var m=u[h>>>2]>>>24-h%4*8&255,w=u[h+1>>>2]>>>24-(h+1)%4*8&255,x=u[h+2>>>2]>>>24-(h+2)%4*8&255,y=m<<16|w<<8|x,b=0;b<4&&h+b*.75<f;b++)p.push(d.charAt(y>>>6*(3-b)&63));var E=d.charAt(64);if(E)for(;p.length%4;)p.push(E);return p.join("")},parse:function(l,c){c===void 0&&(c=!0);var u=l.length,f=c?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var p=0;p<f.length;p++)d[f.charCodeAt(p)]=p}var h=f.charAt(64);if(h){var m=l.indexOf(h);m!==-1&&(u=m)}return a(l,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var f=[],d=0,p=0;p<c;p++)if(p%4){var h=u[l.charCodeAt(p-1)]<<p%4*2,m=u[l.charCodeAt(p)]>>>6-p%4*2,w=h|m;f[d>>>2]|=w<<24-d%4*8,d++}return o.create(f,d)}}(),n.enc.Base64url})}(Dg)),Dg.exports}var Rg={exports:{}},vw;function Cl(){return vw||(vw=1,function(t,e){(function(n,r){t.exports=r(rn())})(ne,function(n){return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,c=[];(function(){for(var m=0;m<64;m++)c[m]=r.abs(r.sin(m+1))*4294967296|0})();var u=l.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,w){for(var x=0;x<16;x++){var y=w+x,b=m[y];m[y]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var E=this._hash.words,O=m[w+0],N=m[w+1],R=m[w+2],L=m[w+3],W=m[w+4],M=m[w+5],F=m[w+6],$=m[w+7],P=m[w+8],v=m[w+9],g=m[w+10],_=m[w+11],T=m[w+12],D=m[w+13],I=m[w+14],j=m[w+15],B=E[0],C=E[1],H=E[2],ae=E[3];B=f(B,C,H,ae,O,7,c[0]),ae=f(ae,B,C,H,N,12,c[1]),H=f(H,ae,B,C,R,17,c[2]),C=f(C,H,ae,B,L,22,c[3]),B=f(B,C,H,ae,W,7,c[4]),ae=f(ae,B,C,H,M,12,c[5]),H=f(H,ae,B,C,F,17,c[6]),C=f(C,H,ae,B,$,22,c[7]),B=f(B,C,H,ae,P,7,c[8]),ae=f(ae,B,C,H,v,12,c[9]),H=f(H,ae,B,C,g,17,c[10]),C=f(C,H,ae,B,_,22,c[11]),B=f(B,C,H,ae,T,7,c[12]),ae=f(ae,B,C,H,D,12,c[13]),H=f(H,ae,B,C,I,17,c[14]),C=f(C,H,ae,B,j,22,c[15]),B=d(B,C,H,ae,N,5,c[16]),ae=d(ae,B,C,H,F,9,c[17]),H=d(H,ae,B,C,_,14,c[18]),C=d(C,H,ae,B,O,20,c[19]),B=d(B,C,H,ae,M,5,c[20]),ae=d(ae,B,C,H,g,9,c[21]),H=d(H,ae,B,C,j,14,c[22]),C=d(C,H,ae,B,W,20,c[23]),B=d(B,C,H,ae,v,5,c[24]),ae=d(ae,B,C,H,I,9,c[25]),H=d(H,ae,B,C,L,14,c[26]),C=d(C,H,ae,B,P,20,c[27]),B=d(B,C,H,ae,D,5,c[28]),ae=d(ae,B,C,H,R,9,c[29]),H=d(H,ae,B,C,$,14,c[30]),C=d(C,H,ae,B,T,20,c[31]),B=p(B,C,H,ae,M,4,c[32]),ae=p(ae,B,C,H,P,11,c[33]),H=p(H,ae,B,C,_,16,c[34]),C=p(C,H,ae,B,I,23,c[35]),B=p(B,C,H,ae,N,4,c[36]),ae=p(ae,B,C,H,W,11,c[37]),H=p(H,ae,B,C,$,16,c[38]),C=p(C,H,ae,B,g,23,c[39]),B=p(B,C,H,ae,D,4,c[40]),ae=p(ae,B,C,H,O,11,c[41]),H=p(H,ae,B,C,L,16,c[42]),C=p(C,H,ae,B,F,23,c[43]),B=p(B,C,H,ae,v,4,c[44]),ae=p(ae,B,C,H,T,11,c[45]),H=p(H,ae,B,C,j,16,c[46]),C=p(C,H,ae,B,R,23,c[47]),B=h(B,C,H,ae,O,6,c[48]),ae=h(ae,B,C,H,$,10,c[49]),H=h(H,ae,B,C,I,15,c[50]),C=h(C,H,ae,B,M,21,c[51]),B=h(B,C,H,ae,T,6,c[52]),ae=h(ae,B,C,H,L,10,c[53]),H=h(H,ae,B,C,g,15,c[54]),C=h(C,H,ae,B,N,21,c[55]),B=h(B,C,H,ae,P,6,c[56]),ae=h(ae,B,C,H,j,10,c[57]),H=h(H,ae,B,C,F,15,c[58]),C=h(C,H,ae,B,D,21,c[59]),B=h(B,C,H,ae,W,6,c[60]),ae=h(ae,B,C,H,_,10,c[61]),H=h(H,ae,B,C,R,15,c[62]),C=h(C,H,ae,B,v,21,c[63]),E[0]=E[0]+B|0,E[1]=E[1]+C|0,E[2]=E[2]+H|0,E[3]=E[3]+ae|0},_doFinalize:function(){var m=this._data,w=m.words,x=this._nDataBytes*8,y=m.sigBytes*8;w[y>>>5]|=128<<24-y%32;var b=r.floor(x/4294967296),E=x;w[(y+64>>>9<<4)+15]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,w[(y+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,m.sigBytes=(w.length+1)*4,this._process();for(var O=this._hash,N=O.words,R=0;R<4;R++){var L=N[R];N[R]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}return O},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function f(m,w,x,y,b,E,O){var N=m+(w&x|~w&y)+b+O;return(N<<E|N>>>32-E)+w}function d(m,w,x,y,b,E,O){var N=m+(w&y|x&~y)+b+O;return(N<<E|N>>>32-E)+w}function p(m,w,x,y,b,E,O){var N=m+(w^x^y)+b+O;return(N<<E|N>>>32-E)+w}function h(m,w,x,y,b,E,O){var N=m+(x^(w|~y))+b+O;return(N<<E|N>>>32-E)+w}i.MD5=a._createHelper(u),i.HmacMD5=a._createHmacHelper(u)}(Math),n.MD5})}(Rg)),Rg.exports}var Tg={exports:{}},mw;function $8(){return mw||(mw=1,function(t,e){(function(n,r){t.exports=r(rn())})(ne,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=i.Hasher,a=r.algo,l=[],c=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var d=this._hash.words,p=d[0],h=d[1],m=d[2],w=d[3],x=d[4],y=0;y<80;y++){if(y<16)l[y]=u[f+y]|0;else{var b=l[y-3]^l[y-8]^l[y-14]^l[y-16];l[y]=b<<1|b>>>31}var E=(p<<5|p>>>27)+x+l[y];y<20?E+=(h&m|~h&w)+1518500249:y<40?E+=(h^m^w)+1859775393:y<60?E+=(h&m|h&w|m&w)-1894007588:E+=(h^m^w)-899497514,x=w,w=m,m=h<<30|h>>>2,h=p,p=E}d[0]=d[0]+p|0,d[1]=d[1]+h|0,d[2]=d[2]+m|0,d[3]=d[3]+w|0,d[4]=d[4]+x|0},_doFinalize:function(){var u=this._data,f=u.words,d=this._nDataBytes*8,p=u.sigBytes*8;return f[p>>>5]|=128<<24-p%32,f[(p+64>>>9<<4)+14]=Math.floor(d/4294967296),f[(p+64>>>9<<4)+15]=d,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=s.clone.call(this);return u._hash=this._hash.clone(),u}});r.SHA1=s._createHelper(c),r.HmacSHA1=s._createHmacHelper(c)}(),n.SHA1})}(Tg)),Tg.exports}var Ng={exports:{}},yw;function vb(){return yw||(yw=1,function(t,e){(function(n,r){t.exports=r(rn())})(ne,function(n){return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,c=[],u=[];(function(){function p(x){for(var y=r.sqrt(x),b=2;b<=y;b++)if(!(x%b))return!1;return!0}function h(x){return(x-(x|0))*4294967296|0}for(var m=2,w=0;w<64;)p(m)&&(w<8&&(c[w]=h(r.pow(m,1/2))),u[w]=h(r.pow(m,1/3)),w++),m++})();var f=[],d=l.SHA256=a.extend({_doReset:function(){this._hash=new s.init(c.slice(0))},_doProcessBlock:function(p,h){for(var m=this._hash.words,w=m[0],x=m[1],y=m[2],b=m[3],E=m[4],O=m[5],N=m[6],R=m[7],L=0;L<64;L++){if(L<16)f[L]=p[h+L]|0;else{var W=f[L-15],M=(W<<25|W>>>7)^(W<<14|W>>>18)^W>>>3,F=f[L-2],$=(F<<15|F>>>17)^(F<<13|F>>>19)^F>>>10;f[L]=M+f[L-7]+$+f[L-16]}var P=E&O^~E&N,v=w&x^w&y^x&y,g=(w<<30|w>>>2)^(w<<19|w>>>13)^(w<<10|w>>>22),_=(E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25),T=R+_+P+u[L]+f[L],D=g+v;R=N,N=O,O=E,E=b+T|0,b=y,y=x,x=w,w=T+D|0}m[0]=m[0]+w|0,m[1]=m[1]+x|0,m[2]=m[2]+y|0,m[3]=m[3]+b|0,m[4]=m[4]+E|0,m[5]=m[5]+O|0,m[6]=m[6]+N|0,m[7]=m[7]+R|0},_doFinalize:function(){var p=this._data,h=p.words,m=this._nDataBytes*8,w=p.sigBytes*8;return h[w>>>5]|=128<<24-w%32,h[(w+64>>>9<<4)+14]=r.floor(m/4294967296),h[(w+64>>>9<<4)+15]=m,p.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p}});i.SHA256=a._createHelper(d),i.HmacSHA256=a._createHmacHelper(d)}(Math),n.SHA256})}(Ng)),Ng.exports}var Pg={exports:{}},bw;function JP(){return bw||(bw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),vb())})(ne,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.algo,a=s.SHA256,l=s.SHA224=a.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)}(),n.SHA224})}(Pg)),Pg.exports}var kg={exports:{}},xw;function j8(){return xw||(xw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),Xp())})(ne,function(n){return function(){var r=n,i=r.lib,o=i.Hasher,s=r.x64,a=s.Word,l=s.WordArray,c=r.algo;function u(){return a.create.apply(a,arguments)}var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],d=[];(function(){for(var h=0;h<80;h++)d[h]=u()})();var p=c.SHA512=o.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(h,m){for(var w=this._hash.words,x=w[0],y=w[1],b=w[2],E=w[3],O=w[4],N=w[5],R=w[6],L=w[7],W=x.high,M=x.low,F=y.high,$=y.low,P=b.high,v=b.low,g=E.high,_=E.low,T=O.high,D=O.low,I=N.high,j=N.low,B=R.high,C=R.low,H=L.high,ae=L.low,U=W,ce=M,te=F,z=$,G=P,S=v,J=g,re=_,me=T,ge=D,xe=I,qe=j,Fe=B,Se=C,lt=H,Qe=ae,tt=0;tt<80;tt++){var xt,ze,Ye=d[tt];if(tt<16)ze=Ye.high=h[m+tt*2]|0,xt=Ye.low=h[m+tt*2+1]|0;else{var Dt=d[tt-15],Te=Dt.high,Ie=Dt.low,We=(Te>>>1|Ie<<31)^(Te>>>8|Ie<<24)^Te>>>7,Ke=(Ie>>>1|Te<<31)^(Ie>>>8|Te<<24)^(Ie>>>7|Te<<25),ut=d[tt-2],Nt=ut.high,Le=ut.low,Pe=(Nt>>>19|Le<<13)^(Nt<<3|Le>>>29)^Nt>>>6,Ut=(Le>>>19|Nt<<13)^(Le<<3|Nt>>>29)^(Le>>>6|Nt<<26),wt=d[tt-7],Tt=wt.high,_n=wt.low,Pt=d[tt-16],Kt=Pt.high,yn=Pt.low;xt=Ke+_n,ze=We+Tt+(xt>>>0<Ke>>>0?1:0),xt=xt+Ut,ze=ze+Pe+(xt>>>0<Ut>>>0?1:0),xt=xt+yn,ze=ze+Kt+(xt>>>0<yn>>>0?1:0),Ye.high=ze,Ye.low=xt}var Vt=me&xe^~me&Fe,Yt=ge&qe^~ge&Se,dn=U&te^U&G^te&G,pt=ce&z^ce&S^z&S,vt=(U>>>28|ce<<4)^(U<<30|ce>>>2)^(U<<25|ce>>>7),Jt=(ce>>>28|U<<4)^(ce<<30|U>>>2)^(ce<<25|U>>>7),Ct=(me>>>14|ge<<18)^(me>>>18|ge<<14)^(me<<23|ge>>>9),At=(ge>>>14|me<<18)^(ge>>>18|me<<14)^(ge<<23|me>>>9),un=f[tt],Rt=un.high,at=un.low,Ft=Qe+At,k=lt+Ct+(Ft>>>0<Qe>>>0?1:0),Ft=Ft+Yt,k=k+Vt+(Ft>>>0<Yt>>>0?1:0),Ft=Ft+at,k=k+Rt+(Ft>>>0<at>>>0?1:0),Ft=Ft+xt,k=k+ze+(Ft>>>0<xt>>>0?1:0),X=Jt+pt,q=vt+dn+(X>>>0<Jt>>>0?1:0);lt=Fe,Qe=Se,Fe=xe,Se=qe,xe=me,qe=ge,ge=re+Ft|0,me=J+k+(ge>>>0<re>>>0?1:0)|0,J=G,re=S,G=te,S=z,te=U,z=ce,ce=Ft+X|0,U=k+q+(ce>>>0<Ft>>>0?1:0)|0}M=x.low=M+ce,x.high=W+U+(M>>>0<ce>>>0?1:0),$=y.low=$+z,y.high=F+te+($>>>0<z>>>0?1:0),v=b.low=v+S,b.high=P+G+(v>>>0<S>>>0?1:0),_=E.low=_+re,E.high=g+J+(_>>>0<re>>>0?1:0),D=O.low=D+ge,O.high=T+me+(D>>>0<ge>>>0?1:0),j=N.low=j+qe,N.high=I+xe+(j>>>0<qe>>>0?1:0),C=R.low=C+Se,R.high=B+Fe+(C>>>0<Se>>>0?1:0),ae=L.low=ae+Qe,L.high=H+lt+(ae>>>0<Qe>>>0?1:0)},_doFinalize:function(){var h=this._data,m=h.words,w=this._nDataBytes*8,x=h.sigBytes*8;m[x>>>5]|=128<<24-x%32,m[(x+128>>>10<<5)+30]=Math.floor(w/4294967296),m[(x+128>>>10<<5)+31]=w,h.sigBytes=m.length*4,this._process();var y=this._hash.toX32();return y},clone:function(){var h=o.clone.call(this);return h._hash=this._hash.clone(),h},blockSize:1024/32});r.SHA512=o._createHelper(p),r.HmacSHA512=o._createHmacHelper(p)}(),n.SHA512})}(kg)),kg.exports}var Ig={exports:{}},ww;function GP(){return ww||(ww=1,function(t,e){(function(n,r,i){t.exports=r(rn(),Xp(),j8())})(ne,function(n){return function(){var r=n,i=r.x64,o=i.Word,s=i.WordArray,a=r.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=16,u}});r.SHA384=l._createHelper(c),r.HmacSHA384=l._createHmacHelper(c)}(),n.SHA384})}(Ig)),Ig.exports}var Mg={exports:{}},_w;function QP(){return _w||(_w=1,function(t,e){(function(n,r,i){t.exports=r(rn(),Xp())})(ne,function(n){return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.x64,c=l.Word,u=i.algo,f=[],d=[],p=[];(function(){for(var w=1,x=0,y=0;y<24;y++){f[w+5*x]=(y+1)*(y+2)/2%64;var b=x%5,E=(2*w+3*x)%5;w=b,x=E}for(var w=0;w<5;w++)for(var x=0;x<5;x++)d[w+5*x]=x+(2*w+3*x)%5*5;for(var O=1,N=0;N<24;N++){for(var R=0,L=0,W=0;W<7;W++){if(O&1){var M=(1<<W)-1;M<32?L^=1<<M:R^=1<<M-32}O&128?O=O<<1^113:O<<=1}p[N]=c.create(R,L)}})();var h=[];(function(){for(var w=0;w<25;w++)h[w]=c.create()})();var m=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var w=this._state=[],x=0;x<25;x++)w[x]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(w,x){for(var y=this._state,b=this.blockSize/2,E=0;E<b;E++){var O=w[x+2*E],N=w[x+2*E+1];O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360;var R=y[E];R.high^=N,R.low^=O}for(var L=0;L<24;L++){for(var W=0;W<5;W++){for(var M=0,F=0,$=0;$<5;$++){var R=y[W+5*$];M^=R.high,F^=R.low}var P=h[W];P.high=M,P.low=F}for(var W=0;W<5;W++)for(var v=h[(W+4)%5],g=h[(W+1)%5],_=g.high,T=g.low,M=v.high^(_<<1|T>>>31),F=v.low^(T<<1|_>>>31),$=0;$<5;$++){var R=y[W+5*$];R.high^=M,R.low^=F}for(var D=1;D<25;D++){var M,F,R=y[D],I=R.high,j=R.low,B=f[D];B<32?(M=I<<B|j>>>32-B,F=j<<B|I>>>32-B):(M=j<<B-32|I>>>64-B,F=I<<B-32|j>>>64-B);var C=h[d[D]];C.high=M,C.low=F}var H=h[0],ae=y[0];H.high=ae.high,H.low=ae.low;for(var W=0;W<5;W++)for(var $=0;$<5;$++){var D=W+5*$,R=y[D],U=h[D],ce=h[(W+1)%5+5*$],te=h[(W+2)%5+5*$];R.high=U.high^~ce.high&te.high,R.low=U.low^~ce.low&te.low}var R=y[0],z=p[L];R.high^=z.high,R.low^=z.low}},_doFinalize:function(){var w=this._data,x=w.words;this._nDataBytes*8;var y=w.sigBytes*8,b=this.blockSize*32;x[y>>>5]|=1<<24-y%32,x[(r.ceil((y+1)/b)*b>>>5)-1]|=128,w.sigBytes=x.length*4,this._process();for(var E=this._state,O=this.cfg.outputLength/8,N=O/8,R=[],L=0;L<N;L++){var W=E[L],M=W.high,F=W.low;M=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,R.push(F),R.push(M)}return new s.init(R,O)},clone:function(){for(var w=a.clone.call(this),x=w._state=this._state.slice(0),y=0;y<25;y++)x[y]=x[y].clone();return w}});i.SHA3=a._createHelper(m),i.HmacSHA3=a._createHmacHelper(m)}(Math),n.SHA3})}(Mg)),Mg.exports}var Bg={exports:{}},Ew;function YP(){return Ew||(Ew=1,function(t,e){(function(n,r){t.exports=r(rn())})(ne,function(n){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,c=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=s.create([0,1518500249,1859775393,2400959708,2840853838]),h=s.create([1352829926,1548603684,1836072691,2053994217,0]),m=l.RIPEMD160=a.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(N,R){for(var L=0;L<16;L++){var W=R+L,M=N[W];N[W]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}var F=this._hash.words,$=p.words,P=h.words,v=c.words,g=u.words,_=f.words,T=d.words,D,I,j,B,C,H,ae,U,ce,te;H=D=F[0],ae=I=F[1],U=j=F[2],ce=B=F[3],te=C=F[4];for(var z,L=0;L<80;L+=1)z=D+N[R+v[L]]|0,L<16?z+=w(I,j,B)+$[0]:L<32?z+=x(I,j,B)+$[1]:L<48?z+=y(I,j,B)+$[2]:L<64?z+=b(I,j,B)+$[3]:z+=E(I,j,B)+$[4],z=z|0,z=O(z,_[L]),z=z+C|0,D=C,C=B,B=O(j,10),j=I,I=z,z=H+N[R+g[L]]|0,L<16?z+=E(ae,U,ce)+P[0]:L<32?z+=b(ae,U,ce)+P[1]:L<48?z+=y(ae,U,ce)+P[2]:L<64?z+=x(ae,U,ce)+P[3]:z+=w(ae,U,ce)+P[4],z=z|0,z=O(z,T[L]),z=z+te|0,H=te,te=ce,ce=O(U,10),U=ae,ae=z;z=F[1]+j+ce|0,F[1]=F[2]+B+te|0,F[2]=F[3]+C+H|0,F[3]=F[4]+D+ae|0,F[4]=F[0]+I+U|0,F[0]=z},_doFinalize:function(){var N=this._data,R=N.words,L=this._nDataBytes*8,W=N.sigBytes*8;R[W>>>5]|=128<<24-W%32,R[(W+64>>>9<<4)+14]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,N.sigBytes=(R.length+1)*4,this._process();for(var M=this._hash,F=M.words,$=0;$<5;$++){var P=F[$];F[$]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return M},clone:function(){var N=a.clone.call(this);return N._hash=this._hash.clone(),N}});function w(N,R,L){return N^R^L}function x(N,R,L){return N&R|~N&L}function y(N,R,L){return(N|~R)^L}function b(N,R,L){return N&L|R&~L}function E(N,R,L){return N^(R|~L)}function O(N,R){return N<<R|N>>>32-R}i.RIPEMD160=a._createHelper(m),i.HmacRIPEMD160=a._createHmacHelper(m)}(),n.RIPEMD160})}(Bg)),Bg.exports}var Fg={exports:{}},Cw;function mb(){return Cw||(Cw=1,function(t,e){(function(n,r){t.exports=r(rn())})(ne,function(n){(function(){var r=n,i=r.lib,o=i.Base,s=r.enc,a=s.Utf8,l=r.algo;l.HMAC=o.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=a.parse(u));var f=c.blockSize,d=f*4;u.sigBytes>d&&(u=c.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),h=this._iKey=u.clone(),m=p.words,w=h.words,x=0;x<f;x++)m[x]^=1549556828,w[x]^=909522486;p.sigBytes=h.sigBytes=d,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,f=u.finalize(c);u.reset();var d=u.finalize(this._oKey.clone().concat(f));return d}})})()})}(Fg)),Fg.exports}var Lg={exports:{}},Aw;function ZP(){return Aw||(Aw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),vb(),mb())})(ne,function(n){return function(){var r=n,i=r.lib,o=i.Base,s=i.WordArray,a=r.algo,l=a.SHA256,c=a.HMAC,u=a.PBKDF2=o.extend({cfg:o.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,d){for(var p=this.cfg,h=c.create(p.hasher,f),m=s.create(),w=s.create([1]),x=m.words,y=w.words,b=p.keySize,E=p.iterations;x.length<b;){var O=h.update(d).finalize(w);h.reset();for(var N=O.words,R=N.length,L=O,W=1;W<E;W++){L=h.finalize(L),h.reset();for(var M=L.words,F=0;F<R;F++)N[F]^=M[F]}m.concat(O),y[0]++}return m.sigBytes=b*4,m}});r.PBKDF2=function(f,d,p){return u.create(p).compute(f,d)}}(),n.PBKDF2})}(Lg)),Lg.exports}var Ug={exports:{}},Sw;function Sa(){return Sw||(Sw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),$8(),mb())})(ne,function(n){return function(){var r=n,i=r.lib,o=i.Base,s=i.WordArray,a=r.algo,l=a.MD5,c=a.EvpKDF=o.extend({cfg:o.extend({keySize:128/32,hasher:l,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var d,p=this.cfg,h=p.hasher.create(),m=s.create(),w=m.words,x=p.keySize,y=p.iterations;w.length<x;){d&&h.update(d),d=h.update(u).finalize(f),h.reset();for(var b=1;b<y;b++)d=h.finalize(d),h.reset();m.concat(d)}return m.sigBytes=x*4,m}});r.EvpKDF=function(u,f,d){return c.create(d).compute(u,f)}}(),n.EvpKDF})}(Ug)),Ug.exports}var $g={exports:{}},Ow;function br(){return Ow||(Ow=1,function(t,e){(function(n,r,i){t.exports=r(rn(),Sa())})(ne,function(n){n.lib.Cipher||function(r){var i=n,o=i.lib,s=o.Base,a=o.WordArray,l=o.BufferedBlockAlgorithm,c=i.enc;c.Utf8;var u=c.Base64,f=i.algo,d=f.EvpKDF,p=o.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(M,F){return this.create(this._ENC_XFORM_MODE,M,F)},createDecryptor:function(M,F){return this.create(this._DEC_XFORM_MODE,M,F)},init:function(M,F,$){this.cfg=this.cfg.extend($),this._xformMode=M,this._key=F,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(M){return this._append(M),this._process()},finalize:function(M){M&&this._append(M);var F=this._doFinalize();return F},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function M(F){return typeof F=="string"?W:N}return function(F){return{encrypt:function($,P,v){return M(P).encrypt(F,$,P,v)},decrypt:function($,P,v){return M(P).decrypt(F,$,P,v)}}}}()});o.StreamCipher=p.extend({_doFinalize:function(){var M=this._process(!0);return M},blockSize:1});var h=i.mode={},m=o.BlockCipherMode=s.extend({createEncryptor:function(M,F){return this.Encryptor.create(M,F)},createDecryptor:function(M,F){return this.Decryptor.create(M,F)},init:function(M,F){this._cipher=M,this._iv=F}}),w=h.CBC=function(){var M=m.extend();M.Encryptor=M.extend({processBlock:function($,P){var v=this._cipher,g=v.blockSize;F.call(this,$,P,g),v.encryptBlock($,P),this._prevBlock=$.slice(P,P+g)}}),M.Decryptor=M.extend({processBlock:function($,P){var v=this._cipher,g=v.blockSize,_=$.slice(P,P+g);v.decryptBlock($,P),F.call(this,$,P,g),this._prevBlock=_}});function F($,P,v){var g,_=this._iv;_?(g=_,this._iv=r):g=this._prevBlock;for(var T=0;T<v;T++)$[P+T]^=g[T]}return M}(),x=i.pad={},y=x.Pkcs7={pad:function(M,F){for(var $=F*4,P=$-M.sigBytes%$,v=P<<24|P<<16|P<<8|P,g=[],_=0;_<P;_+=4)g.push(v);var T=a.create(g,P);M.concat(T)},unpad:function(M){var F=M.words[M.sigBytes-1>>>2]&255;M.sigBytes-=F}};o.BlockCipher=p.extend({cfg:p.cfg.extend({mode:w,padding:y}),reset:function(){var M;p.reset.call(this);var F=this.cfg,$=F.iv,P=F.mode;this._xformMode==this._ENC_XFORM_MODE?M=P.createEncryptor:(M=P.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==M?this._mode.init(this,$&&$.words):(this._mode=M.call(P,this,$&&$.words),this._mode.__creator=M)},_doProcessBlock:function(M,F){this._mode.processBlock(M,F)},_doFinalize:function(){var M,F=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(F.pad(this._data,this.blockSize),M=this._process(!0)):(M=this._process(!0),F.unpad(M)),M},blockSize:128/32});var b=o.CipherParams=s.extend({init:function(M){this.mixIn(M)},toString:function(M){return(M||this.formatter).stringify(this)}}),E=i.format={},O=E.OpenSSL={stringify:function(M){var F,$=M.ciphertext,P=M.salt;return P?F=a.create([1398893684,1701076831]).concat(P).concat($):F=$,F.toString(u)},parse:function(M){var F,$=u.parse(M),P=$.words;return P[0]==1398893684&&P[1]==1701076831&&(F=a.create(P.slice(2,4)),P.splice(0,4),$.sigBytes-=16),b.create({ciphertext:$,salt:F})}},N=o.SerializableCipher=s.extend({cfg:s.extend({format:O}),encrypt:function(M,F,$,P){P=this.cfg.extend(P);var v=M.createEncryptor($,P),g=v.finalize(F),_=v.cfg;return b.create({ciphertext:g,key:$,iv:_.iv,algorithm:M,mode:_.mode,padding:_.padding,blockSize:M.blockSize,formatter:P.format})},decrypt:function(M,F,$,P){P=this.cfg.extend(P),F=this._parse(F,P.format);var v=M.createDecryptor($,P).finalize(F.ciphertext);return v},_parse:function(M,F){return typeof M=="string"?F.parse(M,this):M}}),R=i.kdf={},L=R.OpenSSL={execute:function(M,F,$,P,v){if(P||(P=a.random(64/8)),v)var g=d.create({keySize:F+$,hasher:v}).compute(M,P);else var g=d.create({keySize:F+$}).compute(M,P);var _=a.create(g.words.slice(F),$*4);return g.sigBytes=F*4,b.create({key:g,iv:_,salt:P})}},W=o.PasswordBasedCipher=N.extend({cfg:N.cfg.extend({kdf:L}),encrypt:function(M,F,$,P){P=this.cfg.extend(P);var v=P.kdf.execute($,M.keySize,M.ivSize,P.salt,P.hasher);P.iv=v.iv;var g=N.encrypt.call(this,M,F,v.key,P);return g.mixIn(v),g},decrypt:function(M,F,$,P){P=this.cfg.extend(P),F=this._parse(F,P.format);var v=P.kdf.execute($,M.keySize,M.ivSize,F.salt,P.hasher);P.iv=v.iv;var g=N.decrypt.call(this,M,F,v.key,P);return g}})}()})}($g)),$g.exports}var jg={exports:{}},Dw;function ek(){return Dw||(Dw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),br())})(ne,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize;i.call(this,o,s,l,a),this._prevBlock=o.slice(s,s+l)}}),r.Decryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,c=o.slice(s,s+l);i.call(this,o,s,l,a),this._prevBlock=c}});function i(o,s,a,l){var c,u=this._iv;u?(c=u.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var f=0;f<a;f++)o[s+f]^=c[f]}return r}(),n.mode.CFB})}(jg)),jg.exports}var Kg={exports:{}},Rw;function tk(){return Rw||(Rw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),br())})(ne,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0);var f=u.slice(0);a.encryptBlock(f,0),u[l-1]=u[l-1]+1|0;for(var d=0;d<l;d++)o[s+d]^=f[d]}});return r.Decryptor=i,r}(),n.mode.CTR})}(Kg)),Kg.exports}var Wg={exports:{}},Tw;function nk(){return Tw||(Tw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),br())})(ne,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,c=a>>8&255,u=a&255;l===255?(l=0,c===255?(c=0,u===255?u=0:++u):++c):++l,a=0,a+=l<<16,a+=c<<8,a+=u}else a+=1<<24;return a}function o(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var s=r.Encryptor=r.extend({processBlock:function(a,l){var c=this._cipher,u=c.blockSize,f=this._iv,d=this._counter;f&&(d=this._counter=f.slice(0),this._iv=void 0),o(d);var p=d.slice(0);c.encryptBlock(p,0);for(var h=0;h<u;h++)a[l+h]^=p[h]}});return r.Decryptor=s,r}(),n.mode.CTRGladman})}(Wg)),Wg.exports}var Hg={exports:{}},Nw;function rk(){return Nw||(Nw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),br())})(ne,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._keystream;c&&(u=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var f=0;f<l;f++)o[s+f]^=u[f]}});return r.Decryptor=i,r}(),n.mode.OFB})}(Hg)),Hg.exports}var Xg={exports:{}},Pw;function ik(){return Pw||(Pw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),br())})(ne,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,o){this._cipher.encryptBlock(i,o)}}),r.Decryptor=r.extend({processBlock:function(i,o){this._cipher.decryptBlock(i,o)}}),r}(),n.mode.ECB})}(Xg)),Xg.exports}var zg={exports:{}},kw;function ok(){return kw||(kw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),br())})(ne,function(n){return n.pad.AnsiX923={pad:function(r,i){var o=r.sigBytes,s=i*4,a=s-o%s,l=o+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})}(zg)),zg.exports}var qg={exports:{}},Iw;function sk(){return Iw||(Iw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),br())})(ne,function(n){return n.pad.Iso10126={pad:function(r,i){var o=i*4,s=o-r.sigBytes%o;r.concat(n.lib.WordArray.random(s-1)).concat(n.lib.WordArray.create([s<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})}(qg)),qg.exports}var Vg={exports:{}},Mw;function ak(){return Mw||(Mw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),br())})(ne,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(Vg)),Vg.exports}var Jg={exports:{}},Bw;function lk(){return Bw||(Bw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),br())})(ne,function(n){return n.pad.ZeroPadding={pad:function(r,i){var o=i*4;r.clamp(),r.sigBytes+=o-(r.sigBytes%o||o)},unpad:function(r){for(var i=r.words,o=r.sigBytes-1,o=r.sigBytes-1;o>=0;o--)if(i[o>>>2]>>>24-o%4*8&255){r.sigBytes=o+1;break}}},n.pad.ZeroPadding})}(Jg)),Jg.exports}var Gg={exports:{}},Fw;function ck(){return Fw||(Fw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),br())})(ne,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(Gg)),Gg.exports}var Qg={exports:{}},Lw;function uk(){return Lw||(Lw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),br())})(ne,function(n){return function(r){var i=n,o=i.lib,s=o.CipherParams,a=i.enc,l=a.Hex,c=i.format;c.Hex={stringify:function(u){return u.ciphertext.toString(l)},parse:function(u){var f=l.parse(u);return s.create({ciphertext:f})}}}(),n.format.Hex})}(Qg)),Qg.exports}var Yg={exports:{}},Uw;function fk(){return Uw||(Uw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),El(),Cl(),Sa(),br())})(ne,function(n){return function(){var r=n,i=r.lib,o=i.BlockCipher,s=r.algo,a=[],l=[],c=[],u=[],f=[],d=[],p=[],h=[],m=[],w=[];(function(){for(var b=[],E=0;E<256;E++)E<128?b[E]=E<<1:b[E]=E<<1^283;for(var O=0,N=0,E=0;E<256;E++){var R=N^N<<1^N<<2^N<<3^N<<4;R=R>>>8^R&255^99,a[O]=R,l[R]=O;var L=b[O],W=b[L],M=b[W],F=b[R]*257^R*16843008;c[O]=F<<24|F>>>8,u[O]=F<<16|F>>>16,f[O]=F<<8|F>>>24,d[O]=F;var F=M*16843009^W*65537^L*257^O*16843008;p[R]=F<<24|F>>>8,h[R]=F<<16|F>>>16,m[R]=F<<8|F>>>24,w[R]=F,O?(O=L^b[b[b[M^L]]],N^=b[b[N]]):O=N=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],y=s.AES=o.extend({_doReset:function(){var b;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var E=this._keyPriorReset=this._key,O=E.words,N=E.sigBytes/4,R=this._nRounds=N+6,L=(R+1)*4,W=this._keySchedule=[],M=0;M<L;M++)M<N?W[M]=O[M]:(b=W[M-1],M%N?N>6&&M%N==4&&(b=a[b>>>24]<<24|a[b>>>16&255]<<16|a[b>>>8&255]<<8|a[b&255]):(b=b<<8|b>>>24,b=a[b>>>24]<<24|a[b>>>16&255]<<16|a[b>>>8&255]<<8|a[b&255],b^=x[M/N|0]<<24),W[M]=W[M-N]^b);for(var F=this._invKeySchedule=[],$=0;$<L;$++){var M=L-$;if($%4)var b=W[M];else var b=W[M-4];$<4||M<=4?F[$]=b:F[$]=p[a[b>>>24]]^h[a[b>>>16&255]]^m[a[b>>>8&255]]^w[a[b&255]]}}},encryptBlock:function(b,E){this._doCryptBlock(b,E,this._keySchedule,c,u,f,d,a)},decryptBlock:function(b,E){var O=b[E+1];b[E+1]=b[E+3],b[E+3]=O,this._doCryptBlock(b,E,this._invKeySchedule,p,h,m,w,l);var O=b[E+1];b[E+1]=b[E+3],b[E+3]=O},_doCryptBlock:function(b,E,O,N,R,L,W,M){for(var F=this._nRounds,$=b[E]^O[0],P=b[E+1]^O[1],v=b[E+2]^O[2],g=b[E+3]^O[3],_=4,T=1;T<F;T++){var D=N[$>>>24]^R[P>>>16&255]^L[v>>>8&255]^W[g&255]^O[_++],I=N[P>>>24]^R[v>>>16&255]^L[g>>>8&255]^W[$&255]^O[_++],j=N[v>>>24]^R[g>>>16&255]^L[$>>>8&255]^W[P&255]^O[_++],B=N[g>>>24]^R[$>>>16&255]^L[P>>>8&255]^W[v&255]^O[_++];$=D,P=I,v=j,g=B}var D=(M[$>>>24]<<24|M[P>>>16&255]<<16|M[v>>>8&255]<<8|M[g&255])^O[_++],I=(M[P>>>24]<<24|M[v>>>16&255]<<16|M[g>>>8&255]<<8|M[$&255])^O[_++],j=(M[v>>>24]<<24|M[g>>>16&255]<<16|M[$>>>8&255]<<8|M[P&255])^O[_++],B=(M[g>>>24]<<24|M[$>>>16&255]<<16|M[P>>>8&255]<<8|M[v&255])^O[_++];b[E]=D,b[E+1]=I,b[E+2]=j,b[E+3]=B},keySize:256/32});r.AES=o._createHelper(y)}(),n.AES})}(Yg)),Yg.exports}var Zg={exports:{}},$w;function dk(){return $w||($w=1,function(t,e){(function(n,r,i){t.exports=r(rn(),El(),Cl(),Sa(),br())})(ne,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=a.DES=s.extend({_doReset:function(){for(var x=this._key,y=x.words,b=[],E=0;E<56;E++){var O=l[E]-1;b[E]=y[O>>>5]>>>31-O%32&1}for(var N=this._subKeys=[],R=0;R<16;R++){for(var L=N[R]=[],W=u[R],E=0;E<24;E++)L[E/6|0]|=b[(c[E]-1+W)%28]<<31-E%6,L[4+(E/6|0)]|=b[28+(c[E+24]-1+W)%28]<<31-E%6;L[0]=L[0]<<1|L[0]>>>31;for(var E=1;E<7;E++)L[E]=L[E]>>>(E-1)*4+3;L[7]=L[7]<<5|L[7]>>>27}for(var M=this._invSubKeys=[],E=0;E<16;E++)M[E]=N[15-E]},encryptBlock:function(x,y){this._doCryptBlock(x,y,this._subKeys)},decryptBlock:function(x,y){this._doCryptBlock(x,y,this._invSubKeys)},_doCryptBlock:function(x,y,b){this._lBlock=x[y],this._rBlock=x[y+1],h.call(this,4,252645135),h.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),h.call(this,1,1431655765);for(var E=0;E<16;E++){for(var O=b[E],N=this._lBlock,R=this._rBlock,L=0,W=0;W<8;W++)L|=f[W][((R^O[W])&d[W])>>>0];this._lBlock=R,this._rBlock=N^L}var M=this._lBlock;this._lBlock=this._rBlock,this._rBlock=M,h.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),x[y]=this._lBlock,x[y+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function h(x,y){var b=(this._lBlock>>>x^this._rBlock)&y;this._rBlock^=b,this._lBlock^=b<<x}function m(x,y){var b=(this._rBlock>>>x^this._lBlock)&y;this._lBlock^=b,this._rBlock^=b<<x}r.DES=s._createHelper(p);var w=a.TripleDES=s.extend({_doReset:function(){var x=this._key,y=x.words;if(y.length!==2&&y.length!==4&&y.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var b=y.slice(0,2),E=y.length<4?y.slice(0,2):y.slice(2,4),O=y.length<6?y.slice(0,2):y.slice(4,6);this._des1=p.createEncryptor(o.create(b)),this._des2=p.createEncryptor(o.create(E)),this._des3=p.createEncryptor(o.create(O))},encryptBlock:function(x,y){this._des1.encryptBlock(x,y),this._des2.decryptBlock(x,y),this._des3.encryptBlock(x,y)},decryptBlock:function(x,y){this._des3.decryptBlock(x,y),this._des2.encryptBlock(x,y),this._des1.decryptBlock(x,y)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=s._createHelper(w)}(),n.TripleDES})}(Zg)),Zg.exports}var ev={exports:{}},jw;function hk(){return jw||(jw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),El(),Cl(),Sa(),br())})(ne,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=s.RC4=o.extend({_doReset:function(){for(var u=this._key,f=u.words,d=u.sigBytes,p=this._S=[],h=0;h<256;h++)p[h]=h;for(var h=0,m=0;h<256;h++){var w=h%d,x=f[w>>>2]>>>24-w%4*8&255;m=(m+p[h]+x)%256;var y=p[h];p[h]=p[m],p[m]=y}this._i=this._j=0},_doProcessBlock:function(u,f){u[f]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var u=this._S,f=this._i,d=this._j,p=0,h=0;h<4;h++){f=(f+1)%256,d=(d+u[f])%256;var m=u[f];u[f]=u[d],u[d]=m,p|=u[(u[f]+u[d])%256]<<24-h*8}return this._i=f,this._j=d,p}r.RC4=o._createHelper(a);var c=s.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)l.call(this)}});r.RC4Drop=o._createHelper(c)}(),n.RC4})}(ev)),ev.exports}var tv={exports:{}},Kw;function pk(){return Kw||(Kw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),El(),Cl(),Sa(),br())})(ne,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=[],l=[],c=[],u=s.Rabbit=o.extend({_doReset:function(){for(var d=this._key.words,p=this.cfg.iv,h=0;h<4;h++)d[h]=(d[h]<<8|d[h]>>>24)&16711935|(d[h]<<24|d[h]>>>8)&4278255360;var m=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],w=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var h=0;h<4;h++)f.call(this);for(var h=0;h<8;h++)w[h]^=m[h+4&7];if(p){var x=p.words,y=x[0],b=x[1],E=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,O=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,N=E>>>16|O&4294901760,R=O<<16|E&65535;w[0]^=E,w[1]^=N,w[2]^=O,w[3]^=R,w[4]^=E,w[5]^=N,w[6]^=O,w[7]^=R;for(var h=0;h<4;h++)f.call(this)}},_doProcessBlock:function(d,p){var h=this._X;f.call(this),a[0]=h[0]^h[5]>>>16^h[3]<<16,a[1]=h[2]^h[7]>>>16^h[5]<<16,a[2]=h[4]^h[1]>>>16^h[7]<<16,a[3]=h[6]^h[3]>>>16^h[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,d[p+m]^=a[m]},blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,p=this._C,h=0;h<8;h++)l[h]=p[h];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<l[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<l[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<l[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<l[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<l[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<l[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<l[6]>>>0?1:0)|0,this._b=p[7]>>>0<l[7]>>>0?1:0;for(var h=0;h<8;h++){var m=d[h]+p[h],w=m&65535,x=m>>>16,y=((w*w>>>17)+w*x>>>15)+x*x,b=((m&4294901760)*m|0)+((m&65535)*m|0);c[h]=y^b}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.Rabbit=o._createHelper(u)}(),n.Rabbit})}(tv)),tv.exports}var nv={exports:{}},Ww;function gk(){return Ww||(Ww=1,function(t,e){(function(n,r,i){t.exports=r(rn(),El(),Cl(),Sa(),br())})(ne,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=[],l=[],c=[],u=s.RabbitLegacy=o.extend({_doReset:function(){var d=this._key.words,p=this.cfg.iv,h=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],m=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var w=0;w<4;w++)f.call(this);for(var w=0;w<8;w++)m[w]^=h[w+4&7];if(p){var x=p.words,y=x[0],b=x[1],E=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,O=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,N=E>>>16|O&4294901760,R=O<<16|E&65535;m[0]^=E,m[1]^=N,m[2]^=O,m[3]^=R,m[4]^=E,m[5]^=N,m[6]^=O,m[7]^=R;for(var w=0;w<4;w++)f.call(this)}},_doProcessBlock:function(d,p){var h=this._X;f.call(this),a[0]=h[0]^h[5]>>>16^h[3]<<16,a[1]=h[2]^h[7]>>>16^h[5]<<16,a[2]=h[4]^h[1]>>>16^h[7]<<16,a[3]=h[6]^h[3]>>>16^h[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,d[p+m]^=a[m]},blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,p=this._C,h=0;h<8;h++)l[h]=p[h];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<l[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<l[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<l[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<l[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<l[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<l[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<l[6]>>>0?1:0)|0,this._b=p[7]>>>0<l[7]>>>0?1:0;for(var h=0;h<8;h++){var m=d[h]+p[h],w=m&65535,x=m>>>16,y=((w*w>>>17)+w*x>>>15)+x*x,b=((m&4294901760)*m|0)+((m&65535)*m|0);c[h]=y^b}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.RabbitLegacy=o._createHelper(u)}(),n.RabbitLegacy})}(nv)),nv.exports}var rv={exports:{}},Hw;function vk(){return Hw||(Hw=1,function(t,e){(function(n,r,i){t.exports=r(rn(),El(),Cl(),Sa(),br())})(ne,function(n){return function(){var r=n,i=r.lib,o=i.BlockCipher,s=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function f(w,x){let y=x>>24&255,b=x>>16&255,E=x>>8&255,O=x&255,N=w.sbox[0][y]+w.sbox[1][b];return N=N^w.sbox[2][E],N=N+w.sbox[3][O],N}function d(w,x,y){let b=x,E=y,O;for(let N=0;N<a;++N)b=b^w.pbox[N],E=f(w,b)^E,O=b,b=E,E=O;return O=b,b=E,E=O,E=E^w.pbox[a],b=b^w.pbox[a+1],{left:b,right:E}}function p(w,x,y){let b=x,E=y,O;for(let N=a+1;N>1;--N)b=b^w.pbox[N],E=f(w,b)^E,O=b,b=E,E=O;return O=b,b=E,E=O,E=E^w.pbox[1],b=b^w.pbox[0],{left:b,right:E}}function h(w,x,y){for(let R=0;R<4;R++){w.sbox[R]=[];for(let L=0;L<256;L++)w.sbox[R][L]=c[R][L]}let b=0;for(let R=0;R<a+2;R++)w.pbox[R]=l[R]^x[b],b++,b>=y&&(b=0);let E=0,O=0,N=0;for(let R=0;R<a+2;R+=2)N=d(w,E,O),E=N.left,O=N.right,w.pbox[R]=E,w.pbox[R+1]=O;for(let R=0;R<4;R++)for(let L=0;L<256;L+=2)N=d(w,E,O),E=N.left,O=N.right,w.sbox[R][L]=E,w.sbox[R][L+1]=O;return!0}var m=s.Blowfish=o.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var w=this._keyPriorReset=this._key,x=w.words,y=w.sigBytes/4;h(u,x,y)}},encryptBlock:function(w,x){var y=d(u,w[x],w[x+1]);w[x]=y.left,w[x+1]=y.right},decryptBlock:function(w,x){var y=p(u,w[x],w[x+1]);w[x]=y.left,w[x+1]=y.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=o._createHelper(m)}(),n.Blowfish})}(rv)),rv.exports}(function(t,e){(function(n,r,i){t.exports=r(rn(),Xp(),zP(),qP(),El(),VP(),Cl(),$8(),vb(),JP(),j8(),GP(),QP(),YP(),mb(),ZP(),Sa(),br(),ek(),tk(),nk(),rk(),ik(),ok(),sk(),ak(),lk(),ck(),uk(),fk(),dk(),hk(),pk(),gk(),vk())})(ne,function(n){return n})})(U8);var K8=U8.exports,Xw;function Oa(){return Xw||(Xw=1,function(t){var e=ne&&ne.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(t,"__esModule",{value:!0}),t.isValidObject=t.RANDOM_LENGTH=t.isBrowser=t.resolveLocalStorage=t.hasLocalStorage=t.hasBuiltInWebSocket=t.resolveWebSocketImplementation=void 0,t.hexToByteArray=f,t.toHexString=d,t.concatUint8Arrays=p,t.splitToUint8Arrays=h,t.base64encode=x,t.base64decode=y,t.checkWSUrl=b,t.hashKey=W,t.generateRandomBytes32=M,t.generateTopic=F,t.isIos=P,t.getLastSixMd5Hash=v,t.toSafeBase64FromBase64=g,t.useShortLink=_;const n=e(au),r=e(oR),i=sT,o=r8,s=lu(),a=Nr(),l=L8(),c=e(K8),u="base16";function f(T){if(T.length%2!==0)throw new Error(`Cannot convert ${T} to bytesArray`);const D=new Uint8Array(T.length/2);for(let I=0;I<T.length;I+=2)D[I/2]=parseInt(T.slice(I,I+2),16);return D}function d(T){let D="";return T.forEach(I=>{D+=("0"+(I&255).toString(16)).slice(-2)}),D}function p(T,D){const I=new Uint8Array(T.length+D.length);return I.set(T),I.set(D,T.length),I}function h(T,D){if(D>=T.length)throw new Error("Index is out of buffer");const I=T.slice(0,D),j=T.slice(D);return[I,j]}function m(T,D){const I=r.default.encodeBase64(T);return D?encodeURIComponent(I):I}function w(T,D){return D&&(T=decodeURIComponent(T)),r.default.decodeBase64(T)}function x(T,D){let I;return T instanceof Uint8Array?I=T:(typeof T!="string"&&(T=(0,s.safeJsonStringify)(T)),I=r.default.decodeUTF8(T)),m(I,D)}function y(T,D){const I=w(T,D);return{toString(){return r.default.encodeUTF8(I)},toObject(){try{return(0,s.safeJsonParse)(r.default.encodeUTF8(I))}catch{return null}},toUint8Array(){return I}}}function b(T){const D=T.match(new RegExp(/^\w+:/,"gi"));if(!D||!D.length)return!1;let I=D[0];return I===void 0?!1:new RegExp("^wss?:").test(I)}const E=()=>typeof WebSocket<"u"?WebSocket:typeof ne<"u"&&typeof ne.WebSocket<"u"?ne.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:WebSocket;t.resolveWebSocketImplementation=E;const O=()=>typeof WebSocket<"u"||typeof ne<"u"&&typeof ne.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u";t.hasBuiltInWebSocket=O;const N=()=>typeof ne<"u"&&typeof ne.localStorage<"u"||typeof window<"u"&&typeof window.localStorage<"u";t.hasLocalStorage=N;const R=()=>typeof ne<"u"&&typeof ne.localStorage<"u"?ne.localStorage:typeof window<"u"&&typeof window.localStorage<"u"?window.localStorage:localStorage;t.resolveLocalStorage=R;const L=()=>typeof window<"u";t.isBrowser=L,t.RANDOM_LENGTH=32;function W(T,D=u){(0,a.logDebug)(`hash key called ${T}`);const I=(0,o.hash)((0,l.okxfromString)(T,D));return(0,i.toString)(I,D)}function M(){return n.default.randomBytes(t.RANDOM_LENGTH)}function F(){let T=M();return(0,a.logDebug)(`generate topic called ${T}`),W((0,i.toString)(T,u))}const $=T=>Object.getPrototypeOf(T)===Object.prototype&&Object.keys(T).length;t.isValidObject=$;function P(){const T=navigator.userAgent,D=navigator.maxTouchPoints||0,I=/iPad|iPhone|iPod/.test(T)&&!window.MSStream,j=T.includes("Mac")&&D>1;return(0,a.logDebug)(`utils isIos >>>isIOSDevice: ${I}    >> isIPadOS: ${j}`),I||j}function v(T){return c.default.MD5(T).toString().slice(-6)}function g(T){return T.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _(){return!!window.useShortLink}}(bg)),bg}var mk=ne&&ne.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),yk=ne&&ne.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bk=ne&&ne.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(n){var r=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[r.length]=i);return r},t(e)};return function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var r=t(e),i=0;i<r.length;i++)r[i]!=="default"&&mk(n,e,r[i]);return yk(n,e),n}}(),xk=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bl,"__esModule",{value:!0});bl.Storage=void 0;const Il=vn,iv=xk(au),Ml=Oa(),ov=Aa(),or=bk(Nr()),Bl=Aa(),hd=K8;class Oo{constructor(e,n=void 0){const r=(0,Ml.resolveLocalStorage)();or.logDebug("------ update before cache ------"),n&&this.checkAndUpgradeCache(n,e),this.storeKey="",this.cipherIV="",this.subKey=e,or.logDebug("--------get current local storage --------"),or.logDebug(r);const i=r.getItem(Oo.cacheKey+e);if(typeof i>"u"||i===null){or.logDebug("with no cache"),this.cache={};return}if(or.logDebug(i),(i==null?void 0:i.length)>0){var o=(0,ov.safeJsonParse)(i);this.cache=o}or.logDebug(`get cache obj: ${this.cache}`),(typeof this.cache>"u"||this.cache==null)&&(this.cache={})}checkAndUpgradeCache(e,n){if(e&&e.length>0&&n&&n.length>0){or.logDebug("--------get current local storage --------"),or.logDebug(localStorage);const r=localStorage.getItem(Oo.cacheKey+e);if(typeof r>"u"||r===null){or.logDebug("no pre cache content");return}or.logDebug(r),(r==null?void 0:r.length)>0&&(or.logDebug("write in cache content: ",e,"->",n),localStorage.setItem(Oo.cacheKey+n,r),or.logDebug("clean in cache content: ",e),localStorage.removeItem(Oo.cacheKey+e))}else or.logDebug("no pre cache key:",e)}saveContent(e,n,r="-"){let i={id:r,timestamp:Date.now().toString(),content:e};this.saveItem(i,n)}saveItem(e,n){let r=Oo.cacheKey+this.subKey;const i=(0,Ml.resolveLocalStorage)();or.logDebug(this.cache),or.logDebug(`get cache obj: ${this.cache}, ${n}, ${e}`),this.cache[n]=e;let o=(0,ov.safeJsonStringify)(this.cache);or.logDebug(`STORAGE: ${n} @ ${this.cache}`),i.setItem(r,o)}getItem(e){return or.logDebug(`STORAGE >> getItem: ${e} @ ${this.cache}`),this.cache[e]}getCachedPBKDF2InfoKey(){var e,n,r,i;if(this.storeKey.length>0&&((e=this.cipherIV)===null||e===void 0?void 0:e.length)>0)return{pw:this.storeKey,iv:this.cipherIV};let a=(n=this.getItem(Il.OKXCONNECTOR_STORAGER_CRYPTO_SALT))===null||n===void 0?void 0:n.content;a||(a=(0,Ml.toHexString)(iv.default.randomBytes(24)),this.saveContent(a,Il.OKXCONNECTOR_STORAGER_CRYPTO_SALT));let l=(r=this.getItem(Il.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD))===null||r===void 0?void 0:r.content;l||(l=(0,Ml.toHexString)(iv.default.randomBytes(32)),this.saveContent(l,Il.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD));let c=(i=this.getItem(Il.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV))===null||i===void 0?void 0:i.content;if(!c){let u=iv.default.randomBytes(16);c=(0,Ml.toHexString)(u),this.saveContent(c,Il.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV)}return this.cipherIV=c,this.storeKey=(0,hd.PBKDF2)(l,a,{iterations:10}).toString(),{pw:this.storeKey,iv:this.cipherIV}}encryptStoreMsg(e,n){(0,Bl.logDebug)(`encryptStoreMsg  encryptStoreMsg start ${Date.now()}`);let r=this.getCachedPBKDF2InfoKey();(0,Bl.logDebug)(`encryptStoreMsg  encryptStoreMsg mid ${Date.now()}`);var i=hd.AES.encrypt(e,r.pw).toString();this.saveContent(i,n),(0,Bl.logDebug)(`encryptStoreMsg  encryptStoreMsg end ${Date.now()}`)}getAndDecrypt(e){(0,Bl.logDebug)(`encryptStoreMsg  getAndDecrypt start ${Date.now()}`);let n=this.getItem(e);if(n&&n.content){let r=this.getCachedPBKDF2InfoKey();(0,Bl.logDebug)(`encryptStoreMsg  getAndDecrypt mid ${Date.now()}`);let i=hd.AES.decrypt(n.content,r.pw).toString(hd.enc.Utf8);return(0,Bl.logDebug)(`encryptStoreMsg  getAndDecrypt end ${Date.now()}`),i}return null}clearCache(e=void 0){if(e===void 0){this.cache={};let n=Oo.cacheKey+this.subKey;localStorage.setItem(n,"")}else{let n=Oo.cacheKey+this.subKey;const r=(0,Ml.resolveLocalStorage)();or.logDebug(this.cache),this.cache[e]=null;let i=(0,ov.safeJsonStringify)(this.cache);or.logDebug(`STORAGE: clean key ${e} @ ${this.cache}`),r.setItem(n,i)}}}bl.Storage=Oo;Oo.cacheKey="OKXStorageKey";var wk=ne&&ne.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),_k=ne&&ne.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ek=ne&&ne.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(n){var r=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[r.length]=i);return r},t(e)};return function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var r=t(e),i=0;i<r.length;i++)r[i]!=="default"&&wk(n,e,r[i]);return _k(n,e),n}}(),wo=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(su,"__esModule",{value:!0});su.OKXWalletConnector=void 0;const Xn=Ip,sv=vn,Ck=bl,Fl=Aa(),th=Oa(),Ak=_l,$t=Ek(Nr()),zw=wl,Sk=Kp(),Ok=(0,th.resolveWebSocketImplementation)();class Dk{constructor(e){if(this.events=new Ak.EventEmitter,this.state=Xn.ConnectorState.InitState,this.selectedUrlIndex=0,this.retryCount=0,this.timeOutLimit=8e3,!(0,th.checkWSUrl)(e))throw new Error(`CONNECTOR: invalid url ${e}`);this.url=e,this.heartbeatTimer=null,this.connectionTimeoutTimer=null,this.connectURLStorage=new Ck.Storage(sv.OKXCONNECTOR_CACHE_KEY+sv.OKXCONNECTOR_CACHE_KEY)}get connecting(){return this.state==Xn.ConnectorState.Connecting}onPayload(e){if(!(typeof e.data>"u")){if($t.logDebug("get received data"),$t.logDebug(e),typeof e.data=="string"&&e.data==="pong"){$t.logDebug(`CONNECT: receive pong ${Date.now().toString()}`);return}this.events.emit("payload",e.data)}}onClose(e){var n;$t.logDebug("socket get closed: ",(n=this.socket)===null||n===void 0?void 0:n.url,e.code),this.socket=void 0,this.events.emit("close",e)}onError(e,n){const r={id:e,msg:n.toString()};this.events.emit("payload",r)}onopen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.state=Xn.ConnectorState.Connected,this.events.emit("open")}emitError(e){this.events.emit("fail",e)}heartbeat(){return wo(this,void 0,void 0,function*(){if(this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.state!=Xn.ConnectorState.Connected&&this.state!=Xn.ConnectorState.OnError){$t.logDebug("heart beat close");return}if(!this.socket){if($t.logDebug("socket not exist"),this.state==Xn.ConnectorState.Connected||this.state==Xn.ConnectorState.OnError){$t.logDebug("socket reconnect by heartbeat");try{yield this.tryRegistOpen()}catch{$t.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}return}if(this.socket.readyState!==WebSocket.OPEN){if($t.logDebug("socket not ready"),this.state==Xn.ConnectorState.Connected||this.state==Xn.ConnectorState.OnError){$t.logDebug("socket reconnect by heartbeat with state",this.state,this.socket.readyState);try{yield this.tryRegistOpen()}catch{$t.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}return}$t.logDebug(`send ping heart beat: ${Date.now().toString()}, ${this.socket}`),this.socket.send("ping"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)})}registOpen(e=this.url,n=!1){if(!(0,th.checkWSUrl)(e))throw new Error(`CONNECTOR: invalid url ${e}`);return this.url=e,n||$t.logDebug("Connection connect:",this.url,new Date().toUTCString()),this.state=Xn.ConnectorState.Connecting,new URLSearchParams(e).get("origin"),new Promise((r,i)=>{const o=new Ok(e,[]);$t.logDebug("Connection connect Begin:",this.url,new Date().toUTCString()),this.startTimeOutTimer(o),(0,th.hasBuiltInWebSocket)()?($t.logDebug("Add socket error handler"),o.onerror=()=>{i(new Error("socket error")),o.close()}):($t.logDebug("Add socket error handler"),o.on("error",()=>{i(new Error("socket error")),o.close()})),o.onopen=()=>{$t.logDebug("socket opened"),this.resetTimeOutTimer(Xn.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED),this.onopen(o),this.heartbeat(),r(o)}})}checkMaxRetry(){return $t.logDebug("current retry count:",this.retryCount,"of",Xn.OKXCONNECTOR_WS_URL_LIST.length),this.retryCount>Xn.OKXCONNECTOR_WS_URL_LIST.length*3}connectionTryNext(){return wo(this,void 0,void 0,function*(){if(this.checkMaxRetry())$t.logDebug("Max Connection retry ",this.retryCount,new Date().toUTCString());else{this.retryCount+=1;let e=this.getNextSelectUrl();return $t.logDebug("Connection retry:",e,new Date().toUTCString()),this.registOpen(e,!0)}})}startTimeOutTimer(e){this.connectionTimeoutTimer&&this.resetTimeOutTimer(Xn.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.CANCELED),this.pendingSocket=e,this.connectionTimeoutTimer=setTimeout(()=>{this.pendingSocket&&this.resetTimeOutTimer(Xn.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)},this.timeOutLimit)}resetTimeOutTimer(e){var n;if(e==Xn.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)throw clearTimeout(this.connectionTimeoutTimer),(n=this.pendingSocket)===null||n===void 0||n.close(),this.pendingSocket=void 0,$t.reportEvent(Sk.OKXReportType.LOG,"timeout",this.retryCount.toString()),new Error("socket timeout");this.pendingSocket=void 0,clearTimeout(this.connectionTimeoutTimer)}cacheSuccessUrlSelect(){this.connectURLStorage.saveContent(this.selectedUrlIndex.toString(),sv.OKXCONNECTOR_CACHE_KEY)}getNextSelectUrl(){return this.selectedUrlIndex+=1,this.selectedUrlIndex=this.selectedUrlIndex%Xn.OKXCONNECTOR_WS_URL_LIST.length,Xn.OKXCONNECTOR_WS_URL_LIST[this.selectedUrlIndex]}onVisibleChanged(){return wo(this,void 0,void 0,function*(){if(document.visibilityState==="visible"&&($t.logDebug(`get changed ${this.state}, ${this.socket}`),this.state==Xn.ConnectorState.Connected&&typeof this.socket>"u")){$t.logDebug("CONNECTION need reopen");try{yield this.tryRegistOpen()}catch{$t.logError("regist open failed")}return}})}tryRegistOpen(){return wo(this,arguments,void 0,function*(e=this.url){if(this.connecting)return $t.logDebug("tryRegistOpen => connecting state"),new Promise((r,i)=>{this.events.once("fail",o=>($t.logDebug("tryRegistOpen => connecting fail listener",o),i(o))),this.events.once("open",()=>typeof this.socket>"u"?i(new Error("Connect lost")):r(this.socket))});$t.logDebug("tryRegistOpen => try registOpen until retry limit is hit");let n=!1;for(;!this.checkMaxRetry()&&!this.socket;)try{$t.logDebug("tryRegistOpen => call registOpen, try count:",this.retryCount,n),yield this.registOpen(e,n)}catch(r){$t.logDebug("tryRegistOpen => registOpen failed",r),this.retryCount+=1,e=this.getNextSelectUrl(),n=!0}if($t.logDebug("tryRegistOpen => exit while loop",this.retryCount,this.socket),!this.socket&&this.checkMaxRetry())throw $t.logDebug("tryRegistOpen => failed to open a socket",this.retryCount,this.socket),this.retryCount=0,this.state=Xn.ConnectorState.OnError,this.emitError(new Error("tryRegistOpen failed")),new zw.OKXConnectError(zw.OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR,"Failed to connect")})}connect(){return wo(this,void 0,void 0,function*(){try{yield this.tryRegistOpen(),document.removeEventListener("visibilitychange",this.onVisibleChanged.bind(this)),document.addEventListener("visibilitychange",this.onVisibleChanged.bind(this))}catch(e){throw $t.logDebug("connect => failed to connect",e),e}})}disconnect(){return wo(this,void 0,void 0,function*(){return this.state=Xn.ConnectorState.Disconnected,new Promise((e,n)=>{if(typeof this.socket>"u"){e();return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close(),this.heartbeatTimer&&clearTimeout(this.heartbeatTimer)})})}currentStatus(){return{state:this.state,url:this.url}}addListener(e,n,r,i){this.listenPayloadHandler&&this.events.removeListener("payload",this.listenPayloadHandler),this.listenPayloadHandler=o=>{var s;$t.logDebug(`<<< get payload ${o}`);let a=(0,Fl.safeJsonParse)(o);if(a.params&&a.params.data){let l=(s=a.params.data)===null||s===void 0?void 0:s.message;if(l)try{let c=n(l);c===void 0?($t.logDebug("CONNECT: decrypt undefined"),i(e,"Decrypt undefined")):r(e,c)}catch(c){$t.logDebug(`CONNECT: decrypt failed: ${c}`),i(e,c.message)}}},this.events.on("payload",this.listenPayloadHandler),this.failHandler&&this.events.removeListener("fail",this.failHandler),this.failHandler=o=>{o?($t.logDebug(`CONNECT failed: ${o}`),i(e,o.message)):i(e,"Unkonow error")},this.events.on("fail",this.failHandler)}addPackageParse(e){this.payloadHandler&&this.events.removeListener("payload",this.payloadHandler),this.payloadHandler=n=>wo(this,void 0,void 0,function*(){$t.logDebug(`CONNECTION @[${new Date().toUTCString()}] <<<< received e:${n}`);let r=(0,Fl.safeJsonParse)(n);yield e(r)}),this.events.on("payload",this.payloadHandler)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}send(e,n){return wo(this,void 0,void 0,function*(){try{typeof this.socket>"u"&&($t.logDebug(`>>> send payload undefined ${n}`),yield e()),$t.logDebug(`CONNECTION @[${new Date().toUTCString()}]>>> send payload ${(0,Fl.safeJsonStringify)(n)}`),this.socket&&this.socket.send((0,Fl.safeJsonStringify)(n))}catch(r){this.onError(n.id,r)}})}getMsgPayloadFromHistory(e){return wo(this,void 0,void 0,function*(){if(typeof e>"u")return;let n={params:{data:e}},r=(0,Fl.safeJsonStringify)(e);$t.logDebug("get received data from history"),$t.logDebug(r),r=(0,Fl.safeJsonStringify)(n),this.events.emit("payload",r)})}onOpen(e){this.openHandler&&this.events.removeListener("open",this.openHandler),this.openHandler=()=>wo(this,void 0,void 0,function*(){$t.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> ws opened: `),yield e()}),this.events.on("open",this.openHandler),this.cacheSuccessUrlSelect()}}su.OKXWalletConnector=Dk;var zp={},ar={};Object.defineProperty(ar,"__esModule",{value:!0});ar.CONNECT_METHOD_BATCH_FETCHMSG=ar.CONNECT_METHOD_FETCHMSG=ar.CONNECT_METHOD_RECEIVE=ar.CONNECT_METHOD_UNSUB=ar.CONNECT_METHOD_SUB=ar.CONNECT_METHOD_PUBLISH=ar.CONNECT_METHOD_LOGIN=ar.CONNECT_METHOD_PUSH=void 0;ar.CONNECT_METHOD_PUSH="push";ar.CONNECT_METHOD_LOGIN="login";ar.CONNECT_METHOD_PUBLISH="publish";ar.CONNECT_METHOD_SUB="subscribe";ar.CONNECT_METHOD_UNSUB="unsubscribe";ar.CONNECT_METHOD_RECEIVE="receive";ar.CONNECT_METHOD_FETCHMSG="fetchMessages";ar.CONNECT_METHOD_BATCH_FETCHMSG="batchFetchMessages";var ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.OKXCONNECTOR_JWT_TTL=ys.OKXCONNECTOR_JWT_WALLET_SIDE=ys.OKXCONNECTOR_JWT_SIDE=void 0;ys.OKXCONNECTOR_JWT_SIDE="wallet";ys.OKXCONNECTOR_JWT_WALLET_SIDE="dapp";ys.OKXCONNECTOR_JWT_TTL=864e5;var _f={},Rk=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_f,"__esModule",{value:!0});_f.SessionCrypto=void 0;const Ll=Rk(au),$n=Oa();class Tk{constructor(e=void 0){this.nonceLength=24,this.sessionKeyPair=e?this.createKeypairFromString(e):this.createKeypair()}createKeypair(){return Ll.default.box.keyPair()}createKeypairFromString(e){return{publicKey:(0,$n.hexToByteArray)(e.publicKey),secretKey:(0,$n.hexToByteArray)(e.secretKey)}}createNonce(){return Ll.default.randomBytes(this.nonceLength)}get keyPair(){return this.sessionKeyPair}encrypt(e,n){const r=new TextEncoder().encode(e),i=this.createNonce(),o=Ll.default.box(r,i,(0,$n.hexToByteArray)(n),this.keyPair.secretKey);let s=(0,$n.concatUint8Arrays)(i,o);var a=(0,$n.toHexString)(s),l=new TextEncoder().encode(a);return(0,$n.base64encode)(l,!1)}encryptWallet(e,n){const r=new TextEncoder().encode(e),i=this.createNonce(),o=Ll.default.box(r,i,(0,$n.hexToByteArray)(n),this.keyPair.secretKey);let s=(0,$n.concatUint8Arrays)(i,o);return(0,$n.base64encode)(s,!1)}decrypt(e,n){let i=(0,$n.base64decode)(e,!0).toUint8Array();const[o,s]=(0,$n.splitToUint8Arrays)(i,this.nonceLength),a=Ll.default.box.open(s,o,(0,$n.hexToByteArray)(n),this.keyPair.secretKey);if(!a)throw new Error(`Decryption error: 
 message: ${e.toString()} 
 sender pubkey: ${n.toString()} 
 keypair pubkey: ${(0,$n.toHexString)(this.keyPair.publicKey)} 
 keypair secretkey: ${(0,$n.toHexString)(this.keyPair.secretKey)}`);return new TextDecoder().decode(a)}decryptWallet(e,n){let r=(0,$n.base64decode)(e,!0),i=(0,$n.hexToByteArray)(r.toString());const[o,s]=(0,$n.splitToUint8Arrays)(i,this.nonceLength),a=Ll.default.box.open(s,o,(0,$n.hexToByteArray)(n),this.keyPair.secretKey);if(!a)throw new Error(`Decryption error: 
 message: ${e.toString()} 
 sender pubkey: ${n.toString()} 
 keypair pubkey: ${(0,$n.toHexString)(this.keyPair.publicKey)} 
 keypair secretkey: ${(0,$n.toHexString)(this.keyPair.secretKey)}`);return new TextDecoder().decode(a)}stringifyKeypair(){return{publicKey:(0,$n.toHexString)(this.keyPair.publicKey),secretKey:(0,$n.toHexString)(this.keyPair.secretKey)}}}_f.SessionCrypto=Tk;var yb={},W8={},H8={},qp={},Vp={};Object.defineProperty(Vp,"__esModule",{value:!0});Vp.BrowserRandomSource=void 0;const qw=65536;class Nk{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const n=new Uint8Array(e);for(let r=0;r<n.length;r+=qw)this._crypto.getRandomValues(n.subarray(r,r+Math.min(n.length-r,qw)));return n}}Vp.BrowserRandomSource=Nk;var Jp={};Object.defineProperty(Jp,"__esModule",{value:!0});Jp.NodeRandomSource=void 0;const Pk=xl;class kk{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof Xa<"u"){const e=Mp;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let n=this._crypto.randomBytes(e);if(n.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(e);for(let i=0;i<r.length;i++)r[i]=n[i];return(0,Pk.wipe)(n),r}}Jp.NodeRandomSource=kk;Object.defineProperty(qp,"__esModule",{value:!0});qp.SystemRandomSource=void 0;const Ik=Vp,Mk=Jp;class Bk{constructor(){if(this.isAvailable=!1,this.name="",this._source=new Ik.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Mk.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}qp.SystemRandomSource=Bk;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=qp,n=Ht,r=xl;t.defaultRandomSource=new e.SystemRandomSource;function i(c,u=t.defaultRandomSource){return u.randomBytes(c)}t.randomBytes=i;function o(c=t.defaultRandomSource){const u=i(4,c),f=(0,n.readUint32LE)(u);return(0,r.wipe)(u),f}t.randomUint32=o;const s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(c,u=s,f=t.defaultRandomSource){if(u.length<2)throw new Error("randomString charset is too short");if(u.length>256)throw new Error("randomString charset is too long");let d="";const p=u.length,h=256-256%p;for(;c>0;){const m=i(Math.ceil(c*256/h),f);for(let w=0;w<m.length&&c>0;w++){const x=m[w];x<h&&(d+=u.charAt(x%p),c--)}(0,r.wipe)(m)}return d}t.randomString=a;function l(c,u=s,f=t.defaultRandomSource){const d=Math.ceil(c/(Math.log(u.length)/Math.LN2));return a(d,u,f)}t.randomStringForEntropy=l})(H8);var X8={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ht,n=xl;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var r=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._tempHi),n.wipe(this._tempLo),this.reset()},a.prototype.update=function(l,c){if(c===void 0&&(c=l.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var u=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&c>0;)this._buffer[this._bufferLength++]=l[u++],c--;this._bufferLength===this.blockSize&&(o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(u=o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,l,u,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=l[u++],c--;return this},a.prototype.finish=function(l){if(!this._finished){var c=this._bytesHashed,u=this._bufferLength,f=c/536870912|0,d=c<<3,p=c%128<112?128:256;this._buffer[u]=128;for(var h=u+1;h<p-8;h++)this._buffer[h]=0;e.writeUint32BE(f,this._buffer,p-8),e.writeUint32BE(d,this._buffer,p-4),o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,p),this._finished=!0}for(var h=0;h<this.digestLength/8;h++)e.writeUint32BE(this._stateHi[h],l,h*8),e.writeUint32BE(this._stateLo[h],l,h*8+4);return this},a.prototype.digest=function(){var l=new Uint8Array(this.digestLength);return this.finish(l),l},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(l){return this._stateHi.set(l.stateHi),this._stateLo.set(l.stateLo),this._bufferLength=l.bufferLength,l.buffer&&this._buffer.set(l.buffer),this._bytesHashed=l.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(l){n.wipe(l.stateHi),n.wipe(l.stateLo),l.buffer&&n.wipe(l.buffer),l.bufferLength=0,l.bytesHashed=0},a}();t.SHA512=r;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function o(a,l,c,u,f,d,p){for(var h=c[0],m=c[1],w=c[2],x=c[3],y=c[4],b=c[5],E=c[6],O=c[7],N=u[0],R=u[1],L=u[2],W=u[3],M=u[4],F=u[5],$=u[6],P=u[7],v,g,_,T,D,I,j,B;p>=128;){for(var C=0;C<16;C++){var H=8*C+d;a[C]=e.readUint32BE(f,H),l[C]=e.readUint32BE(f,H+4)}for(var C=0;C<80;C++){var ae=h,U=m,ce=w,te=x,z=y,G=b,S=E,J=O,re=N,me=R,ge=L,xe=W,qe=M,Fe=F,Se=$,lt=P;if(v=O,g=P,D=g&65535,I=g>>>16,j=v&65535,B=v>>>16,v=(y>>>14|M<<18)^(y>>>18|M<<14)^(M>>>9|y<<23),g=(M>>>14|y<<18)^(M>>>18|y<<14)^(y>>>9|M<<23),D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,v=y&b^~y&E,g=M&F^~M&$,D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,v=i[C*2],g=i[C*2+1],D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,v=a[C%16],g=l[C%16],D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,I+=D>>>16,j+=I>>>16,B+=j>>>16,_=j&65535|B<<16,T=D&65535|I<<16,v=_,g=T,D=g&65535,I=g>>>16,j=v&65535,B=v>>>16,v=(h>>>28|N<<4)^(N>>>2|h<<30)^(N>>>7|h<<25),g=(N>>>28|h<<4)^(h>>>2|N<<30)^(h>>>7|N<<25),D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,v=h&m^h&w^m&w,g=N&R^N&L^R&L,D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,I+=D>>>16,j+=I>>>16,B+=j>>>16,J=j&65535|B<<16,lt=D&65535|I<<16,v=te,g=xe,D=g&65535,I=g>>>16,j=v&65535,B=v>>>16,v=_,g=T,D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,I+=D>>>16,j+=I>>>16,B+=j>>>16,te=j&65535|B<<16,xe=D&65535|I<<16,m=ae,w=U,x=ce,y=te,b=z,E=G,O=S,h=J,R=re,L=me,W=ge,M=xe,F=qe,$=Fe,P=Se,N=lt,C%16===15)for(var H=0;H<16;H++)v=a[H],g=l[H],D=g&65535,I=g>>>16,j=v&65535,B=v>>>16,v=a[(H+9)%16],g=l[(H+9)%16],D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,_=a[(H+1)%16],T=l[(H+1)%16],v=(_>>>1|T<<31)^(_>>>8|T<<24)^_>>>7,g=(T>>>1|_<<31)^(T>>>8|_<<24)^(T>>>7|_<<25),D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,_=a[(H+14)%16],T=l[(H+14)%16],v=(_>>>19|T<<13)^(T>>>29|_<<3)^_>>>6,g=(T>>>19|_<<13)^(_>>>29|T<<3)^(T>>>6|_<<26),D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,I+=D>>>16,j+=I>>>16,B+=j>>>16,a[H]=j&65535|B<<16,l[H]=D&65535|I<<16}v=h,g=N,D=g&65535,I=g>>>16,j=v&65535,B=v>>>16,v=c[0],g=u[0],D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,I+=D>>>16,j+=I>>>16,B+=j>>>16,c[0]=h=j&65535|B<<16,u[0]=N=D&65535|I<<16,v=m,g=R,D=g&65535,I=g>>>16,j=v&65535,B=v>>>16,v=c[1],g=u[1],D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,I+=D>>>16,j+=I>>>16,B+=j>>>16,c[1]=m=j&65535|B<<16,u[1]=R=D&65535|I<<16,v=w,g=L,D=g&65535,I=g>>>16,j=v&65535,B=v>>>16,v=c[2],g=u[2],D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,I+=D>>>16,j+=I>>>16,B+=j>>>16,c[2]=w=j&65535|B<<16,u[2]=L=D&65535|I<<16,v=x,g=W,D=g&65535,I=g>>>16,j=v&65535,B=v>>>16,v=c[3],g=u[3],D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,I+=D>>>16,j+=I>>>16,B+=j>>>16,c[3]=x=j&65535|B<<16,u[3]=W=D&65535|I<<16,v=y,g=M,D=g&65535,I=g>>>16,j=v&65535,B=v>>>16,v=c[4],g=u[4],D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,I+=D>>>16,j+=I>>>16,B+=j>>>16,c[4]=y=j&65535|B<<16,u[4]=M=D&65535|I<<16,v=b,g=F,D=g&65535,I=g>>>16,j=v&65535,B=v>>>16,v=c[5],g=u[5],D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,I+=D>>>16,j+=I>>>16,B+=j>>>16,c[5]=b=j&65535|B<<16,u[5]=F=D&65535|I<<16,v=E,g=$,D=g&65535,I=g>>>16,j=v&65535,B=v>>>16,v=c[6],g=u[6],D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,I+=D>>>16,j+=I>>>16,B+=j>>>16,c[6]=E=j&65535|B<<16,u[6]=$=D&65535|I<<16,v=O,g=P,D=g&65535,I=g>>>16,j=v&65535,B=v>>>16,v=c[7],g=u[7],D+=g&65535,I+=g>>>16,j+=v&65535,B+=v>>>16,I+=D>>>16,j+=I>>>16,B+=j>>>16,c[7]=O=j&65535|B<<16,u[7]=P=D&65535|I<<16,d+=128,p-=128}return d}function s(a){var l=new r;l.update(a);var c=l.digest();return l.clean(),c}t.hash=s})(X8);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const e=H8,n=X8,r=xl;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function i(te){const z=new Float64Array(16);if(te)for(let G=0;G<te.length;G++)z[G]=te[G];return z}const o=new Uint8Array(32);o[0]=9;const s=i(),a=i([1]),l=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(te,z){for(let G=0;G<16;G++)te[G]=z[G]|0}function h(te){let z=1;for(let G=0;G<16;G++){let S=te[G]+z+65535;z=Math.floor(S/65536),te[G]=S-z*65536}te[0]+=z-1+37*(z-1)}function m(te,z,G){const S=~(G-1);for(let J=0;J<16;J++){const re=S&(te[J]^z[J]);te[J]^=re,z[J]^=re}}function w(te,z){const G=i(),S=i();for(let J=0;J<16;J++)S[J]=z[J];h(S),h(S),h(S);for(let J=0;J<2;J++){G[0]=S[0]-65517;for(let me=1;me<15;me++)G[me]=S[me]-65535-(G[me-1]>>16&1),G[me-1]&=65535;G[15]=S[15]-32767-(G[14]>>16&1);const re=G[15]>>16&1;G[14]&=65535,m(S,G,1-re)}for(let J=0;J<16;J++)te[2*J]=S[J]&255,te[2*J+1]=S[J]>>8}function x(te,z){let G=0;for(let S=0;S<32;S++)G|=te[S]^z[S];return(1&G-1>>>8)-1}function y(te,z){const G=new Uint8Array(32),S=new Uint8Array(32);return w(G,te),w(S,z),x(G,S)}function b(te){const z=new Uint8Array(32);return w(z,te),z[0]&1}function E(te,z){for(let G=0;G<16;G++)te[G]=z[2*G]+(z[2*G+1]<<8);te[15]&=32767}function O(te,z,G){for(let S=0;S<16;S++)te[S]=z[S]+G[S]}function N(te,z,G){for(let S=0;S<16;S++)te[S]=z[S]-G[S]}function R(te,z,G){let S,J,re=0,me=0,ge=0,xe=0,qe=0,Fe=0,Se=0,lt=0,Qe=0,tt=0,xt=0,ze=0,Ye=0,Dt=0,Te=0,Ie=0,We=0,Ke=0,ut=0,Nt=0,Le=0,Pe=0,Ut=0,wt=0,Tt=0,_n=0,Pt=0,Kt=0,yn=0,Vt=0,Yt=0,dn=G[0],pt=G[1],vt=G[2],Jt=G[3],Ct=G[4],At=G[5],un=G[6],Rt=G[7],at=G[8],Ft=G[9],k=G[10],X=G[11],q=G[12],A=G[13],Q=G[14],ue=G[15];S=z[0],re+=S*dn,me+=S*pt,ge+=S*vt,xe+=S*Jt,qe+=S*Ct,Fe+=S*At,Se+=S*un,lt+=S*Rt,Qe+=S*at,tt+=S*Ft,xt+=S*k,ze+=S*X,Ye+=S*q,Dt+=S*A,Te+=S*Q,Ie+=S*ue,S=z[1],me+=S*dn,ge+=S*pt,xe+=S*vt,qe+=S*Jt,Fe+=S*Ct,Se+=S*At,lt+=S*un,Qe+=S*Rt,tt+=S*at,xt+=S*Ft,ze+=S*k,Ye+=S*X,Dt+=S*q,Te+=S*A,Ie+=S*Q,We+=S*ue,S=z[2],ge+=S*dn,xe+=S*pt,qe+=S*vt,Fe+=S*Jt,Se+=S*Ct,lt+=S*At,Qe+=S*un,tt+=S*Rt,xt+=S*at,ze+=S*Ft,Ye+=S*k,Dt+=S*X,Te+=S*q,Ie+=S*A,We+=S*Q,Ke+=S*ue,S=z[3],xe+=S*dn,qe+=S*pt,Fe+=S*vt,Se+=S*Jt,lt+=S*Ct,Qe+=S*At,tt+=S*un,xt+=S*Rt,ze+=S*at,Ye+=S*Ft,Dt+=S*k,Te+=S*X,Ie+=S*q,We+=S*A,Ke+=S*Q,ut+=S*ue,S=z[4],qe+=S*dn,Fe+=S*pt,Se+=S*vt,lt+=S*Jt,Qe+=S*Ct,tt+=S*At,xt+=S*un,ze+=S*Rt,Ye+=S*at,Dt+=S*Ft,Te+=S*k,Ie+=S*X,We+=S*q,Ke+=S*A,ut+=S*Q,Nt+=S*ue,S=z[5],Fe+=S*dn,Se+=S*pt,lt+=S*vt,Qe+=S*Jt,tt+=S*Ct,xt+=S*At,ze+=S*un,Ye+=S*Rt,Dt+=S*at,Te+=S*Ft,Ie+=S*k,We+=S*X,Ke+=S*q,ut+=S*A,Nt+=S*Q,Le+=S*ue,S=z[6],Se+=S*dn,lt+=S*pt,Qe+=S*vt,tt+=S*Jt,xt+=S*Ct,ze+=S*At,Ye+=S*un,Dt+=S*Rt,Te+=S*at,Ie+=S*Ft,We+=S*k,Ke+=S*X,ut+=S*q,Nt+=S*A,Le+=S*Q,Pe+=S*ue,S=z[7],lt+=S*dn,Qe+=S*pt,tt+=S*vt,xt+=S*Jt,ze+=S*Ct,Ye+=S*At,Dt+=S*un,Te+=S*Rt,Ie+=S*at,We+=S*Ft,Ke+=S*k,ut+=S*X,Nt+=S*q,Le+=S*A,Pe+=S*Q,Ut+=S*ue,S=z[8],Qe+=S*dn,tt+=S*pt,xt+=S*vt,ze+=S*Jt,Ye+=S*Ct,Dt+=S*At,Te+=S*un,Ie+=S*Rt,We+=S*at,Ke+=S*Ft,ut+=S*k,Nt+=S*X,Le+=S*q,Pe+=S*A,Ut+=S*Q,wt+=S*ue,S=z[9],tt+=S*dn,xt+=S*pt,ze+=S*vt,Ye+=S*Jt,Dt+=S*Ct,Te+=S*At,Ie+=S*un,We+=S*Rt,Ke+=S*at,ut+=S*Ft,Nt+=S*k,Le+=S*X,Pe+=S*q,Ut+=S*A,wt+=S*Q,Tt+=S*ue,S=z[10],xt+=S*dn,ze+=S*pt,Ye+=S*vt,Dt+=S*Jt,Te+=S*Ct,Ie+=S*At,We+=S*un,Ke+=S*Rt,ut+=S*at,Nt+=S*Ft,Le+=S*k,Pe+=S*X,Ut+=S*q,wt+=S*A,Tt+=S*Q,_n+=S*ue,S=z[11],ze+=S*dn,Ye+=S*pt,Dt+=S*vt,Te+=S*Jt,Ie+=S*Ct,We+=S*At,Ke+=S*un,ut+=S*Rt,Nt+=S*at,Le+=S*Ft,Pe+=S*k,Ut+=S*X,wt+=S*q,Tt+=S*A,_n+=S*Q,Pt+=S*ue,S=z[12],Ye+=S*dn,Dt+=S*pt,Te+=S*vt,Ie+=S*Jt,We+=S*Ct,Ke+=S*At,ut+=S*un,Nt+=S*Rt,Le+=S*at,Pe+=S*Ft,Ut+=S*k,wt+=S*X,Tt+=S*q,_n+=S*A,Pt+=S*Q,Kt+=S*ue,S=z[13],Dt+=S*dn,Te+=S*pt,Ie+=S*vt,We+=S*Jt,Ke+=S*Ct,ut+=S*At,Nt+=S*un,Le+=S*Rt,Pe+=S*at,Ut+=S*Ft,wt+=S*k,Tt+=S*X,_n+=S*q,Pt+=S*A,Kt+=S*Q,yn+=S*ue,S=z[14],Te+=S*dn,Ie+=S*pt,We+=S*vt,Ke+=S*Jt,ut+=S*Ct,Nt+=S*At,Le+=S*un,Pe+=S*Rt,Ut+=S*at,wt+=S*Ft,Tt+=S*k,_n+=S*X,Pt+=S*q,Kt+=S*A,yn+=S*Q,Vt+=S*ue,S=z[15],Ie+=S*dn,We+=S*pt,Ke+=S*vt,ut+=S*Jt,Nt+=S*Ct,Le+=S*At,Pe+=S*un,Ut+=S*Rt,wt+=S*at,Tt+=S*Ft,_n+=S*k,Pt+=S*X,Kt+=S*q,yn+=S*A,Vt+=S*Q,Yt+=S*ue,re+=38*We,me+=38*Ke,ge+=38*ut,xe+=38*Nt,qe+=38*Le,Fe+=38*Pe,Se+=38*Ut,lt+=38*wt,Qe+=38*Tt,tt+=38*_n,xt+=38*Pt,ze+=38*Kt,Ye+=38*yn,Dt+=38*Vt,Te+=38*Yt,J=1,S=re+J+65535,J=Math.floor(S/65536),re=S-J*65536,S=me+J+65535,J=Math.floor(S/65536),me=S-J*65536,S=ge+J+65535,J=Math.floor(S/65536),ge=S-J*65536,S=xe+J+65535,J=Math.floor(S/65536),xe=S-J*65536,S=qe+J+65535,J=Math.floor(S/65536),qe=S-J*65536,S=Fe+J+65535,J=Math.floor(S/65536),Fe=S-J*65536,S=Se+J+65535,J=Math.floor(S/65536),Se=S-J*65536,S=lt+J+65535,J=Math.floor(S/65536),lt=S-J*65536,S=Qe+J+65535,J=Math.floor(S/65536),Qe=S-J*65536,S=tt+J+65535,J=Math.floor(S/65536),tt=S-J*65536,S=xt+J+65535,J=Math.floor(S/65536),xt=S-J*65536,S=ze+J+65535,J=Math.floor(S/65536),ze=S-J*65536,S=Ye+J+65535,J=Math.floor(S/65536),Ye=S-J*65536,S=Dt+J+65535,J=Math.floor(S/65536),Dt=S-J*65536,S=Te+J+65535,J=Math.floor(S/65536),Te=S-J*65536,S=Ie+J+65535,J=Math.floor(S/65536),Ie=S-J*65536,re+=J-1+37*(J-1),J=1,S=re+J+65535,J=Math.floor(S/65536),re=S-J*65536,S=me+J+65535,J=Math.floor(S/65536),me=S-J*65536,S=ge+J+65535,J=Math.floor(S/65536),ge=S-J*65536,S=xe+J+65535,J=Math.floor(S/65536),xe=S-J*65536,S=qe+J+65535,J=Math.floor(S/65536),qe=S-J*65536,S=Fe+J+65535,J=Math.floor(S/65536),Fe=S-J*65536,S=Se+J+65535,J=Math.floor(S/65536),Se=S-J*65536,S=lt+J+65535,J=Math.floor(S/65536),lt=S-J*65536,S=Qe+J+65535,J=Math.floor(S/65536),Qe=S-J*65536,S=tt+J+65535,J=Math.floor(S/65536),tt=S-J*65536,S=xt+J+65535,J=Math.floor(S/65536),xt=S-J*65536,S=ze+J+65535,J=Math.floor(S/65536),ze=S-J*65536,S=Ye+J+65535,J=Math.floor(S/65536),Ye=S-J*65536,S=Dt+J+65535,J=Math.floor(S/65536),Dt=S-J*65536,S=Te+J+65535,J=Math.floor(S/65536),Te=S-J*65536,S=Ie+J+65535,J=Math.floor(S/65536),Ie=S-J*65536,re+=J-1+37*(J-1),te[0]=re,te[1]=me,te[2]=ge,te[3]=xe,te[4]=qe,te[5]=Fe,te[6]=Se,te[7]=lt,te[8]=Qe,te[9]=tt,te[10]=xt,te[11]=ze,te[12]=Ye,te[13]=Dt,te[14]=Te,te[15]=Ie}function L(te,z){R(te,z,z)}function W(te,z){const G=i();let S;for(S=0;S<16;S++)G[S]=z[S];for(S=253;S>=0;S--)L(G,G),S!==2&&S!==4&&R(G,G,z);for(S=0;S<16;S++)te[S]=G[S]}function M(te,z){const G=i();let S;for(S=0;S<16;S++)G[S]=z[S];for(S=250;S>=0;S--)L(G,G),S!==1&&R(G,G,z);for(S=0;S<16;S++)te[S]=G[S]}function F(te,z){const G=i(),S=i(),J=i(),re=i(),me=i(),ge=i(),xe=i(),qe=i(),Fe=i();N(G,te[1],te[0]),N(Fe,z[1],z[0]),R(G,G,Fe),O(S,te[0],te[1]),O(Fe,z[0],z[1]),R(S,S,Fe),R(J,te[3],z[3]),R(J,J,c),R(re,te[2],z[2]),O(re,re,re),N(me,S,G),N(ge,re,J),O(xe,re,J),O(qe,S,G),R(te[0],me,ge),R(te[1],qe,xe),R(te[2],xe,ge),R(te[3],me,qe)}function $(te,z,G){for(let S=0;S<4;S++)m(te[S],z[S],G)}function P(te,z){const G=i(),S=i(),J=i();W(J,z[2]),R(G,z[0],J),R(S,z[1],J),w(te,S),te[31]^=b(G)<<7}function v(te,z,G){p(te[0],s),p(te[1],a),p(te[2],a),p(te[3],s);for(let S=255;S>=0;--S){const J=G[S/8|0]>>(S&7)&1;$(te,z,J),F(z,te),F(te,te),$(te,z,J)}}function g(te,z){const G=[i(),i(),i(),i()];p(G[0],u),p(G[1],f),p(G[2],a),R(G[3],u,f),v(te,G,z)}function _(te){if(te.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const z=(0,n.hash)(te);z[0]&=248,z[31]&=127,z[31]|=64;const G=new Uint8Array(32),S=[i(),i(),i(),i()];g(S,z),P(G,S);const J=new Uint8Array(64);return J.set(te),J.set(G,32),{publicKey:G,secretKey:J}}t.generateKeyPairFromSeed=_;function T(te){const z=(0,e.randomBytes)(32,te),G=_(z);return(0,r.wipe)(z),G}t.generateKeyPair=T;function D(te){if(te.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(te.subarray(32))}t.extractPublicKeyFromSecretKey=D;const I=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function j(te,z){let G,S,J,re;for(S=63;S>=32;--S){for(G=0,J=S-32,re=S-12;J<re;++J)z[J]+=G-16*z[S]*I[J-(S-32)],G=Math.floor((z[J]+128)/256),z[J]-=G*256;z[J]+=G,z[S]=0}for(G=0,J=0;J<32;J++)z[J]+=G-(z[31]>>4)*I[J],G=z[J]>>8,z[J]&=255;for(J=0;J<32;J++)z[J]-=G*I[J];for(S=0;S<32;S++)z[S+1]+=z[S]>>8,te[S]=z[S]&255}function B(te){const z=new Float64Array(64);for(let G=0;G<64;G++)z[G]=te[G];for(let G=0;G<64;G++)te[G]=0;j(te,z)}function C(te,z){const G=new Float64Array(64),S=[i(),i(),i(),i()],J=(0,n.hash)(te.subarray(0,32));J[0]&=248,J[31]&=127,J[31]|=64;const re=new Uint8Array(64);re.set(J.subarray(32),32);const me=new n.SHA512;me.update(re.subarray(32)),me.update(z);const ge=me.digest();me.clean(),B(ge),g(S,ge),P(re,S),me.reset(),me.update(re.subarray(0,32)),me.update(te.subarray(32)),me.update(z);const xe=me.digest();B(xe);for(let qe=0;qe<32;qe++)G[qe]=ge[qe];for(let qe=0;qe<32;qe++)for(let Fe=0;Fe<32;Fe++)G[qe+Fe]+=xe[qe]*J[Fe];return j(re.subarray(32),G),re}t.sign=C;function H(te,z){const G=i(),S=i(),J=i(),re=i(),me=i(),ge=i(),xe=i();return p(te[2],a),E(te[1],z),L(J,te[1]),R(re,J,l),N(J,J,te[2]),O(re,te[2],re),L(me,re),L(ge,me),R(xe,ge,me),R(G,xe,J),R(G,G,re),M(G,G),R(G,G,J),R(G,G,re),R(G,G,re),R(te[0],G,re),L(S,te[0]),R(S,S,re),y(S,J)&&R(te[0],te[0],d),L(S,te[0]),R(S,S,re),y(S,J)?-1:(b(te[0])===z[31]>>7&&N(te[0],s,te[0]),R(te[3],te[0],te[1]),0)}function ae(te,z,G){const S=new Uint8Array(32),J=[i(),i(),i(),i()],re=[i(),i(),i(),i()];if(G.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(H(re,te))return!1;const me=new n.SHA512;me.update(G.subarray(0,32)),me.update(te),me.update(z);const ge=me.digest();return B(ge),v(J,re,ge),g(re,G.subarray(32)),F(J,re),P(S,J),!x(G,S)}t.verify=ae;function U(te){let z=[i(),i(),i(),i()];if(H(z,te))throw new Error("Ed25519: invalid public key");let G=i(),S=i(),J=z[1];O(G,a,J),N(S,a,J),W(S,S),R(G,G,S);let re=new Uint8Array(32);return w(re,G),re}t.convertPublicKeyToX25519=U;function ce(te){const z=(0,n.hash)(te.subarray(0,32));z[0]&=248,z[31]&=127,z[31]|=64;const G=new Uint8Array(z.subarray(0,32));return(0,r.wipe)(z),G}t.convertSecretKeyToX25519=ce})(W8);(function(t){var e=ne&&ne.__createBinding||(Object.create?function(W,M,F,$){$===void 0&&($=F);var P=Object.getOwnPropertyDescriptor(M,F);(!P||("get"in P?!M.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return M[F]}}),Object.defineProperty(W,$,P)}:function(W,M,F,$){$===void 0&&($=F),W[$]=M[F]}),n=ne&&ne.__setModuleDefault||(Object.create?function(W,M){Object.defineProperty(W,"default",{enumerable:!0,value:M})}:function(W,M){W.default=M}),r=ne&&ne.__importStar||function(){var W=function(M){return W=Object.getOwnPropertyNames||function(F){var $=[];for(var P in F)Object.prototype.hasOwnProperty.call(F,P)&&($[$.length]=P);return $},W(M)};return function(M){if(M&&M.__esModule)return M;var F={};if(M!=null)for(var $=W(M),P=0;P<$.length;P++)$[P]!=="default"&&e(F,M,$[P]);return n(F,M),F}}(),i=ne&&ne.__awaiter||function(W,M,F,$){function P(v){return v instanceof F?v:new F(function(g){g(v)})}return new(F||(F=Promise))(function(v,g){function _(I){try{D($.next(I))}catch(j){g(j)}}function T(I){try{D($.throw(I))}catch(j){g(j)}}function D(I){I.done?v(I.value):P(I.value).then(_,T)}D(($=$.apply(W,M||[])).next())})},o=ne&&ne.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(t,"__esModule",{value:!0}),t.MULTICODEC_ED25519_LENGTH=t.MULTICODEC_ED25519_HEADER=t.MULTICODEC_ED25519_BASE=t.MULTICODEC_ED25519_ENCODING=t.DID_METHOD=t.DID_PREFIX=t.DID_DELIMITER=t.KEY_PAIR_SEED_LENGTH=t.DATA_ENCODING=t.JSON_ENCODING=t.JWT_ENCODING=t.JWT_DELIMITER=t.JWT_IRIDIUM_TYP=t.JWT_IRIDIUM_ALG=t.JWTHeaderType=void 0,t.generateKeyPair=d,t.decodeJSON=p,t.encodeJSON=h,t.encodeIss=m,t.decodeIss=w,t.encodeSig=x,t.decodeSig=y,t.encodeData=b,t.decodeData=E,t.encodeJWT=O,t.decodeJWT=N,t.signJWT=R,t.verifyJWT=L;const s=r(W8),a=lu(),l=Oa(),c=o(au),u=r(Nr()),f=L8();t.JWTHeaderType="dapp",t.JWT_IRIDIUM_ALG="EdDSA",t.JWT_IRIDIUM_TYP="JWT",t.JWT_DELIMITER=".",t.JWT_ENCODING="base64url",t.JSON_ENCODING="utf8",t.DATA_ENCODING="utf8",t.KEY_PAIR_SEED_LENGTH=32,t.DID_DELIMITER=":",t.DID_PREFIX="did",t.DID_METHOD="key",t.MULTICODEC_ED25519_ENCODING="base58btc",t.MULTICODEC_ED25519_BASE="z",t.MULTICODEC_ED25519_HEADER="K36",t.MULTICODEC_ED25519_LENGTH=32;function d(){return c.default.sign.keyPair()}function p(W){return(0,a.safeJsonParse)((0,f.okxtoString)((0,f.okxfromString)(W,t.JWT_ENCODING),t.JSON_ENCODING))}function h(W){return(0,f.okxtoString)((0,f.okxfromString)((0,a.safeJsonStringify)(W),t.JSON_ENCODING),t.JWT_ENCODING)}function m(W){u.logDebug(`publicKey: ${(0,l.toHexString)(W)}`);var M=(0,f.okxtoString)(W,t.MULTICODEC_ED25519_ENCODING);return[t.DID_PREFIX,t.DID_METHOD,M].join(t.DID_DELIMITER)}function w(W){const[M,F,$]=W.split(t.DID_DELIMITER);if(M!==t.DID_PREFIX||F!==t.DID_METHOD)throw new Error('Issuer must be a DID with method "key"');if($===void 0)throw new Error("multicodec is undefined");const P=(0,f.okxfromString)($,t.MULTICODEC_ED25519_ENCODING);if(P===void 0||P.length!==t.MULTICODEC_ED25519_LENGTH)throw new Error("Issuer must be a public key with length 32 bytes");return P}function x(W){return(0,f.okxtoString)(W,t.JWT_ENCODING)}function y(W){return(0,f.okxfromString)(W,t.JWT_ENCODING)}function b(W){return(0,f.okxfromString)([h(W.header),h(W.payload)].join(t.JWT_DELIMITER),t.DATA_ENCODING)}function E(W){var M,F;const $=(0,f.okxtoString)(W,t.DATA_ENCODING).split(t.JWT_DELIMITER),P=p((M=$[0])!==null&&M!==void 0?M:"{}"),v=p((F=$[1])!==null&&F!==void 0?F:"{}");return{header:P,payload:v}}function O(W){return[h(W.header),h(W.payload),x(W.signature)].join(t.JWT_DELIMITER)}function N(W){var M,F,$;const P=W.split(t.JWT_DELIMITER),v=p((M=P[0])!==null&&M!==void 0?M:"{}"),g=p((F=P[1])!==null&&F!==void 0?F:"{}"),_=y(($=P[2])!==null&&$!==void 0?$:"{}"),T=(0,f.okxfromString)(P.slice(0,2).join(t.JWT_DELIMITER),t.DATA_ENCODING);return{header:v,payload:g,signature:_,data:T}}function R(W,M,F,$){return i(this,arguments,void 0,function*(P,v,g,_,T=Math.floor(Date.now())){const D={alg:t.JWT_IRIDIUM_ALG,typ:t.JWT_IRIDIUM_TYP},I=m(_.publicKey),j=T+g,C={iss:I,sub:P,aud:v,act:"authenticate user",iat:T,exp:j},H=b({header:D,payload:C});u.logDebug(`get sec kp: ${_.secretKey} {${_.secretKey.length}}`);const ae=c.default.sign.detached(H,_.secretKey);return O({header:D,payload:C,signature:ae})})}function L(W){return i(this,void 0,void 0,function*(){const{header:M,payload:F,data:$,signature:P}=N(W);if(M.alg!==t.JWT_IRIDIUM_ALG||M.typ!==t.JWT_IRIDIUM_TYP)throw new Error("JWT must use EdDSA algorithm");const v=w(F.iss);return s.verify(v,$,P)})}})(yb);var Fk=ne&&ne.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Lk=ne&&ne.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Uk=ne&&ne.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(n){var r=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[r.length]=i);return r},t(e)};return function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var r=t(e),i=0;i<r.length;i++)r[i]!=="default"&&Fk(n,e,r[i]);return Lk(n,e),n}}(),En=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(zp,"__esModule",{value:!0});zp.ConnectionManager=void 0;const $k=su,Pa=ar,Gn=vn,Vw=ys,Qi=Ip,jk=_l,Kk=bl,Ul=Oa(),av=_f,Jw=yb,Yo=lu(),Ze=Uk(Nr()),Ti=Nr(),Wk=Kp(),Hk=xf();class Xk{constructor(e=void 0){this.events=new jk.EventEmitter,this.connectStorage=new Kk.Storage(Gn.OKXCONNECTOR_CACHE_KEY_DAPP+e,Gn.OKXCONNECTOR_CACHE_KEY_DAPP),this.crypto=new av.SessionCrypto;let n=(0,Hk.isInTMA)();if((0,Ti.logDebug)("do init:",n),Ze.reportLog("connection manager do init"),n){const r=this.getCachedCryptoKeyPair();(0,Ti.logDebug)("use same pk:",r),this.crypto=new av.SessionCrypto(r)}this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new $k.OKXWalletConnector(Qi.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.connectedWalletPK="",this.currentTopic="",Ze.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`)}refreshPackageId(){this.packageId=Date.now()}saveCryptoKeyPair(e){let n=(0,Yo.safeJsonStringify)(e);this.connectStorage.encryptStoreMsg(n,Gn.OKXCONNECTOR_CRYPTO_KEY)}getCachedCryptoKeyPair(){const n=this.connectStorage.getAndDecrypt(Gn.OKXCONNECTOR_CRYPTO_KEY);return typeof n=="string"?(Ze.logDebug("get cached crypto key:"),Ze.logDebug(n),(0,Yo.safeJsonParse)(n)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(e){var n={publicKey:(0,Ul.toHexString)(e.publicKey),secretKey:(0,Ul.toHexString)(e.secretKey)};Ze.logDebug("save jwt kp");let r=(0,Yo.safeJsonStringify)(n);Ze.logDebug(r),this.connectStorage.encryptStoreMsg(r,Gn.OKXCONNECTOR_JWT_KEY)}getCachedJWTKeyPair(){const n=this.connectStorage.getAndDecrypt(Gn.OKXCONNECTOR_JWT_KEY);if(typeof n=="string"){Ze.logDebug("get cached jwt kp:"),Ze.logDebug(n);let i=(0,Yo.safeJsonParse)(n);Ze.logDebug("save jwt kp"),Ze.logDebug(i);var r={publicKey:(0,Ul.hexToByteArray)(i.publicKey),secretKey:(0,Ul.hexToByteArray)(i.secretKey)};return r}else return(0,Jw.generateKeyPair)()}isWalletPKReady(){return Ze.logDebug(`isWalletPKReady  ===> ${this.connectedWalletPK}`),this.connectedWalletPK.length>0}makeJWT(e){return En(this,void 0,void 0,function*(){return yield(0,Jw.signJWT)(e,Vw.OKXCONNECTOR_JWT_SIDE,Vw.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)})}parsePackage(e){return En(this,arguments,void 0,function*(n,r=!1){var i,o,s,a,l;if(this.events.emit(n.id,n),!r){yield this.sendACK(n.id,!0);let c=(i=this.connectStorage.getItem(Gn.OKXCONNECTOR_TOKEN_CACHE))===null||i===void 0?void 0:i.content;if(c){let u=n;!((s=(o=u.params)===null||o===void 0?void 0:o.data)===null||s===void 0)&&s.messageId&&(this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),(l=(a=u.params)===null||a===void 0?void 0:a.data)===null||l===void 0?void 0:l.messageId,c))}}})}restoreConnect(e){return En(this,void 0,void 0,function*(){if(Ze.reportLog("connection manager restore connection"),Ze.logDebug(`connectionManager  restoreConenct   ${e}`),typeof e!="string"||e.length===0)throw new Error("CONNECTION: invalid topic");Ze.logDebug("connectionManager  restoreConenct   disconnect"),yield this.disconnect(!0),this.connectStorage.saveContent(e,Gn.OKXCONNECTOR_TOKEN_CACHE),Ze.logDebug("connectionManager  restoreConenct   conect"),yield this.connect(!0)})}getConnectInfo(){var e=(0,Ul.generateTopic)();return Ze.logDebug(`generate topic token: ${e}`),Ze.reportLog("connection manager generate connection info"),this.currentTopic=e,{channelId:e,clientId:this.crypto.stringifyKeypair().publicKey}}connect(){return En(this,arguments,void 0,function*(e=!1){this.timeLog=new Date().getTime(),(0,Ti.logDebug)("ConnectTime---enter->",this.timeLog),Ze.reportLog("connection manager begin connect");let n=this.connectStorage.getItem(Gn.OKXCONNECTOR_TOKEN_CACHE);var r=this.currentTopic;if(Ze.logDebug(`generate topic token: ${r}`),e){typeof n<"u"&&n!==null&&(Ze.logDebug(`read last connect id: ${n}`),r=n.content);var i=this.connectStorage.getItem(Gn.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);i&&(this.connectedWalletPK=i.content,(0,Ti.logDebug)(`connectionManager connect() this.connectedWalletPK : ${this.connectedWalletPK}`)),Ze.reportLog("connection manager do restore connection")}if(e){const s=this.getCachedCryptoKeyPair();s&&(this.crypto=new av.SessionCrypto(s))}Ze.logDebug(`use crypto client id: ${this.crypto.stringifyKeypair().publicKey}`),this.connectStorage.saveContent(r,Gn.OKXCONNECTOR_TOKEN_CACHE);var o=yield this.makeJWT(r);return Ze.logDebug(`generate jwt token: ${o}`),this.connectStorage.saveContent(o,"jwt"),new Promise((s,a)=>{this.connector.onOpen(()=>En(this,void 0,void 0,function*(){Ze.logDebug("1. connector on open"),Ze.reportLog("1. connect ws open");const l=new Date().getTime();(0,Ti.logDebug)("ConnectTime---open->",l-this.timeLog),this.events.once(this.packageId.toString(),c=>En(this,void 0,void 0,function*(){if(c&&c.error){Ze.logError("failed when login"),Ze.reportLog("2. connect login failed"),yield this.connector.disconnect();var u=new Error;u.message=c.error.message,u.name=c.error.code.toString(),a(u)}this.refreshPackageId(),this.events.once(this.packageId.toString(),d=>En(this,void 0,void 0,function*(){if(d&&d.error){Ze.logError("failed when subscribe"),Ze.reportLog("3. connect subscribe failed"),yield this.connector.disconnect();var p=new Error;p.message=d.error.message,p.name=d.error.code.toString(),a(p)}this.refreshPackageId(),Ze.logDebug(`4. subscribe callback then send fetch: ${this.packageId}`),Ze.reportLog("4. subscribe callback then send fetch");const h=new Date().getTime();(0,Ti.logDebug)("ConnectTime--subscribe callback->",h-this.timeLog),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),r),s()})),Ze.logDebug(`3. login callback then send subscribe: ${this.packageId}`),Ze.reportLog("3. connect subscribe failed");const f=new Date().getTime();(0,Ti.logDebug)("ConnectTime---login callback->",f-this.timeLog),yield this.connector.send(()=>En(this,void 0,void 0,function*(){Ze.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch(d=>{(0,Ti.logDebug)("ConnectionManager connect error",d),a(d)})}),{id:this.packageId.toString(),jsonrpc:Qi.CONNECT_JSONRPC_VER,method:Pa.CONNECT_METHOD_SUB,params:{topic:r}})})),Ze.logDebug("2. login called"),Ze.reportLog("2. connection manager connect call login"),yield this.connector.send(()=>En(this,void 0,void 0,function*(){Ze.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch(c=>{(0,Ti.logDebug)("ConnectionManager connect error",c),a(c)})}),{id:this.packageId.toString(),jsonrpc:Qi.CONNECT_JSONRPC_VER,method:Pa.CONNECT_METHOD_LOGIN,params:{token:o}}),this.connector.addPackageParse(c=>{var u;if(Ze.logDebug("connect: parse package"),Ze.logDebug(c),!("params"in c)||!("data"in c.params)){this.parsePackage(c,!0);return}let f=(u=c.params.data)===null||u===void 0?void 0:u.message;if(typeof f<"u"){f=f.replace(/'/g,'"');let d=(0,Yo.safeJsonParse)(f);typeof d!="string"&&"clientId"in d&&d.clientId&&d.clientId.length>0&&(this.connectedWalletPK=d.clientId,Ze.logDebug(`this.connectedWalletPK  addPackageParse   ${this.connectedWalletPK}`),this.connectStorage.saveContent(this.connectedWalletPK,Gn.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.saveCryptoKeyPair(this.crypto.stringifyKeypair()))}this.parsePackage(c,c.method===Pa.CONNECT_METHOD_RECEIVE)})})),this.connector.connect().catch(l=>{(0,Ti.logDebug)("ConnectionManager connect error",l),a(l)})})})}disconnect(){return En(this,arguments,void 0,function*(e=!1){yield this.connector.disconnect(),Ze.reportLog("connect disconnect"),this.connectStorage.clearCache(Gn.OKXCONNECTOR_TOKEN_CACHE),e||(this.connectStorage.clearCache(Gn.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.connectedWalletPK="",(0,Ti.logDebug)(`connectionManager disconnect() this.connectedWalletPK : ${this.connectedWalletPK}`))})}addListener(e,n,r){this.connector.addListener((0,Yo.safeJsonStringify)(e),i=>{if(i=i.replace(/'/g,'"'),Ze.logDebug(`addListener ===> ${i}`),typeof i<"u"){var o=(0,Yo.safeJsonParse)(i),s=o.message;let a;return s.trimStart().startsWith("{")?a=s:(o.clientId&&o.clientId.length>0&&(this.connectedWalletPK=o.clientId,this.connectStorage.saveContent(this.connectedWalletPK,Gn.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),Ze.logDebug(`this.connectedWalletPK  addListener   ${this.connectedWalletPK}`),Ze.logDebug(`this.cryptoKey  addListener   ${(0,Ul.toHexString)(this.crypto.keyPair.publicKey)}`),this.saveCryptoKeyPair(this.crypto.stringifyKeypair())),a=this.crypto.decrypt(s,this.connectedWalletPK)),Ze.logDebug(`addListener ===> ${a}`),a}},n,r)}sendRaw(e){return En(this,void 0,void 0,function*(){Ze.logDebug(`message send =====> ${e}`),Ze.reportLog("connect send raw msg");let n=e;Ze.logDebug(`message send =====encrypt message.length>>>> ${n.length}`);let r=this.connectStorage.getItem(Gn.OKXCONNECTOR_TOKEN_CACHE);Ze.logDebug(`message send =====topic>>>> ${r==null?void 0:r.content}`),this.refreshPackageId();const i={id:this.packageId.toString(),method:Pa.CONNECT_METHOD_PUBLISH,jsonrpc:Qi.CONNECT_JSONRPC_VER,params:{message:{topic:r==null?void 0:r.content,message:n,ttl:Qi.OKXCONNECTOR_MESSAGE_TTL}}};return this.events.once(this.packageId.toString(),o=>En(this,void 0,void 0,function*(){o&&o.error?Ze.logError(`@${new Date().toUTCString()} >>> failed when send msg`):o&&!o.error&&Ze.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>En(this,void 0,void 0,function*(){return Ze.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),i),this.packageId})}send(e){return En(this,arguments,void 0,function*(n,r=Qi.OKXCONNECTOR_MESSAGE_TTL){if(Ze.logDebug(`message send =====> ${n}`),Ze.reportLog("connect send msg"),!this.isWalletPKReady())throw new Error("connection not finish");let i=this.crypto.encrypt(n,this.connectedWalletPK);Ze.logDebug(`message send =====encrypt message.length>>>> ${i.length}`),Ze.reportEvent(Wk.OKXReportType.LOG,"msg_size",i.length.toString());let o=this.connectStorage.getItem(Gn.OKXCONNECTOR_TOKEN_CACHE);Ze.logDebug(`message send =====topic>>>> ${o==null?void 0:o.content}`),this.refreshPackageId();const s={id:this.packageId.toString(),method:Pa.CONNECT_METHOD_PUBLISH,jsonrpc:Qi.CONNECT_JSONRPC_VER,params:{message:{topic:o==null?void 0:o.content,message:i,ttl:r}}};return this.events.once(this.packageId.toString(),a=>En(this,void 0,void 0,function*(){a&&a.error?Ze.logError(`@${new Date().toUTCString()} >>> failed when send msg`):a&&!a.error&&Ze.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>En(this,void 0,void 0,function*(){return Ze.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),s),this.packageId})}sendACK(e,n){return En(this,arguments,void 0,function*(r,i,o=void 0){if(i===!0){const s={id:r,jsonrpc:Qi.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send(()=>En(this,void 0,void 0,function*(){return Ze.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),s)}else if(o){const s={id:r,jsonrpc:Qi.CONNECT_JSONRPC_VER,error:{code:o.code,message:o.message}};yield this.connector.send(()=>En(this,void 0,void 0,function*(){return Ze.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),s)}})}sendReceive(e,n,r){return En(this,void 0,void 0,function*(){const i={id:e,jsonrpc:Qi.CONNECT_JSONRPC_VER,method:Pa.CONNECT_METHOD_RECEIVE,params:{data:{messageId:n,topic:r}}};yield this.connector.send(()=>En(this,void 0,void 0,function*(){return Ze.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),i)})}sendConnectSessionInfo(e,n,r,i){return En(this,void 0,void 0,function*(){})}sendFetchAndConsumeMessages(e,n){return En(this,void 0,void 0,function*(){this.events.once(e,o=>En(this,void 0,void 0,function*(){var s,a;if(o.result){var l=o.result.hasMore,c=o.result.data;if(c)for(let u=0;u<c.length;u++){let f=c[u];if(f&&f.topic==n){let d=f.messageId;Ze.reportLog("5. get fetch result"),yield this.connector.getMsgPayloadFromHistory(f),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),d,n)}}l&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),n))}else Ze.logDebug(`CONNECT: get error rsp ${(s=o.error)===null||s===void 0?void 0:s.code} : ${(a=o.error)===null||a===void 0?void 0:a.message}`)})),Ze.logDebug("5. send fetch more"),Ze.reportLog("5. send fetch more");const r=new Date().getTime();(0,Ti.logDebug)("ConnectTime---5->",r-this.timeLog);const i={id:e,jsonrpc:Qi.CONNECT_JSONRPC_VER,method:Pa.CONNECT_METHOD_FETCHMSG,params:{data:{topic:n}}};yield this.connector.send(()=>En(this,void 0,void 0,function*(){return Ze.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),i)})}cleanCache(){return En(this,void 0,void 0,function*(){Ze.reportLog("connection cache clean called"),this.connectStorage.clearCache()})}saveSessionContent(e,n){n||this.connectStorage.clearCache(Gn.OKXCONNECTOR_SESSION_PREFIX_KEY+e);let r=(0,Yo.safeJsonStringify)(n);this.connectStorage.encryptStoreMsg(r,Gn.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}getSessionContent(e){let n=this.connectStorage.getAndDecrypt(Gn.OKXCONNECTOR_SESSION_PREFIX_KEY+e);if(n)return(0,Yo.safeJsonParse)(n)}getCurrentConnectionReady(){return this.isWalletPKReady()}}zp.ConnectionManager=Xk;var Gp={},Wc={};Object.defineProperty(Wc,"__esModule",{value:!0});Wc.WalletConnectionManagerEvent=Wc.WalletConnectionManagerTopicInfoCacheKey=void 0;Wc.WalletConnectionManagerTopicInfoCacheKey="wcmtic";Wc.WalletConnectionManagerEvent={RECEIVE_REQUEST:"payload"};var zk=ne&&ne.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),qk=ne&&ne.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Vk=ne&&ne.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(n){var r=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[r.length]=i);return r},t(e)};return function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var r=t(e),i=0;i<r.length;i++)r[i]!=="default"&&zk(n,e,r[i]);return qk(n,e),n}}(),pn=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(Gp,"__esModule",{value:!0});Gp.WalletConnectionManager=void 0;const Jk=su,Ls=ar,_o=vn,Gw=ys,Yi=Ip,Qw=Wc,Yw=_l,Gk=bl,ka=Oa(),Zw=_f,e4=yb,Zi=lu(),ct=Vk(Nr()),pr=Nr(),t4=Aa();class Qk{constructor(){this.events=new Yw.EventEmitter,this.communicateEvents=new Yw.EventEmitter,ct.logDebug("connect manager construct"),this.connectStorage=new Gk.Storage(_o.OKXCONNECTOR_CACHE_KEY),this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new Jk.OKXWalletConnector(Yi.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.sessionCryptoInfoMap=new Map,this.inLogin=!1,this.isLogined=!1}refreshPackageId(e=0){this.packageId=Date.now()+e}saveCryptoKeyPair(e,n){let r=(0,Zi.safeJsonStringify)(n);this.connectStorage.encryptStoreMsg(r,_o.OKXCONNECTOR_CRYPTO_KEY+e)}getCachedCryptoKeyPair(e){const r=this.connectStorage.getAndDecrypt(_o.OKXCONNECTOR_CRYPTO_KEY+e);return typeof r=="string"?(ct.logDebug("get cached crypto key:"),ct.logDebug(r),(0,Zi.safeJsonParse)(r)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(e){var n={publicKey:(0,ka.toHexString)(e.publicKey),secretKey:(0,ka.toHexString)(e.secretKey)};ct.logDebug("save jwt kp");let r=(0,Zi.safeJsonStringify)(n);ct.logDebug(r),this.connectStorage.encryptStoreMsg(r,_o.OKXCONNECTOR_JWT_KEY),ct.logDebug("after save jwt kp")}getCachedJWTKeyPair(){const n=this.connectStorage.getAndDecrypt(_o.OKXCONNECTOR_JWT_KEY);if(typeof n=="string"){ct.logDebug("get cached jwt kp:"),ct.logDebug(n);let i=(0,Zi.safeJsonParse)(n);ct.logDebug("save jwt kp"),ct.logDebug(i);var r={publicKey:(0,ka.hexToByteArray)(i.publicKey),secretKey:(0,ka.hexToByteArray)(i.secretKey)};return r}else return(0,e4.generateKeyPair)()}isTopicPublicKeyExist(e){return ct.logDebug(`isTopicPublicKeyExist  ===> ${e}`),this.sessionCryptoInfoMap.get(e)}makeJWT(e){return pn(this,void 0,void 0,function*(){return yield(0,e4.signJWT)(e,Gw.OKXCONNECTOR_JWT_WALLET_SIDE,Gw.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)})}parseInternalMsg(e){try{let r=(0,Zi.safeJsonParse)(e)["ivur-igbfft-ptjip"];if(r&&r.length>0)return(0,t4.base64decode)(r,!0).toString()}catch(n){ct.logError("parse internal msg",n)}}updateClientId(e,n){let r=this.sessionCryptoInfoMap.get(e);if((0,pr.logDebug)("updateClientId",r,e,n),r&&n&&n.length>0){if(r.cid){let i=(0,ka.getLastSixMd5Hash)(n);r.cid==i?r.dappPublicKey=n:ct.logError("cid check failed",r,e,n)}else r.dappPublicKey=n;this.syncCacheSessionInfo()}return!1}parsePackage(e,n){return pn(this,arguments,void 0,function*(r,i,o=!1){var s,a,l,c,u,f,d,p,h,m,w;this.events.emit(i.id,i);let x=this.sessionCryptoInfoMap.get(r);if(ct.logDebug("get sessionInfo for decrypt topic:",r),ct.logDebug("get sessionInfo for decrypt:",i.id,r,x,this.sessionCryptoInfoMap),x&&i.params.data&&!((s=i.params.data)===null||s===void 0)&&s.message)if(!((a=i.params.data)===null||a===void 0)&&a.isInternalData){let y=(l=i.params.data)===null||l===void 0?void 0:l.message,b=(c=i.params.data)===null||c===void 0?void 0:c.topic,E=this.parseInternalMsg(y);(0,pr.logDebug)("parse internal origin: ",E),E&&E.length>0&&this.communicateEvents.emit("origin",E,b)}else try{let y=(u=i.params.data)===null||u===void 0?void 0:u.message;if(y.trimStart().startsWith("{")){let b=(0,Zi.safeJsonParse)(y);if(b.method){if(b.method=="session_info"){let E=b.params.sessionInfo,O=(0,t4.base64decode)(E,!1);(0,pr.logDebug)("wallet connection manager requset base64Content:",O),(0,pr.logDebug)("base64Content:"+O);let N=O.toObject();this.updateClientId(r,N.clientId)}(0,pr.logDebug)("<<< parse raw msg:",r,b),this.communicateEvents.emit(r,y)}}else{let b=x.crypto.decryptWallet((f=i.params.data)===null||f===void 0?void 0:f.message,x.dappPublicKey);(0,pr.logDebug)("<<< receive msg:",r,b),this.communicateEvents.emit(r,b)}}catch{let b=x.crypto.decryptWallet((d=i.params.data)===null||d===void 0?void 0:d.message,x.dappPublicKey);(0,pr.logDebug)("<<< receive msg:",r,b),this.communicateEvents.emit(r,b)}if(!o&&(yield this.sendACK(i.id,!0),r)){let y=i;!((h=(p=y.params)===null||p===void 0?void 0:p.data)===null||h===void 0)&&h.messageId&&(this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),(w=(m=y.params)===null||m===void 0?void 0:m.data)===null||w===void 0?void 0:w.messageId,r))}})}recovrySessionInfoFromCache(){let e=this.connectStorage.getAndDecrypt(Qw.WalletConnectionManagerTopicInfoCacheKey);if(ct.logDebug("get cached sessionInfos:",e),e){let n=(0,Zi.safeJsonParse)(e);for(let r in n){let i=n[r];ct.logDebug("make topicItem:",i);let o={topic:r,crypto:new Zw.SessionCrypto({publicKey:i.cryptoKeyPair.publicKey,secretKey:i.cryptoKeyPair.secretKey}),dappPublicKey:i.dappPublicKey,cid:i.cid};this.sessionCryptoInfoMap.set(r,o)}}ct.logDebug("get cached sessionInfos map:",this.sessionCryptoInfoMap)}syncCacheSessionInfo(){let e={};for(let[r,i]of this.sessionCryptoInfoMap)ct.logDebug("for each Keys",r),i&&(e[r]={cryptoKeyPair:i.crypto.stringifyKeypair(),dappPublicKey:i.dappPublicKey,cid:i.cid});let n=(0,Zi.safeJsonStringify)(e);ct.logDebug("sync cache sessionInfos:",n),this.connectStorage.encryptStoreMsg(n,Qw.WalletConnectionManagerTopicInfoCacheKey)}cacheSessionInfo(e,n,r=!0){let i=n.dappPublicKey,o=[];for(let[s,a]of this.sessionCryptoInfoMap)ct.logDebug("for each Keys",s),a.dappPublicKey==i&&(ct.logDebug("duplicated dapp public key:",s,i),o.push(s));for(let[s,a]of this.sessionCryptoInfoMap)o.includes(s)&&this.sessionCryptoInfoMap.delete(s);return ct.logDebug("cleaned connect session cache:",this.sessionCryptoInfoMap),this.sessionCryptoInfoMap.set(e,n),ct.logDebug("cache sessionInfo:",e,n,this.sessionCryptoInfoMap),r&&this.syncCacheSessionInfo(),o}appendTopic(e,n,r){return pn(this,void 0,void 0,function*(){return(0,pr.logDebug)("4.1. get append Topic:",e),new Promise((i,o)=>pn(this,void 0,void 0,function*(){if(!this.isLogined){var s=new Error;s.message="connection is not logined",s.name="append error",o(s);return}let a={topic:e,crypto:new Zw.SessionCrypto,dappPublicKey:n||"",cid:r},l=this.cacheSessionInfo(e,a,!1);yield this.subscribeTopics(Array.from([e])),this.refreshPackageId(),ct.logDebug(`5. subscribe callback then fetch append message: ${this.packageId}, ${e}`),ct.reportLog("5. subscribe callback then fetch append message");const c=new Date().getTime();(0,pr.logDebug)("Append --subscribe callback->",c-this.timeLog),i(l)}))})}confirmAppendingTopics(){this.syncCacheSessionInfo()}connect(){return pn(this,void 0,void 0,function*(){this.timeLog=new Date().getTime(),(0,pr.logDebug)("[Wallet] ConnectTime---enter->",this.timeLog),ct.reportLog("wallet connect connect called");let e=Date.now().toString();var n=yield this.makeJWT(e);return ct.logDebug(`generate jwt token: ${n}`),this.connectStorage.saveContent(n,"jwt"),this.recovrySessionInfoFromCache(),new Promise((r,i)=>{this.inLogin=!0,this.connector.onOpen(()=>pn(this,void 0,void 0,function*(){ct.logDebug("1. connector on open"),ct.reportLog("1. wallet connect connect on open");const o=new Date().getTime();(0,pr.logDebug)("ConnectTime---open->",o-this.timeLog),this.events.once(this.packageId.toString(),s=>pn(this,void 0,void 0,function*(){if(s&&s.error){ct.logError("failed when login"),yield this.connector.disconnect();var a=new Error;a.message=s.error.message,a.name=s.error.code.toString(),i(a)}else this.isLogined=!0,r(),ct.logDebug("3. subscribe cached topics",this.sessionCryptoInfoMap),ct.reportLog("3. wallet connect connect subscribe cached topics"),this.sessionCryptoInfoMap.size>0&&(yield this.subscribeTopics(Array.from(this.sessionCryptoInfoMap.keys())))})),ct.logDebug("2. login called"),ct.reportLog("2. wallet connect login called"),yield this.connector.send(()=>pn(this,void 0,void 0,function*(){return ct.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:Yi.CONNECT_JSONRPC_VER,method:Ls.CONNECT_METHOD_LOGIN,params:{token:n}})})),this.connector.connect().catch(o=>{(0,pr.logDebug)("WalletConnectionManager connect error",o),i(o)}),this.connector.addPackageParse(o=>{var s,a;if(ct.logDebug("connect: parse package"),ct.logDebug(o),!("params"in o)||!("data"in o.params)){this.parsePackage("",o,!0);return}!((s=o.params.data)===null||s===void 0)&&s.topic&&this.parsePackage((a=o.params.data)===null||a===void 0?void 0:a.topic,o,o.method===Ls.CONNECT_METHOD_RECEIVE)})})})}getSessionPublicKey(e){if(this.isTopicPublicKeyExist(e)){let n=this.sessionCryptoInfoMap.get(e);if(n)return(0,ka.toHexString)(n.crypto.keyPair.publicKey)}}getCurrentCachedTopicIdList(){return Array.from(this.sessionCryptoInfoMap.keys())}disconnect(){return pn(this,arguments,void 0,function*(e=!1){yield this.connector.disconnect(),this.connectStorage.clearCache(_o.OKXCONNECTOR_TOKEN_CACHE),e||this.connectStorage.clearCache(_o.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE)})}send(e,n){return pn(this,arguments,void 0,function*(r,i,o=!1,s=Yi.OKXCONNECTOR_MESSAGE_TTL,a=!1){var l,c;if(ct.logDebug(`message send =====> ${i}`),!this.isTopicPublicKeyExist(r))throw new Error("connection not finish");let u=(l=this.sessionCryptoInfoMap.get(r))===null||l===void 0?void 0:l.dappPublicKey,f=(c=this.sessionCryptoInfoMap.get(r))===null||c===void 0?void 0:c.crypto,d;if(a&&(d={message:i}),f&&u&&!a&&(d={message:f.encryptWallet(i,u)}),d){o&&f&&(d.clientId=(0,ka.toHexString)(f.keyPair.publicKey)),this.refreshPackageId();const p={id:this.packageId.toString(),method:Ls.CONNECT_METHOD_PUBLISH,jsonrpc:Yi.CONNECT_JSONRPC_VER,params:{message:{topic:r,message:(0,Zi.safeJsonStringify)(d),ttl:s}}};return this.events.once(this.packageId.toString(),h=>pn(this,void 0,void 0,function*(){h&&h.error?ct.logError(`@${new Date().toUTCString()} >>> failed when send msg`):h&&!h.error&&ct.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>pn(this,void 0,void 0,function*(){return ct.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),p),this.packageId}})}sendACK(e,n){return pn(this,arguments,void 0,function*(r,i,o=void 0){if(i===!0){const s={id:r,jsonrpc:Yi.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send(()=>pn(this,void 0,void 0,function*(){return ct.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),s)}else if(o){const s={id:r,jsonrpc:Yi.CONNECT_JSONRPC_VER,error:{code:o.code,message:o.message}};yield this.connector.send(()=>pn(this,void 0,void 0,function*(){return ct.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),s)}})}sendReceive(e,n,r){return pn(this,void 0,void 0,function*(){const i={id:e,jsonrpc:Yi.CONNECT_JSONRPC_VER,method:Ls.CONNECT_METHOD_RECEIVE,params:{data:{messageId:n,topic:r}}};yield this.connector.send(()=>pn(this,void 0,void 0,function*(){return ct.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),i)})}sendUnsubscribe(e){return pn(this,void 0,void 0,function*(){yield this.connector.send(()=>pn(this,void 0,void 0,function*(){return ct.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:Yi.CONNECT_JSONRPC_VER,method:Ls.CONNECT_METHOD_UNSUB,params:{topic:e}}),this.sessionCryptoInfoMap.delete(e),this.syncCacheSessionInfo()})}sendFetchAndConsumeMessages(e,n){return pn(this,void 0,void 0,function*(){this.events.once(e,o=>pn(this,void 0,void 0,function*(){var s,a;if(o.result){var l=o.result.hasMore,c=o.result.data;if(c)for(let u=0;u<c.length;u++){let f=c[u];if(f&&f.topic==n){let d=f.messageId;yield this.connector.getMsgPayloadFromHistory(f),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),d,n)}}l&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),n))}else ct.logDebug(`CONNECT: get error rsp ${(s=o.error)===null||s===void 0?void 0:s.code} : ${(a=o.error)===null||a===void 0?void 0:a.message}`)})),ct.logDebug("5. send fetch more");const r=new Date().getTime();(0,pr.logDebug)("ConnectTime---5->",r-this.timeLog);const i={id:e,jsonrpc:Yi.CONNECT_JSONRPC_VER,method:Ls.CONNECT_METHOD_FETCHMSG,params:{data:{topic:n}}};yield this.connector.send(()=>pn(this,void 0,void 0,function*(){return ct.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),i)})}sendBatchFetchAndConsumeMessages(e,n){return pn(this,void 0,void 0,function*(){this.events.once(e,o=>pn(this,void 0,void 0,function*(){var s,a;if(o.result){var l=o.result.hasMore,c=o.result.data;if(c)for(let u=0;u<c.length;u++){let f=c[u];if(f&&f.topic){let d=f.messageId;yield this.connector.getMsgPayloadFromHistory(f),this.refreshPackageId(u),yield this.sendReceive(this.packageId.toString(),d,f.topic)}}l&&(this.refreshPackageId(),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),n))}else ct.logDebug(`CONNECT: get error rsp ${(s=o.error)===null||s===void 0?void 0:s.code} : ${(a=o.error)===null||a===void 0?void 0:a.message}`)})),ct.logDebug("5. send fetch more"),ct.reportLog("5. send fetch more");const r=new Date().getTime();(0,pr.logDebug)("ConnectTime---5->",r-this.timeLog);const i={id:e,jsonrpc:Yi.CONNECT_JSONRPC_VER,method:Ls.CONNECT_METHOD_BATCH_FETCHMSG,params:{topics:n,withInternalData:!0}};yield this.connector.send(()=>pn(this,void 0,void 0,function*(){ct.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),i)})}cleanCache(){return pn(this,void 0,void 0,function*(){this.connectStorage.clearCache()})}saveSessionContent(e,n){n||this.connectStorage.clearCache(_o.OKXCONNECTOR_SESSION_PREFIX_KEY+e);let r=(0,Zi.safeJsonStringify)(n);this.connectStorage.encryptStoreMsg(r,_o.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}getSessionContent(e){let n=this.connectStorage.getAndDecrypt(_o.OKXCONNECTOR_SESSION_PREFIX_KEY+e);if(n)return(0,Zi.safeJsonParse)(n)}subscribeTopics(e){return pn(this,void 0,void 0,function*(){(0,pr.logDebug)("4. topicid list",e),ct.reportLog("4. topicid list"),this.refreshPackageId();const n=new Date().getTime();return(0,pr.logDebug)("ConnectTime--subscribe callback->",n-this.timeLog),new Promise((r,i)=>pn(this,void 0,void 0,function*(){let o=0;for(let s=0;s<e.length;++s){let a=e[s];this.refreshPackageId(s),this.events.once(this.packageId.toString(),c=>pn(this,void 0,void 0,function*(){if(c&&c.error){ct.logError("failed when subscribe"),yield this.connector.disconnect();var u=new Error;u.message=c.error.message,u.name=c.error.code.toString(),o+=1,o==e.length&&r()}this.refreshPackageId(s);const f=new Date().getTime();(0,pr.logDebug)("ConnectTime--subscribe callback->",f-this.timeLog),o+=1,o==e.length&&(ct.logDebug(`5. send fetch msg: ${this.packageId}, ${a}`),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),e),r())})),ct.logDebug(`3. login callback then send subscribe: ${this.packageId}, ${a}`),ct.reportLog("3. login callback then send subscribe");const l=new Date().getTime();(0,pr.logDebug)("ConnectTime---login callback->",l-this.timeLog),yield this.connector.send(()=>pn(this,void 0,void 0,function*(){return ct.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:Yi.CONNECT_JSONRPC_VER,method:Ls.CONNECT_METHOD_SUB,params:{topic:a}})}}))})}}Gp.WalletConnectionManager=Qk;var Qp={},Yp={};Object.defineProperty(Yp,"__esModule",{value:!0});Yp.buildNameSpacesByConnectResponse=Yk;Yp.buildRequestAccountNameSpacesByConnectResponse=z8;const Us=Nr();function Yk(t){return z8(t)}function z8(t){let e={};(0,Us.logDebug)("buildRequestAccountNameSpacesByConnectResponse start connectResponse111>>",JSON.stringify(t));let n=t.payload.responses.find(o=>o.name==="requestAccounts");if(n&&n.accounts){let o=[];for(const s of n.accounts)s.namespace==="ton"?s.data&&s.data.ton_addr&&s.data.ton_addr.address&&s.data.ton_addr.address.length>0&&((0,Us.logDebug)("buildRequestAccountNameSpacesByConnectResponse start TON>>",JSON.stringify(s)),o.push(s)):((0,Us.logDebug)("buildRequestAccountNameSpacesByConnectResponse start other>>",JSON.stringify(s)),o.push(s));n.accounts=o}const r=t.payload.responses.find(o=>o.name==="ton_addr"),i=t.payload.responses.find(o=>o.name==="ton_proof");if(r&&!n){(0,Us.logDebug)("buildRequestAccountNameSpacesByConnectResponse adapt ton data >>");let o=r.address;o="ton:"+r.network+":"+o;let s={ton_addr:r};i&&(s.ton_proof=i),n={name:"requestAccounts",accounts:[{namespace:"ton",addresses:[o],methods:["ton_sendTransaction"],extra:{},data:s}]}}return(0,Us.logDebug)("buildRequestAccountNameSpacesByConnectResponse end universalResponse>>>",JSON.stringify(n)),n.accounts.forEach(o=>{var s=[],a=[];o.addresses.forEach(l=>{var c=l.split(":");if((0,Us.logDebug)("buildRequestAccountNameSpacesByConnectResponse addressArr>>",c.length),c.length>=3){let u=c.slice(0,2).join(":");s.push(u),a.push(l),(0,Us.logDebug)("buildRequestAccountNameSpacesByConnectResponse chain:>>",u,"addressItem:",l)}}),o.data&&o.data.ton_addr&&(o.data.ton_addr.name="ton_addr"),o.data&&o.data.ton_proof&&(o.data.ton_proof.name="ton_proof"),e[o.namespace]={chains:s,accounts:a,methods:o.methods,extra:o.extra,payload:o.data},(0,Us.logDebug)("buildRequestAccountNameSpacesByConnectResponse result>>",JSON.stringify(e))}),e}var $l=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(Qp,"__esModule",{value:!0});Qp.Engine=void 0;const lv=lu(),hn=Nr(),jl=wl,Kl=Aa(),n4=Aa(),r4=Yp,cv=xf();class Zk{constructor(e){this.pendingRequests=new Map,this.disconnectListener=[],this.connectionManager=e,(0,hn.getDefaultReporter)().beginReport(),this.connectionManager.addListener("sdk_response",(n,r)=>{var i=(0,lv.safeJsonParse)(r);(0,hn.logDebug)(`Engine ==>> addListener ==> success ==> ${i}`),this.handleResponse(n,i)},function(){})}addDisconnectListener(e){this.disconnectListener.push(e)}setSessionConnectingListener(e){this.sessionConnectingListener=e}disconnect(){(0,hn.logDebug)("Engine ==>> disconnect"),this.pendingRequests.clear()}getRequestId(){const e=Date.now().toString();return(0,hn.logDebug)("Engine ==>> getRequestId ==>",e),e}bindRequestForPromise(e,n){this.pendingRequests.set(e,n)}send(e,n,r,i){return $l(this,void 0,void 0,function*(){(0,hn.logDebug)("Engine ==>> send  request==>",JSON.stringify(e));const o=this.getRequestId();try{let s=yield this.connectionManager.send(JSON.stringify(Object.assign(Object.assign({},e),{requestId:o})),i);this.connectionManager.events.once(s.toString(),a=>{var l;(0,hn.logDebug)(`Engine ==> send => onAck => ${(0,lv.safeJsonStringify)(a)}`),a&&a.result&&((l=n.onAck)===null||l===void 0||l.call(n))}),n.resolve&&this.bindRequestForPromise(o,n.resolve)}catch(s){return Promise.reject(s)}})}sendSession(e){return $l(this,void 0,void 0,function*(){(0,hn.logDebug)("[Connect] sendSession called:",e);const n=this.getRequestId();let r={method:"session_info",params:{sessionInfo:e}};yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({},r),{requestId:n})))})}handleResponse(e,n){if((0,hn.logDebug)(`Engine ==>> handleResponse_1  ======>response: ${(0,lv.safeJsonStringify)(n)}`,e),"requestId"in n){(0,hn.logDebug)("Engine ==>> handleResponse_2  ===> in response");let r=n.requestId;const i=this.pendingRequests.get(r);i?((0,hn.logDebug)("Engine ==>> handleResponse_3  ===> find resolve:",i),i(n),this.pendingRequests.delete(r)):((0,hn.logDebug)("Engine ==>> handleResponse_3  ===> not find resolve:"),n.method==="disconnect"?(this.disconnectListener.forEach(o=>o()),this.disconnectListener=[],this.disconnect()):n.method==="session_connecting"&&((0,hn.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener"),this.sessionConnectingListener&&((0,hn.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener not null"),this.sessionConnectingListener(),this.sessionConnectingListener=void 0)))}}restoreconnect(e,n){return $l(this,void 0,void 0,function*(){var r;yield(r=this.connectionManager)===null||r===void 0?void 0:r.restoreConnect(e.topic),n(e)})}conect(e,n,r){return $l(this,void 0,void 0,function*(){var i,o;const s=this.connectionManager.getConnectInfo(),a=this.getRequestId();let l=(i=n.openUniversalUrl)!==null&&i!==void 0?i:!1;const c={protocolVer:Number(jl.tonConnectSdkVersion),topic:s.channelId,clientId:s.clientId,requestId:a,dAppInfo:n.dappInfo,requests:e},u=JSON.stringify(c),f=new TextEncoder().encode(u),d=btoa(String.fromCharCode(...f)),p=`${jl.standardDeeplink}?param=${d}`;(0,hn.logDebug)("engine ==>> connect ==>>deeplinkUrl:",p);const h=(0,n4.isIos)();(0,hn.logDebug)(`engine ==>> connect ==>>isIOS: ${h}   openUniversalLink: ${l}`),h&&l&&((0,hn.logDebug)("bridge-provider ==>> connect_3"),(0,Kl.openOKXDeeplinkWithFallback)(p)),yield(o=this.connectionManager)===null||o===void 0?void 0:o.disconnect(!1),this.bindRequestForPromise(a,m=>{let w=this.onConnect(m,n,s.channelId);r(w,m)});try{yield this.connectionManager.connect()}catch(m){throw(0,hn.logDebug)("Engine conect error",m),m}return!h&&l&&((0,hn.logDebug)("bridge-provider ==>> connect_4"),(0,Kl.openOKXDeeplinkWithFallback)(p)),{connectInfo:s,deeplinkUrl:(0,Kl.getUniversalLink)(p)}})}onConnect(e,n,r){if(e.method=="connect"){let i=(0,r4.buildNameSpacesByConnectResponse)(e);if(i)return{topic:r,sessionConfig:n,namespaces:i}}return null}universalConnect(e,n,r){return $l(this,void 0,void 0,function*(){return new Promise((i,o)=>$l(this,void 0,void 0,function*(){var s,a,l,c;try{(0,hn.logDebug)("engine universalConnect request :",JSON.stringify(e)),(0,hn.logDebug)("engine universalConnect sessionConfig :",JSON.stringify(n));let f=[];e.forEach(b=>{let E=b.name;(E.startsWith("requestAccounts")||E.startsWith("ton"))&&f.push(b)}),(0,hn.logDebug)("engine universalConnect universalRequest :",JSON.stringify(f));const d=this.connectionManager.getConnectInfo(),p=this.getRequestId();let h=(s=n.openUniversalUrl)!==null&&s!==void 0?s:!1;const m={protocolVer:Number(jl.tonConnectSdkVersion),topic:d.channelId,clientId:d.clientId,requestId:p,dAppInfo:n.dappInfo,requests:f,redirect:(a=n==null?void 0:n.redirect)!==null&&a!==void 0?a:"none"},w=(0,cv.encodeConnectParams)(m);m.redirect=(l=n==null?void 0:n.redirect)!==null&&l!==void 0?l:"none",(0,hn.logDebug)("engine universalConnect ==>>universalConnectRequest:",JSON.stringify(m));var u="";h&&(u=(0,cv.getOKXLink)(m,n.useMini,n.tmaReturnUrl),(0,hn.logDebug)("engine universalConnect ==>>openOKXLink:",u));const x=()=>n.useMini?(0,cv.openOKXTMAWalletlinkWithFallback)(u):(0,Kl.useShortLink)()?(0,Kl.openOKXUniversalLink)(u):(0,Kl.openOKXDeeplinkWithFallback)(u);(0,hn.logDebug)("engine universalConnect ==>>openOKXLink:",u);const y=(0,n4.isIos)();y&&h&&((0,hn.logDebug)(`engine universalConnect ==>>isIOS: ${y}   openUniversalLink: ${h}`),x()),yield(c=this.connectionManager)===null||c===void 0?void 0:c.disconnect(!1),this.bindRequestForPromise(p,b=>{var E,O,N,R;try{let L=b;if(L.method=="connect"){(0,hn.logDebug)("engin  universalConnect success connectResponse:>>>",JSON.stringify(L));let W=(0,r4.buildNameSpacesByConnectResponse)(L);if(W){let M;!((O=(E=L.payload)===null||E===void 0?void 0:E.responses)===null||O===void 0)&&O[0]&&"walletName"in L.payload.responses[0]&&(M=L.payload.responses[0].walletName);let F={topic:d.channelId,sessionConfig:n,namespaces:W,wallet:Object.assign(Object.assign({},(N=L.payload)===null||N===void 0?void 0:N.wallet),{walletName:M})},$=L.payload.responses.find(P=>P.name==="requestAccounts");$&&$.connectRequestMethods&&(F.signResponse=$.connectRequestMethods),(0,hn.logDebug)("engin  universalConnect success session:>>>",JSON.stringify(F)),i(F)}else throw new jl.OKXConnectError(jl.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR)}else if(L.method=="connect_error"&&(!((R=L.payload)===null||R===void 0)&&R.code))throw new jl.OKXConnectError(L.payload.code)}catch(L){o(L)}});try{yield this.connectionManager.connect()}catch(b){throw(0,hn.logDebug)("Engine universalConnect error",b),b}if(!y&&h&&x(),(0,hn.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",r),this.sendSession(w),r){const b={connectRequest:m,redirect:n.redirect,tmaReturnUrl:n.tmaReturnUrl};(0,hn.logDebug)("universalConnect connectInfoAndUrl info :",JSON.stringify(b)),r(b)}}catch(f){(0,hn.logDebug)("Engine universalConnect catch error",f),o(f)}}))})}}Qp.Engine=Zk;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.Engine=t.WalletConnectionManager=t.ConnectionManager=t.OKXWalletConnector=void 0;var e=su;Object.defineProperty(t,"OKXWalletConnector",{enumerable:!0,get:function(){return e.OKXWalletConnector}});var n=zp;Object.defineProperty(t,"ConnectionManager",{enumerable:!0,get:function(){return n.ConnectionManager}});var r=Gp;Object.defineProperty(t,"WalletConnectionManager",{enumerable:!0,get:function(){return r.WalletConnectionManager}});var i=Qp;Object.defineProperty(t,"Engine",{enumerable:!0,get:function(){return i.Engine}});var o=bl;Object.defineProperty(t,"Storage",{enumerable:!0,get:function(){return o.Storage}})})(QE);(function(t){var e=ne&&ne.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=ne&&ne.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(QE,t),n(wl,t),n(Aa(),t)})(fe);var q8={},Zp={},e1={},t1={},bb={};Object.defineProperty(bb,"__esModule",{value:!0});bb.isPendingConnectionHttp=eI;function eI(t){return!("connectEvent"in t)}var Ef={},Wl=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(Ef,"__esModule",{value:!0});Ef.BridgeConnectionStorage=void 0;const Hl=fe;class tI{constructor(e){this.storage=e,this.storeKey="ton_connect_info_adapter_universal"}storeConnection(e){return Wl(this,void 0,void 0,function*(){return(0,Hl.logDebug)("BridgeConnectionStorage ==>> storeConnection ==>> connection:",e),this.storage.saveContent(JSON.stringify(e),this.storeKey)})}removeConnection(){return Wl(this,void 0,void 0,function*(){return(0,Hl.logDebug)("BridgeConnectionStorage ==>> removeConnection"),this.storage.clearCache(this.storeKey)})}getConnection(){return Wl(this,void 0,void 0,function*(){const e=this.storage.getItem(this.storeKey);if((0,Hl.logDebug)("BridgeConnectionStorage ==>> getConnection ==>>this.storage: ",this.storage),!e||!(e!=null&&e.content))return null;try{const n=e==null?void 0:e.content;if(n){let r;return r=JSON.parse(n),(0,Hl.logDebug)("BridgeConnectionStorage ==>> getConnection ==>>connection: ",r),r}else return null}catch{return null}})}getHttpConnection(){return Wl(this,void 0,void 0,function*(){const e=yield this.getConnection();if(!e)throw new Hl.OKXConnectError(Hl.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Trying to read HTTP connection source while nothing is stored");return e})}storeLastWalletEventId(e){return Wl(this,void 0,void 0,function*(){const n=yield this.getConnection();if(n&&"connectEvent"in n)return n.lastWalletEventId=e,this.storeConnection(n)})}getLastWalletEventId(){return Wl(this,void 0,void 0,function*(){const e=yield this.getConnection();if(e&&"lastWalletEventId"in e)return e.lastWalletEventId})}}Ef.BridgeConnectionStorage=tI;var al={};Object.defineProperty(al,"__esModule",{value:!0});al.OKXCONNECTOR_TON_KEY=al.OKXtonConnectSdkVersion=void 0;al.OKXtonConnectSdkVersion="1";al.OKXCONNECTOR_TON_KEY="OKXStorage_ctc";var Cf={},xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.createRequestVersionEvent=nI;xr.createResponseVersionEvent=rI;xr.createVersionInfo=uu;xr.createConnectionStartedEvent=iI;xr.createConnectionDeepLinkEvent=oI;xr.createConnectionInfoBeforeJumpEvent=sI;xr.createConnectionCompletedEvent=aI;xr.createConnectionErrorEvent=lI;xr.createConnectionRestoringStartedEvent=cI;xr.createConnectionRestoringCompletedEvent=uI;xr.createConnectionRestoringErrorEvent=fI;xr.createTransactionSentForSignatureEvent=dI;xr.createTransactionSignedEvent=hI;xr.createTransactionSigningFailedEvent=pI;xr.createDisconnectionEvent=gI;function nI(){return{type:"request-version"}}function rI(t){return{type:"response-version",version:t}}function uu(t){return{okx_ton_connect_sdk_lib:t.okx_ton_connect_sdk_lib,okx_connect_ui_lib:t.okx_connect_ui_lib}}function fu(t,e){var n,r,i,o,s,a,l,c;const f=((n=e==null?void 0:e.connectItems)===null||n===void 0?void 0:n.tonProof)&&"proof"in e.connectItems.tonProof?"ton_proof":"ton_addr";return{wallet_address:(i=(r=e==null?void 0:e.account)===null||r===void 0?void 0:r.address)!==null&&i!==void 0?i:null,wallet_type:(o=e==null?void 0:e.device.appName)!==null&&o!==void 0?o:null,wallet_version:(s=e==null?void 0:e.device.appVersion)!==null&&s!==void 0?s:null,auth_type:f,custom_data:Object.assign({chain_id:(l=(a=e==null?void 0:e.account)===null||a===void 0?void 0:a.chain)!==null&&l!==void 0?l:null,provider:(c=e==null?void 0:e.provider)!==null&&c!==void 0?c:null},uu(t))}}function iI(t){return{type:"connection-started",custom_data:uu(t)}}function oI(t){return{type:"connection-get-deeplink",deeplinkUrl:t}}function sI(t){return{type:"connection-info-before-jump",connectInfo:t}}function aI(t,e){return Object.assign({type:"connection-completed",is_success:!0},fu(t,e))}function lI(t,e,n){return{type:"connection-error",is_success:!1,error_message:e,error_code:n??null,custom_data:uu(t)}}function cI(t){return{type:"connection-restoring-started",custom_data:uu(t)}}function uI(t,e){return Object.assign({type:"connection-restoring-completed",is_success:!0},fu(t,e))}function fI(t,e){return{type:"connection-restoring-error",is_success:!1,error_message:e,custom_data:uu(t)}}function xb(t,e){var n,r,i,o;return{valid_until:(n=String(e.validUntil))!==null&&n!==void 0?n:null,from:(o=(r=e.from)!==null&&r!==void 0?r:(i=t==null?void 0:t.account)===null||i===void 0?void 0:i.address)!==null&&o!==void 0?o:null,messages:e.messages.map(s=>{var a,l;return{address:(a=s.address)!==null&&a!==void 0?a:null,amount:(l=s.amount)!==null&&l!==void 0?l:null}})}}function dI(t,e,n){return Object.assign(Object.assign({type:"transaction-sent-for-signature"},fu(t,e)),xb(e,n))}function hI(t,e,n,r){return Object.assign(Object.assign({type:"transaction-signed",is_success:!0,signed_transaction:r.boc},fu(t,e)),xb(e,n))}function pI(t,e,n,r,i){return Object.assign(Object.assign({type:"transaction-signing-failed",is_success:!1,error_message:r,error_code:i??null},fu(t,e)),xb(e,n))}function gI(t,e,n){return Object.assign({type:"disconnection",scope:n},fu(t,e))}var Af={},i4=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(Af,"__esModule",{value:!0});Af.BrowserEventDispatcher=void 0;class vI{constructor(){this.window=window}dispatchEvent(e,n){return i4(this,void 0,void 0,function*(){var r;const i=new CustomEvent(e,{detail:n});(r=this.window)===null||r===void 0||r.dispatchEvent(i)})}addEventListener(e,n,r){return i4(this,void 0,void 0,function*(){var i;return(i=this.window)===null||i===void 0||i.addEventListener(e,n,r),()=>{var o;return(o=this.window)===null||o===void 0?void 0:o.removeEventListener(e,n)}})}}Af.BrowserEventDispatcher=vI;var Fu=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(Cf,"__esModule",{value:!0});Cf.TonConnectTracker=void 0;const zr=xr,mI=Af;class yI{get version(){return(0,zr.createVersionInfo)({okx_ton_connect_sdk_lib:this.OKXtonConnectSdkVersion,okx_connect_ui_lib:this.OKXConnectUiVersion})}constructor(e){this.eventPrefix="okx-ton-connect-",this.OKXConnectUiVersion=null,this.eventDispatcher=new mI.BrowserEventDispatcher,this.OKXtonConnectSdkVersion=e.OKXtonConnectSdkVersion,this.init().catch()}init(){return Fu(this,void 0,void 0,function*(){try{yield this.setRequestVersionHandler(),this.OKXConnectUiVersion=yield this.requestTonConnectUiVersion()}catch{}})}setRequestVersionHandler(){return Fu(this,void 0,void 0,function*(){yield this.eventDispatcher.addEventListener("okx-ton-connect-request-version",()=>Fu(this,void 0,void 0,function*(){yield this.eventDispatcher.dispatchEvent("okx-ton-connect-response-version",(0,zr.createResponseVersionEvent)(this.OKXtonConnectSdkVersion))}))})}requestTonConnectUiVersion(){return Fu(this,void 0,void 0,function*(){return new Promise((e,n)=>Fu(this,void 0,void 0,function*(){try{yield this.eventDispatcher.addEventListener("okx-connect-ui-response-version",r=>{e(r.detail.version)},{once:!0}),yield this.eventDispatcher.dispatchEvent("okx-connect-ui-request-version",(0,zr.createRequestVersionEvent)())}catch(r){n(r)}}))})}dispatchUserActionEvent(e){try{this.eventDispatcher.dispatchEvent(`${this.eventPrefix}${e.type}`,e).catch()}catch{}}trackConnectionStarted(...e){try{const n=(0,zr.createConnectionStartedEvent)(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionDeepLink(...e){try{const n=(0,zr.createConnectionDeepLinkEvent)(...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionCompleted(...e){try{const n=(0,zr.createConnectionCompletedEvent)(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionInfoBeforeJump(e){try{const n=(0,zr.createConnectionInfoBeforeJumpEvent)(e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionError(...e){try{const n=(0,zr.createConnectionErrorEvent)(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionRestoringStarted(...e){try{const n=(0,zr.createConnectionRestoringStartedEvent)(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionRestoringCompleted(...e){try{const n=(0,zr.createConnectionRestoringCompletedEvent)(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackConnectionRestoringError(...e){try{const n=(0,zr.createConnectionRestoringErrorEvent)(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackDisconnection(...e){try{const n=(0,zr.createDisconnectionEvent)(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackTransactionSentForSignature(...e){try{const n=(0,zr.createTransactionSentForSignatureEvent)(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackTransactionSigned(...e){try{const n=(0,zr.createTransactionSignedEvent)(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}trackTransactionSigningFailed(...e){try{const n=(0,zr.createTransactionSigningFailedEvent)(this.version,...e);this.dispatchUserActionEvent(n)}catch{}}}Cf.TonConnectTracker=yI;var Zo=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(t1,"__esModule",{value:!0});t1.BridgeProvider=void 0;const o4=bb,Mt=fe,s4=Ef,bI=al,xI=Cf;class wb{constructor(e,n=void 0){this.storage=e,this.type="http",this.listeners=[],this.walletConnectionSource={universalLink:Mt.standardUniversalLink},this.openUniversalLink=!1,this.connectManager=new Mt.ConnectionManager(n),this.engine=new Mt.Engine(this.connectManager),this.connectionStorage=new s4.BridgeConnectionStorage(e),this.tracker=new xI.TonConnectTracker({OKXtonConnectSdkVersion:bI.OKXtonConnectSdkVersion}),(0,Mt.getDefaultReporter)().configVersionAndSide("tonsdk-1.5.2","dapp",n)}static fromStorage(e){return Zo(this,arguments,void 0,function*(n,r=void 0){(0,Mt.logDebug)("bridge-provider ==>> fromStorage ==>>storage:",n),(0,Mt.reportLog)("bridge-provider ==>> fromStorage");const o=yield new s4.BridgeConnectionStorage(n).getHttpConnection();if((0,o4.isPendingConnectionHttp)(o))return null;const s=new wb(n,r);return s.openUniversalLink=o.openUniversalLink,s})}connect(e,n,r,i){return Zo(this,void 0,void 0,function*(){return(0,Mt.logDebug)("bridge-provider ==>> connect_1 ==>>message:",e),(0,Mt.logDebug)("bridge-provider ==>> connect_1 ==>>redirect:",n),(0,Mt.logDebug)("bridge-provider ==>> connect_1 ==>>openUniversalLink:",r),(0,Mt.logDebug)("bridge-provider ==>> connect_1 ==>>tmaReturnUrl:",i),(0,Mt.reportLog)("bridge-provider ==>> connect"),new Promise((o,s)=>{try{this.openUniversalLink=r,this.openUniversalLink===void 0&&(this.openUniversalLink=(0,Mt.isMobileUserAgent)());let l={name:"requestAccounts",requiredNamespaces:[{namespace:"ton",chains:["ton:-239"],params:e.params}]},c=[];e.params.ton_addr&&c.push(e.params.ton_addr),e.params.ton_proof&&c.push(e.params.ton_proof),c.push(l);let u={dappInfo:e.dappInfo,openUniversalUrl:this.openUniversalLink,redirect:n,tmaReturnUrl:i};this.engine.universalConnect(c,u,f=>{(0,Mt.logDebug)(`bridge-provider: connect: info>>>> ${JSON.stringify(f)}`);try{const d=(0,Mt.encodeConnectParams)(f.connectRequest),p=(0,Mt.getAppWalletDeepLink)(d),h=(0,Mt.getUniversalLink)(p);this.tracker.trackConnectionInfoBeforeJump(f),o(h)}catch(d){s(d)}}).then(f=>{(0,Mt.logDebug)(`bridge-provider: connect: success>>>> ${JSON.stringify(f)}`),this.connectSuccessHandle(f)}).catch(f=>{(0,Mt.logDebug)(`bridge-provider: connect: catch>>>> ${JSON.stringify(f)}`);const d={event:"connect_error",requestId:Number(Date.now()),payload:{code:f.code,message:f.message}};(0,Mt.logDebug)("bridge-provider ==>> connectListener_4 ==>>connect_error:",d),this.listeners.forEach(p=>p(d)),s(f)})}catch(a){console.error("bridge-provider connect try catch error:>>>",JSON.stringify(a)),s(a)}})})}listen(e){return this.listeners.push(e),()=>this.listeners=this.listeners.filter(n=>n!==e)}disconnectListener(){return Zo(this,void 0,void 0,function*(){(0,Mt.logDebug)("bridge-provider ==>> disconnectListener"),(0,Mt.reportLog)("bridge-provider ==>> disconnectListener");const e={event:"disconnect",requestId:1,payload:{}};this.listeners.forEach(n=>n(e)),yield this.closeConnection()})}connectSuccessHandle(e){return Zo(this,void 0,void 0,function*(){var n,r;try{const i=(n=e.namespaces)===null||n===void 0?void 0:n.ton,o=i.payload,s=e.wallet;if(!i||!o||!s||!o.ton_addr)throw new Mt.OKXConnectError(Mt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);const a=o.ton_addr,l=e.sessionConfig;let c=[];o.ton_addr&&c.push(o.ton_addr),o.ton_proof&&c.push(o.ton_proof);const u={platform:s.platform,appName:s.appName,appVersion:s.appVersion,maxProtocolVersion:s.maxProtocolVersion,features:["ton_sendTransaction"]},f={type:"http",lastWalletEventId:Number(Date.now()),connectEvent:{event:"connect",payload:{items:c,device:u}},connectionSource:this.walletConnectionSource,channelId:e.topic,openUniversalLink:l==null?void 0:l.openUniversalUrl};(0,Mt.logDebug)("bridge-provider ==>> connectSuccessHandle_2 ==>>storeConnection:",f),yield this.connectionStorage.storeConnection(f),(r=this.engine)===null||r===void 0||r.addDisconnectListener(this.disconnectListener.bind(this));const d={event:"connect",requestId:f.lastWalletEventId,payload:f.connectEvent.payload};(0,Mt.logDebug)("bridge-provider ==>> connectSuccessHandle_3 ==>>listeners.forEach:",d),this.listeners.forEach(p=>p(d))}catch(i){(0,Mt.logDebug)("bridge-provider ==>> connectSuccessHandle_4 ==>>error:",i);const o={event:"connect_error",requestId:Number(Date.now()),payload:{code:Mt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,message:"Connect success  connectSuccessHandle response error"}};(0,Mt.logDebug)("bridge-provider ==>> connectSuccessHandle_4 ==>>connect_error:",o),this.listeners.forEach(s=>s(o))}})}closeConnection(){return Zo(this,arguments,void 0,function*(e=!1,n=!1){var r,i;(0,Mt.logDebug)("bridge-provider ==>> closeConnection ==>>fromRestore:",e," needOpenUrl:",n),(0,Mt.reportLog)("bridge-provider ==>> closeConnection"),this.listeners=[],n||(yield(r=this.connectManager)===null||r===void 0?void 0:r.disconnect(e)),e||((i=this.engine)===null||i===void 0||i.disconnect(),yield this.connectionStorage.removeConnection())})}restoreConnection(){return Zo(this,void 0,void 0,function*(){var e;(0,Mt.logDebug)("bridge-provider ==>> restoreConnection_1"),(0,Mt.reportLog)("bridge-provider ==>> restoreConnection");const n=yield this.connectionStorage.getHttpConnection();if(n&&!(0,o4.isPendingConnectionHttp)(n))if((0,Mt.logDebug)("bridge-provider ==>> restoreConnection_2 ==>>storedConnection.channelId:",n.channelId),n.channelId)try{const r={event:"connect",requestId:0,payload:n.connectEvent.payload};this.listeners.forEach(o=>o(r));const i=n.channelId;(0,Mt.logDebug)("bridge-provider ==>> restoreConnection_3 ==>>this.connectManager.restoreConnect:",i),(e=this.engine)===null||e===void 0||e.addDisconnectListener(this.disconnectListener.bind(this)),yield this.connectManager.restoreConnect(i)}catch{(0,Mt.logDebug)("bridge-provider ==>> restoreConnection_4 ==>>closeConnection_1"),yield this.closeConnection()}else(0,Mt.logDebug)("bridge-provider ==>> restoreConnection_4 ==>>closeConnection_2"),yield this.closeConnection()})}openOKXWallet(){(0,Mt.logDebug)("bridge-provider ==>> openOKXWallet",this.openUniversalLink),(0,Mt.reportLog)("bridge-provider ==>> openOKXWallet"),this.openUniversalLink&&(0,Mt.openOKXDeeplink)(Mt.standardDeeplink)}disconnect(){return Zo(this,void 0,void 0,function*(){return(0,Mt.logDebug)("bridge-provider ==>> disconnect_1"),(0,Mt.reportLog)("bridge-provider ==>> disconnect"),new Promise(e=>Zo(this,void 0,void 0,function*(){let n=!1;const r=()=>{n||(n=!0,this.closeConnection().then(e))};try{yield this.sendRequest({method:"disconnect"},{onRequestSent:r,attempts:1})}catch{n||this.closeConnection().then(e)}finally{r()}}))})}sendRequest(e,n,r){return(0,Mt.logDebug)("bridge-provider ==>> sendRequest"),(0,Mt.reportLog)("bridge-provider ==>> sendRequest"),new Promise((i,o)=>Zo(this,void 0,void 0,function*(){var s;try{yield(s=this.engine)===null||s===void 0?void 0:s.send(e,{resolve:function(a){i(a)},onAck:function(){var a;(a=n==null?void 0:n.onRequestSent)===null||a===void 0||a.call(n)}},{attempts:n==null?void 0:n.attempts},r)}catch(a){o(a)}}))}}t1.BridgeProvider=wb;var _b={};Object.defineProperty(_b,"__esModule",{value:!0});_b.checkSendTransactionSupport=wI;const pd=fe;function wI(t,e){if(!t.includes("ton_sendTransaction"))throw new pd.OKXConnectError(pd.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Wallet doesn't support SendTransaction feature.");if(4<e.requiredMessagesNumber)throw new pd.OKXConnectError(pd.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`Wallet is not able to handle such SendTransaction request. Max support messages number is 4, but ${e.requiredMessagesNumber} is required.`)}var n1={},r1={};Object.defineProperty(r1,"__esModule",{value:!0});r1.RpcParser=void 0;class _I{isError(e){return"error"in e}}r1.RpcParser=_I;var EI=ne&&ne.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(n1,"__esModule",{value:!0});n1.sendTransactionParser=void 0;const CI=r1;class AI extends CI.RpcParser{convertToRpcRequest(e){const{redirect:n}=e,r=EI(e,["redirect"]);return{method:"ton_sendTransaction",redirect:n,params:r}}convertFromRpcResponse(e){return{boc:e.result.toString()}}}n1.sendTransactionParser=new AI;var gd=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},SI=ne&&ne.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(e1,"__esModule",{value:!0});e1.OKXTonConnectInner=void 0;const a4=t1,en=fe,OI=_b,DI=Cf,uv=n1,RI=Ef,fv=al;class V8{constructor(e){if(this._wallet=null,this.provider=null,this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.openUniversalLink=this.provider?this.provider.openUniversalLink:!1,(0,en.checkMetaData)(e.metaData),!e.metaData)throw(0,en.logDebug)("OKXTonConnect constructor error: options.metaData is nil"),new en.OKXConnectError(en.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"dapp metaData can not be null");(0,en.logDebug)("OKXTonConnect constructor options:",JSON.stringify(e)),this.dappSettings={metaData:Object.assign(Object.assign({},e.metaData),{url:window.location.hostname,origin:window.location.origin})},this.tracker=new DI.TonConnectTracker({OKXtonConnectSdkVersion:fv.OKXtonConnectSdkVersion}),this.storage=new en.Storage(fv.OKXCONNECTOR_TON_KEY+this.dappSettings.metaData.name,fv.OKXCONNECTOR_TON_KEY),this.bridgeConnectionStorage=new RI.BridgeConnectionStorage(this.storage)}get connected(){return this._wallet!==null}get account(){var e;return((e=this._wallet)===null||e===void 0?void 0:e.account)||null}get wallet(){return this._wallet}set wallet(e){this._wallet=e,this.statusChangeSubscriptions.forEach(n=>n(this._wallet))}connect(e){return gd(this,void 0,void 0,function*(){var n;return(0,en.logDebug)("ton-Connect ==>> connect_1 >> request:",e),this.connected&&(0,en.logError)("It's already connected to OKX Wallet, please call disconnect() first"),yield(n=this.provider)===null||n===void 0?void 0:n.closeConnection(!1,!0),this.provider||(this.provider=new a4.BridgeProvider(this.storage,this.dappSettings.metaData.name)),this.provider.listen(this.walletEventsListener.bind(this)),this.tracker.trackConnectionStarted(),yield this.provider.connect(this.createConnectRequest(e),e==null?void 0:e.redirect,e==null?void 0:e.openUniversalLink,e==null?void 0:e.tmaReturnUrl)})}walletEventsListener(e){switch((0,en.logDebug)("ton-Connect ==>> walletEventsListener_1 >> e:",e),e.event){case"connect":this.onWalletConnected(e.payload);break;case"connect_error":this.onWalletConnectError(e.payload);break;case"disconnect":this.onWalletDisconnected("wallet")}}onWalletConnected(e){(0,en.logDebug)("ton-Connect ==>> onWalletConnected_1 >> connectEvent:",e);const n=e.items.find(o=>o.name==="ton_addr"),r=e.items.find(o=>o.name==="ton_proof");if(!n)throw new en.OKXConnectError(en.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_addr connection item was not found");const i={device:e.device,provider:this.provider.type,account:{address:n.address,chain:n.network,walletStateInit:n.walletStateInit,publicKey:n.publicKey}};r&&(i.connectItems={tonProof:r}),this.wallet=i,(0,en.logDebug)("ton-Connect ==>> onWalletConnected_2 >> wallet:",i),this.tracker.trackConnectionCompleted(i)}onWalletConnectError(e){var n;(0,en.logDebug)("ton-Connect ==>> onWalletConnectError_1 >> connectEventError:",e);const r=new en.OKXConnectError(e.code,e.message);(0,en.logDebug)("ton-Connect ==>> onWalletConnectError_1 >> error:",r),this.statusChangeErrorSubscriptions.forEach(i=>i(r)),this.tracker.trackConnectionError((n=e.message)!==null&&n!==void 0?n:"",e.code)}onWalletDisconnected(e){this.tracker.trackDisconnection(this.wallet,e),this.wallet=null}disconnect(){return gd(this,void 0,void 0,function*(){var e;if((0,en.logDebug)("ton-Connect ==>> disconnect_1"),!this.connected)throw new en.OKXConnectError(en.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"wallet is not connected");(0,en.logDebug)("ton-Connect ==>> disconnect_222"),this.onWalletDisconnected("dapp"),yield(e=this.provider)===null||e===void 0?void 0:e.disconnect()})}onStatusChange(e,n){return this.statusChangeSubscriptions.push(e),n&&this.statusChangeErrorSubscriptions.push(n),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(r=>r!==e),n&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(r=>r!==n))}}restoreConnection(){return gd(this,void 0,void 0,function*(){var e;(0,en.logDebug)("ton-Connect ==>> restoreConnection_1"),this.tracker.trackConnectionRestoringStarted();let n=null;try{n=yield a4.BridgeProvider.fromStorage(this.storage,this.dappSettings.metaData.name)}catch{this.tracker.trackConnectionRestoringError("Provider is not restored"),yield this.bridgeConnectionStorage.removeConnection(),n==null||n.closeConnection(),n=null;return}if(!n){(0,en.logError)("Provider is not restored"),this.tracker.trackConnectionRestoringError("Provider is not restored");return}(0,en.logDebug)("ton-Connect ==>> restoreConnection_2 ==>> Provider is restored "),(e=this.provider)===null||e===void 0||e.closeConnection(!0,!1),this.provider=n,n.listen(this.walletEventsListener.bind(this)),yield this.provider.restoreConnection(),this.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):this.tracker.trackConnectionRestoringError("Connection restoring failed")})}sendTransaction(e,n){return gd(this,void 0,void 0,function*(){var r;(0,en.logDebug)("ton-Connect ==>> sendTransaction_1",e),this.checkConnection(),(0,OI.checkSendTransactionSupport)(this.wallet.device.features,{requiredMessagesNumber:e.messages.length}),this.tracker.trackTransactionSentForSignature(this.wallet,e),(0,en.logDebug)("ton-Connect ==>> sendTransaction_2 ==>> check params");const{validUntil:i}=e,o=SI(e,["validUntil"]),s=e.from||this.account.address;let a=this.account.chain;(0,en.logDebug)("ton-Connect ==>> sendTransaction_2 ==>> await sendRequest",a),(0,en.isIos)()&&!(n!=null&&n.doNotOpenWallet)&&((r=this.provider)===null||r===void 0||r.openOKXWallet());const l=yield this.provider.sendRequest(uv.sendTransactionParser.convertToRpcRequest(Object.assign(Object.assign({},o),{valid_until:i,from:s,network:a})),{onRequestSent:()=>{var u,f;!(0,en.isIos)()&&!(n!=null&&n.doNotOpenWallet)&&((u=this.provider)===null||u===void 0||u.openOKXWallet()),(f=n==null?void 0:n.onRequestSent)===null||f===void 0||f.call(n)}});if((0,en.logDebug)("ton-Connect ==>> sendTransaction_3 ==>>sendRequest response:",l),uv.sendTransactionParser.isError(l))throw this.tracker.trackTransactionSigningFailed(this.wallet,e,l.error.message,l.error.code),new en.OKXConnectError(l.error.code,l.error.message);const c=uv.sendTransactionParser.convertFromRpcResponse(l);return this.tracker.trackTransactionSigned(this.wallet,e,c),c})}checkConnection(){if((0,en.logDebug)("ton-Connect ==>> checkConnection"),!this.connected)throw new en.OKXConnectError(en.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Wallet not connected")}createConnectRequest(e){(0,en.logDebug)("ton-Connect ==>> createConnectRequest");const n={ton_addr:{name:"ton_addr"}};return e!=null&&e.tonProof&&(n.ton_proof={name:"ton_proof",payload:e.tonProof}),{dappInfo:this.dappSettings.metaData,params:n}}static getWallets(){return this.walletsList}}e1.OKXTonConnectInner=V8;V8.walletsList=[(0,en.creatOKXWalletInfo)()];var vd=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(Zp,"__esModule",{value:!0});Zp.OKXTonConnect=void 0;const dv=fe,hv=e1;class TI{constructor(e){try{(0,dv.logDebug)("OKXTonConnect constructor called"),window&&window.okxConnectTonsdkinwindow&&window.okxConnectTonsdkinwindow instanceof hv.OKXTonConnectInner?(this.tonInner=window.okxConnectTonsdkinwindow,(0,dv.logDebug)("OKXTonConnect constructor old called")):(this.tonInner=new hv.OKXTonConnectInner(e),(0,dv.logDebug)("OKXTonConnect constructor new called"),window&&(window.okxConnectTonsdkinwindow=this.tonInner))}catch(n){throw n}}get connected(){return this.tonInner.connected}get openUniversalLink(){return this.tonInner.openUniversalLink}get provider(){return this.tonInner.provider}get account(){return this.tonInner.account}get wallet(){return this.tonInner.wallet}set wallet(e){this.tonInner.wallet=e}connect(e){return vd(this,void 0,void 0,function*(){return this.tonInner.connect(e)})}disconnect(){return vd(this,void 0,void 0,function*(){return this.tonInner.disconnect()})}onStatusChange(e,n){return this.tonInner.onStatusChange(e,n)}restoreConnection(){return vd(this,void 0,void 0,function*(){return this.tonInner.restoreConnection()})}sendTransaction(e,n){return vd(this,void 0,void 0,function*(){return this.tonInner.sendTransaction(e,n)})}static getWallets(){return hv.OKXTonConnectInner.getWallets()}}Zp.OKXTonConnect=TI;var J8={},i1={};Object.defineProperty(i1,"__esModule",{value:!0});i1.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=void 0;var l4;(function(t){t.OKX_TON_CONNECTION_STARTED="okx-ton-connect-connection-started",t.OKX_TON_CONNECTION_COMPLETED="okx-ton-connect-connection-completed",t.OKX_TON_CONNECTION_ERROR="okx-ton-connect-connection-error",t.OKX_TON_CONNECTION_RESTORING_STARTED="okx-ton-connect-connection-restoring-started",t.OKX_TON_CONNECTION_RESTORING_COMPLETED="okx-ton-connect-connection-restoring-completed",t.OKX_TON_CONNECTION_RESTORING_ERROR="okx-ton-connect-connection-restoring-error",t.OKX_TON_DISCONNECTION="okx-ton-connect-disconnection",t.OKX_TON_TRANSACTION_SENT_FOR_SIGNATURE="okx-ton-connect-transaction-sent-for-signature",t.OKX_TON_TRANSACTION_SIGNED="okx-ton-connect-transaction-signed",t.OKX_TON_TRANSACTION_SIGNING_FAILED="okx-ton-connect-transaction-signing-failed"})(l4||(i1.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=l4={}));(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserEventDispatcher=t.createVersionInfo=t.createTransactionSigningFailedEvent=t.createTransactionSignedEvent=t.createTransactionSentForSignatureEvent=t.createDisconnectionEvent=t.createConnectionStartedEvent=t.createConnectionRestoringStartedEvent=t.createConnectionRestoringErrorEvent=t.createConnectionRestoringCompletedEvent=t.createConnectionErrorEvent=t.createConnectionCompletedEvent=t.createResponseVersionEvent=t.createRequestVersionEvent=t.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=void 0;var e=i1;Object.defineProperty(t,"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT",{enumerable:!0,get:function(){return e.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT}});var n=xr;Object.defineProperty(t,"createRequestVersionEvent",{enumerable:!0,get:function(){return n.createRequestVersionEvent}}),Object.defineProperty(t,"createResponseVersionEvent",{enumerable:!0,get:function(){return n.createResponseVersionEvent}}),Object.defineProperty(t,"createConnectionCompletedEvent",{enumerable:!0,get:function(){return n.createConnectionCompletedEvent}}),Object.defineProperty(t,"createConnectionErrorEvent",{enumerable:!0,get:function(){return n.createConnectionErrorEvent}}),Object.defineProperty(t,"createConnectionRestoringCompletedEvent",{enumerable:!0,get:function(){return n.createConnectionRestoringCompletedEvent}}),Object.defineProperty(t,"createConnectionRestoringErrorEvent",{enumerable:!0,get:function(){return n.createConnectionRestoringErrorEvent}}),Object.defineProperty(t,"createConnectionRestoringStartedEvent",{enumerable:!0,get:function(){return n.createConnectionRestoringStartedEvent}}),Object.defineProperty(t,"createConnectionStartedEvent",{enumerable:!0,get:function(){return n.createConnectionStartedEvent}}),Object.defineProperty(t,"createDisconnectionEvent",{enumerable:!0,get:function(){return n.createDisconnectionEvent}}),Object.defineProperty(t,"createTransactionSentForSignatureEvent",{enumerable:!0,get:function(){return n.createTransactionSentForSignatureEvent}}),Object.defineProperty(t,"createTransactionSignedEvent",{enumerable:!0,get:function(){return n.createTransactionSignedEvent}}),Object.defineProperty(t,"createTransactionSigningFailedEvent",{enumerable:!0,get:function(){return n.createTransactionSigningFailedEvent}}),Object.defineProperty(t,"createVersionInfo",{enumerable:!0,get:function(){return n.createVersionInfo}});var r=Af;Object.defineProperty(t,"BrowserEventDispatcher",{enumerable:!0,get:function(){return r.BrowserEventDispatcher}})})(J8);var G8={},o1={};Object.defineProperty(o1,"__esModule",{value:!0});o1.removeUrlLastSlash=Q8;o1.addPathToUrl=NI;function Q8(t){return t.slice(-1)==="/"?t.slice(0,-1):t}function NI(t,e){return Q8(t)+"/"+e}var Eb={};Object.defineProperty(Eb,"__esModule",{value:!0});Eb.toUserFriendlyAddress=MI;const PI=fe,kI=81,II=128;function MI(t,e=!1){const{wc:n,hex:r}=BI(t);let i=kI;e&&(i|=II);const o=new Int8Array(34);o[0]=i,o[1]=n,o.set(r,2);const s=new Uint8Array(36);return s.set(o),s.set(FI(o),34),(0,PI.base64encode)(s,!1).replace(/\+/g,"-").replace(/\//g,"_")}function BI(t){if(!t.includes(":"))throw new Error(`Wrong address ${t}. Address must include ":".`);const e=t.split(":");if(e.length!==2)throw new Error(`Wrong address ${t}. Address must include ":" only once.`);const n=parseInt(e[0]);if(n!==0&&n!==-1)throw new Error(`Wrong address ${t}. WC must be eq 0 or -1, but ${n} received.`);const r=e[1];if((r==null?void 0:r.length)!==64)throw new Error(`Wrong address ${t}. Hex part must be 64bytes length, but ${r==null?void 0:r.length} received.`);return{wc:n,hex:LI(r)}}function FI(t){let n=0;const r=new Uint8Array(t.length+2);r.set(t);for(let i of r){let o=128;for(;o>0;)n<<=1,i&o&&(n+=1),o>>=1,n>65535&&(n&=65535,n^=4129)}return new Uint8Array([Math.floor(n/256),n%256])}const my={};for(let t=0;t<=255;t++){let e=t.toString(16);e.length<2&&(e="0"+e),my[e]=t}function LI(t){t=t.toLowerCase();const e=t.length;if(e%2!==0)throw new Error("Hex string must have length a multiple of 2: "+t);const n=e/2,r=new Uint8Array(n);for(let i=0;i<n;i++){const o=i*2,s=t.substring(o,o+2);if(!my.hasOwnProperty(s))throw new Error("Invalid hex character: "+s);r[i]=my[s]}return r}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toUserFriendlyAddress=t.removeUrlLastSlash=t.addPathToUrl=void 0;var e=o1;Object.defineProperty(t,"addPathToUrl",{enumerable:!0,get:function(){return e.addPathToUrl}}),Object.defineProperty(t,"removeUrlLastSlash",{enumerable:!0,get:function(){return e.removeUrlLastSlash}});var n=Eb;Object.defineProperty(t,"toUserFriendlyAddress",{enumerable:!0,get:function(){return n.toUserFriendlyAddress}})})(G8);(function(t){var e=ne&&ne.__createBinding||(Object.create?function(s,a,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(s,c,u)}:function(s,a,l,c){c===void 0&&(c=l),s[c]=a[l]}),n=ne&&ne.__exportStar||function(s,a){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&e(a,s,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.toUserFriendlyAddress=t.removeUrlLastSlash=t.addPathToUrl=t.createVersionInfo=t.BrowserEventDispatcher=t.createTransactionSigningFailedEvent=t.createTransactionSignedEvent=t.createTransactionSentForSignatureEvent=t.createDisconnectionEvent=t.createConnectionStartedEvent=t.createConnectionRestoringStartedEvent=t.createConnectionRestoringErrorEvent=t.createConnectionRestoringCompletedEvent=t.createConnectionErrorEvent=t.createConnectionCompletedEvent=t.createResponseVersionEvent=t.createRequestVersionEvent=t.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=t.OKXTonConnect=void 0;var r=Zp;Object.defineProperty(t,"OKXTonConnect",{enumerable:!0,get:function(){return r.OKXTonConnect}}),n(fe,t);var i=J8;Object.defineProperty(t,"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT",{enumerable:!0,get:function(){return i.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT}}),Object.defineProperty(t,"createRequestVersionEvent",{enumerable:!0,get:function(){return i.createRequestVersionEvent}}),Object.defineProperty(t,"createResponseVersionEvent",{enumerable:!0,get:function(){return i.createResponseVersionEvent}}),Object.defineProperty(t,"createConnectionCompletedEvent",{enumerable:!0,get:function(){return i.createConnectionCompletedEvent}}),Object.defineProperty(t,"createConnectionErrorEvent",{enumerable:!0,get:function(){return i.createConnectionErrorEvent}}),Object.defineProperty(t,"createConnectionRestoringCompletedEvent",{enumerable:!0,get:function(){return i.createConnectionRestoringCompletedEvent}}),Object.defineProperty(t,"createConnectionRestoringErrorEvent",{enumerable:!0,get:function(){return i.createConnectionRestoringErrorEvent}}),Object.defineProperty(t,"createConnectionRestoringStartedEvent",{enumerable:!0,get:function(){return i.createConnectionRestoringStartedEvent}}),Object.defineProperty(t,"createConnectionStartedEvent",{enumerable:!0,get:function(){return i.createConnectionStartedEvent}}),Object.defineProperty(t,"createDisconnectionEvent",{enumerable:!0,get:function(){return i.createDisconnectionEvent}}),Object.defineProperty(t,"createTransactionSentForSignatureEvent",{enumerable:!0,get:function(){return i.createTransactionSentForSignatureEvent}}),Object.defineProperty(t,"createTransactionSignedEvent",{enumerable:!0,get:function(){return i.createTransactionSignedEvent}}),Object.defineProperty(t,"createTransactionSigningFailedEvent",{enumerable:!0,get:function(){return i.createTransactionSigningFailedEvent}}),Object.defineProperty(t,"BrowserEventDispatcher",{enumerable:!0,get:function(){return i.BrowserEventDispatcher}}),Object.defineProperty(t,"createVersionInfo",{enumerable:!0,get:function(){return i.createVersionInfo}});var o=G8;Object.defineProperty(t,"addPathToUrl",{enumerable:!0,get:function(){return o.addPathToUrl}}),Object.defineProperty(t,"removeUrlLastSlash",{enumerable:!0,get:function(){return o.removeUrlLastSlash}}),Object.defineProperty(t,"toUserFriendlyAddress",{enumerable:!0,get:function(){return o.toUserFriendlyAddress}})})(q8);var Y8={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Y8);var UI=Y8.exports;const nh=xa(UI);var $I=function(e){return jI(e)&&!KI(e)};function jI(t){return!!t&&typeof t=="object"}function KI(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||XI(t)}var WI=typeof Symbol=="function"&&Symbol.for,HI=WI?Symbol.for("react.element"):60103;function XI(t){return t.$$typeof===HI}function zI(t){return Array.isArray(t)?[]:{}}function V0(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Hc(zI(t),t,e):t}function qI(t,e,n){return t.concat(e).map(function(r){return V0(r,n)})}function VI(t,e){if(!e.customMerge)return Hc;var n=e.customMerge(t);return typeof n=="function"?n:Hc}function JI(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function c4(t){return Object.keys(t).concat(JI(t))}function Z8(t,e){try{return e in t}catch{return!1}}function GI(t,e){return Z8(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function QI(t,e,n){var r={};return n.isMergeableObject(t)&&c4(t).forEach(function(i){r[i]=V0(t[i],n)}),c4(e).forEach(function(i){GI(t,i)||(Z8(t,i)&&n.isMergeableObject(e[i])?r[i]=VI(i,n)(t[i],e[i],n):r[i]=V0(e[i],n))}),r}function Hc(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||qI,n.isMergeableObject=n.isMergeableObject||$I,n.cloneUnlessOtherwiseSpecified=V0;var r=Array.isArray(e),i=Array.isArray(t),o=r===i;return o?r?n.arrayMerge(t,e,n):QI(t,e,n):V0(e,n)}Hc.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Hc(r,i,n)},{})};var YI=Hc,ZI=YI;const eM=xa(ZI);var pv={},s1={},Xc={};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.IJSONRpcProvider=Xc.IJSONRpcConnection=void 0;class tM{}Xc.IJSONRpcConnection=tM;class nM{constructor(e){}}Xc.IJSONRpcProvider=nM;var eC={};Object.defineProperty(eC,"__esModule",{value:!0});(function(t){var e=ne&&ne.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=ne&&ne.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(Xc,t),n(eC,t)})(s1);var Cb={},tC={},Ab={};function rM(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function u(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var h=0,m=0,w=0,x=p.length;w!==x&&p[w]===0;)w++,h++;for(var y=(x-w)*c+1>>>0,b=new Uint8Array(y);w!==x;){for(var E=p[w],O=0,N=y-1;(E!==0||O<m)&&N!==-1;N--,O++)E+=256*b[N]>>>0,b[N]=E%s>>>0,E=E/s>>>0;if(E!==0)throw new Error("Non-zero carry");m=O,w++}for(var R=y-m;R!==y&&b[R]===0;)R++;for(var L=a.repeat(h);R<y;++R)L+=t.charAt(b[R]);return L}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;for(var h=0,m=0,w=0;p[h]===a;)m++,h++;for(var x=(p.length-h)*l+1>>>0,y=new Uint8Array(x);p[h];){var b=e[p.charCodeAt(h)];if(b===255)return;for(var E=0,O=x-1;(b!==0||E<w)&&O!==-1;O--,E++)b+=s*y[O]>>>0,y[O]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");w=E,h++}for(var N=x-w;N!==x&&y[N]===0;)N++;for(var R=new Uint8Array(m+(x-N)),L=m;N!==x;)R[L++]=y[N++];return R}function d(p){var h=f(p);if(h)return h;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:f,decode:d}}var iM=rM;const oM=iM,sM="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var aM=oM(sM),Sb={},Ki={},zo={};Object.defineProperty(zo,"__esModule",{value:!0});zo.getRpcUrl=lM;zo.getChainId=cM;zo.fromAccountToAddress=uM;zo.convertChainIdToNumber=fM;zo.parseChainId=nC;zo.mergeArrays=hM;zo.syncAddressAvailable=pM;zo.syncAddressHostAvailable=rC;const yy=fe;function lM(t,e,n){var r;const i=nC(t);return((r=e.rpcMap)===null||r===void 0?void 0:r[i.reference])||""}function cM(t){return t.includes(":")?t.split(":")[1]:t}function uM(t){if(!t)return"";try{let e=t.split(":").slice(2),n=e.length>0?e.join(":"):"";return(0,yy.logDebug)("fromAccountToAddress address and account:",n,t),n}catch{return(0,yy.logError)("fromAccountToAddress error:",t),""}}function fM(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const dM=":";function nC(t){const[e,n]=t.split(dM);return{namespace:e,reference:n}}function hM(t=[],e=[]){return[...new Set([...t,...e])]}function pM(t){return!t||t.appName!=="OKX Wallet"||(0,yy.versionCompare)("6.97.0",t.appVersion)>0?!1:rC()}function rC(){try{return!!window.okxGlobal}catch{return!1}}var zc={};Object.defineProperty(zc,"__esModule",{value:!0});zc.setGlobal=zc.getGlobal=void 0;const iC={},gM=t=>iC[t];zc.getGlobal=gM;const vM=(t,e)=>{iC[t]=e};zc.setGlobal=vM;(function(t){var e=ne&&ne.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=ne&&ne.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(zo,t),n(zc,t)})(Ki);(function(t){var e=ne&&ne.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=ne&&ne.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(s1,t),n(Ki,t)})(Sb);(function(t){var e=ne&&ne.__awaiter||function(h,m,w,x){function y(b){return b instanceof w?b:new w(function(E){E(b)})}return new(w||(w=Promise))(function(b,E){function O(L){try{R(x.next(L))}catch(W){E(W)}}function N(L){try{R(x.throw(L))}catch(W){E(W)}}function R(L){L.done?b(L.value):y(L.value).then(O,N)}R((x=x.apply(h,m||[])).next())})},n=ne&&ne.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0}),t.connectSupportMethods=void 0,t.creatNotSupportMethodItemReplay=l,t.connectMethodsAdaptOldVersion=c,t.connectMethodsResponseUpdate=u,t.connectMethodsToConnectWalletMethods=f,t.syncResoonseToRequire=p;const r=fe,i=n(aM),o=Sb;function s(h){return typeof h=="object"&&h!==null&&Array.isArray(h)}function a(h){return typeof h=="object"&&h!==null&&!Array.isArray(h)}t.connectSupportMethods=Object.freeze(["personal_sign","sui_signMessage","sui_signPersonalMessage","btc_signMessage","aptos_signMessage","cosmos_signArbitrary","tron_signMessage","tron_signMessageV2","starknet_signMessage","sync_all_addresses"]);function l(h){let m=new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);var w={method:h.method,chainId:h.chainId,error:{code:m.code,message:m.message}};return w}function c(h,m){return e(this,void 0,void 0,function*(){var w,x,y,b,E;try{(0,r.logDebug)("connectMethodsAdaptOldVersion start params :",JSON.stringify(h));let N={};if(h.method==="solana_signMessage"){let R=(w=m.namespaces[r.NameSpaceKeySOL])===null||w===void 0?void 0:w.accounts.filter(function(W){return W.startsWith(h.chainId)})[0];const L=(0,o.fromAccountToAddress)(R);if(h.params&&L&&"message"in h.params){let W=h.params.message;if(((x=m.wallet)===null||x===void 0?void 0:x.appName)=="OKX Wallet"){let M=new TextEncoder().encode(W);W=i.default.encode(M)}return h.params={message:W,pubkey:L},N={publicKey:L},(0,r.logDebug)("solana_signMessage account and address:",JSON.stringify(R),L),(0,r.logDebug)("solana_signMessage callBackParams:",JSON.stringify(N)),N}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if(h.method==="sui_signMessage"||h.method==="sui_signPersonalMessage")if("message"in h.params&&h.params.message){let R=JSON.parse(JSON.stringify(h.params.message)),L=Object.values(R),W=new Uint8Array(L),M=new TextDecoder("utf8"),F=btoa(M.decode(W));return h.params={message:atob(F)},console.log("sui_signMessag suiMessagee suiMessageb64:>>>>",JSON.stringify(h.params),F),h.method==="sui_signMessage"?N={messageBytes:F,signature:""}:h.method==="sui_signPersonalMessage"&&(N={bytes:F,signature:""}),(0,r.logDebug)("sui_signMessage/sui_signPersonalMessage callBackParams:",JSON.stringify(N)),N}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);else if(h.method==="btc_signMessage"){let L=((y=m.namespaces[r.NameSpaceKeyBtc])===null||y===void 0?void 0:y.accounts.filter(function(M){return M.startsWith(h.chainId)}))[0];const W=(0,o.fromAccountToAddress)(L);if((0,r.logDebug)("btc_signMessage account and address:",JSON.stringify(L),W),W){if("message"in h.params&&h.params.message&&typeof h.params.message=="string")h.params={from:W,signStr:h.params.message};else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);return h.params.from=W,(0,r.logDebug)("btc_signMessage callBackParams:",JSON.stringify(N)),N}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if(h.method==="aptos_signMessage"){let R=h.params,L=(b=m.namespaces[r.NameSpaceKeyAptos])===null||b===void 0?void 0:b.accounts.filter(function(M){return M.startsWith(h.chainId)})[0],W=(0,o.fromAccountToAddress)(L);if(R&&W){let M="APTOS",F="",$="";var O=M;let P=window.location.protocol+"//"+window.location.hostname;"address"in R&&R.address&&(O+=`
address: `+W),"application"in R&&R.application&&(O+=`
application: `+P);let v=1;"chainId"in R&&R.chainId&&(R.chainId=="aptos:mainnet"?v=1:R.chainId=="movement:testnet"&&(v=2),O+=`
chainId: `+v),"message"in R&&(O+=`
message: `+R.message,F=R.message),"nonce"in R&&(O+=`
nonce: `+R.nonce,$=R.nonce);const g=new TextEncoder().encode(O),_=Array.from(g).map(T=>T.toString(16).padStart(2,"0")).join("");return h.params={message:_},(0,r.logDebug)("aptos_signMessage requestParams:",JSON.stringify(h)),N={address:W,application:P,chainId:v,fullMessage:O,message:F,nonce:$,prefix:M,signature:""},(0,r.logDebug)("aptos_signMessage callBackParams:",JSON.stringify(N)),N}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if(h.method==="cosmos_signArbitrary"){let R=(E=m==null?void 0:m.namespaces[r.NameSpaceKeyCosmos])===null||E===void 0?void 0:E.accounts.filter(function(F){return F.startsWith(h.chainId)})[0];const L=(0,o.fromAccountToAddress)(R);let W=h.params.message;const M=btoa(W);if((0,r.logDebug)("cosmos_signArbitrary account and address:",JSON.stringify(R),L),(0,r.logDebug)("cosmos_signArbitrary cosmosBase64Encoded:",M),W&&L){const F={chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:L,data:M}}],memo:""};return h.params={signer:L,chain_id:h.chainId.split(":")[1],data:F},(0,r.logDebug)("cosmos_signArbitrary callBackParams:",JSON.stringify(N)),N}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}(0,r.logDebug)("sol_handleSignatureData end params:",JSON.stringify(h))}catch(N){throw N}})}function u(h,m){return e(this,void 0,void 0,function*(){var w;try{if(h.signResponse){(0,r.logDebug)("connectMethodsResponseUpdate signResponse:",JSON.stringify(h.signResponse)),(0,r.logDebug)("connectMethodsResponseUpdate session.namespaces:",JSON.stringify(h.namespaces));for(const x of h.signResponse)if((0,r.logDebug)("connectMethodsResponseUpdate methodItem:",JSON.stringify(x)),"result"in x)if(x.method==="solana_signMessage"){let y=x.result;(0,r.logDebug)("solana_signMessage methodItem.chainId:",x.chainId);let b=(w=h.namespaces[r.NameSpaceKeySOL])===null||w===void 0?void 0:w.accounts.filter(function(E){return(0,r.logDebug)("solana_signMessage account:",E),E.startsWith(x.chainId)})[0];(0,r.logDebug)("solana_signMessage result account:",y,b),y&&b&&(x.result={signature:i.default.decode(y),publicKey:(0,o.fromAccountToAddress)(b)})}else if(x.method==="sui_signMessage"||x.method==="sui_signPersonalMessage"){let y=m.filter(function(b){return b.method===x.method})[0];if(y&&y.params&&"message"in y.params){let b=y.params.message,E=btoa(b);console.log("sui_signMessag suiMessagee suiMessageb64:>>>>",b,E),x.method==="sui_signMessage"?x.result={messageBytes:E,signature:x.result}:x.method==="sui_signPersonalMessage"&&(x.result={bytes:E,signature:x.result})}}else if(x.method==="aptos_signMessage"){if(x.chainId==="aptos:637"?x.chainId="aptos:mainnet":x.chainId==="aptos:70000060"&&(x.chainId="movement:testnet"),x.result=JSON.parse(x.result),console.log("aptos_signMessage result methodItem.result before:>>>>",JSON.stringify(x.result)),x.result&&"signature"in x.result){let y=x.result.signature;y&&y.startsWith("0x")&&(y=y.slice(2,y.length),x.result.signature=y)}console.log("aptos_signMessage result methodItem.result after:>>>>",JSON.stringify(x.result))}else if(x.method==="cosmos_signArbitrary")x.result=JSON.parse(x.result);else if(x.method=="starknet_signMessage"){let y=x.result;typeof y=="string"&&(y=JSON.parse(y)),x.result=[y.signedDataR,y.signedDataS]}else x.method=="sync_all_addresses"&&(x.result=p(x.result))}}catch(x){throw(0,r.logDebug)("connectMethodsResponseUpdate signResponse Error:",JSON.stringify(x)),x}})}function f(h,m){return e(this,void 0,void 0,function*(){try{(0,r.logDebug)("connectMethodsToConnectWalletMethods requestMethods:",JSON.stringify(h));const b=[];if(h&&h.length>1)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connectAndSign/openModalAndSign signRequest only support one data");if(!m&&h&&h.length>0)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Connect request params error , RequestMethods cannot be added when the NameSpace is empty");for(const E of h)if(E.method==="aptos_signMessage"&&(E.chainId==="aptos:mainnet"?E.chainId="aptos:637":E.chainId==="movement:testnet"&&(E.chainId="aptos:70000060")),E.method==="wallet_addEthereumChain"){var w=m==null?void 0:m.some(O=>O.namespace.includes("eip155"));if(!w)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Connect request params error, When using '${E.method}', the EVM chain needs to be included in the NameSpace`)}else if(E.method==="sync_all_addresses")if((0,o.syncAddressHostAvailable)())E.chainId="";else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);else if(!!!(m!=null&&m.some(N=>N.chains.some(R=>R.includes(`${E.chainId}`)))))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Connect request params error, When using '${E.method}', NameSpace must contain '${E.chainId}'`);for(const E of h){if(!t.connectSupportMethods.includes(E.method))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect requestMethods not support method, method: '${E.method}'`);if(E.method==="wallet_addEthereumChain"){if(Array.isArray(E.params)){const O=E.params;if(O&&O.length===1){const N=O[0];a(N)&&(E.params=N)}else throw O&&O.length>1?new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params only support one data, method: '${E.method}'`):new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is nil, method: '${E.method}'`)}}else if(E.method==="personal_sign"){if(s(E.params)){if(E.params&&E.params.length!==1)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params error,  method: '${E.method}' `);let O=E.params[0];if(O&&typeof O=="string")E.params={message:O};else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${E.method}' `)}}else if(E.method==="sui_signMessage"||E.method==="sui_signPersonalMessage")if(a(E.params)&&"message"in E.params)if(E.params.message){(0,r.logDebug)("sui_signMessage item.params.message :",E.params.message);let O=JSON.parse(JSON.stringify(E.params.message)),N=Object.values(O),R=new Uint8Array(N),L=new TextDecoder("utf8"),W=btoa(L.decode(R));E.params.message=atob(W)}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${E.method}' `);else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${E.method}' `);else if(E.method==="solana_signMessage")if(a(E.params)&&"message"in E.params)if(E.params.message&&typeof E.params.message=="string"){let O=new TextEncoder().encode(E.params.message);E.params.bs58Message=i.default.encode(O)}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${E.method}' `);else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${E.method}' `);else if(E.method==="aptos_signMessage")if(a(E.params))if(E.chainId&&(E.chainId==="aptos:637"||E.chainId==="aptos:70000060")){var x=E.params,y=window.location.protocol+"//"+window.location.hostname;let O=1;E.chainId==="aptos:637"||E.chainId==="aptos:70000060"&&(O=2),E.params={data:x,applicationUrl:y,prefix:"APTOS",aptosChainId:O}}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params chainId is error,  method: '${E.method}' `);else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${E.method}' `);else if(E.method==="cosmos_signArbitrary")if(a(E.params))if(E.params.message&&typeof E.params.message=="string"){const O=btoa(E.params.message);let N=E.chainId.split(":")[1];if(N)E.params={chain_id:N,data:{chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:"",data:O}}],memo:""}};else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params chainId is error,  method: '${E.method}' `)}else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params message is error,  method: '${E.method}' `);else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${E.method}' `);else if(E.method=="tron_signMessage")if(a(E.params))if("message"in E.params&&E.params.message&&typeof E.params.message=="string")E.params.message=d(E.params.message);else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${E.method}' `);else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${E.method}' `);else if(E.method=="btc_signMessage")if(a(E.params))if("message"in E.params&&E.params.message&&typeof E.params.message=="string")E.params={signStr:E.params.message};else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${E.method}' `);else throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${E.method}' `);(0,r.logDebug)("connectMethodsToConnectWalletMethods item:",JSON.stringify(E)),b.push(E)}return b}catch(b){throw b}})}function d(h){let m="";for(let w=0;w<h.length;w++)m+=h.charCodeAt(w).toString(16).padStart(2,"0");return m}function p(h){const m=JSON.parse(h);return{type:m.type,isEvm:m.isEvm,walletName:m.walletName,deriveName:m.deriveName,addresses:m.addresses.map(x=>({coinId:x.ci,address:x.a&&x.a!=="null"?x.a:m.evmAddress}))}}})(Ab);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.creatNotSupportMethodItemReplay=t.connectMethodsAdaptOldVersion=void 0;var e=Ab;Object.defineProperty(t,"connectMethodsAdaptOldVersion",{enumerable:!0,get:function(){return e.connectMethodsAdaptOldVersion}}),Object.defineProperty(t,"creatNotSupportMethodItemReplay",{enumerable:!0,get:function(){return e.creatNotSupportMethodItemReplay}})})(tC);(function(t){var e=ne&&ne.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=ne&&ne.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(tC,t)})(Cb);var Sf={},Of={},Wi={},oC={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.GENERIC_SUBPROVIDER_NAME=t.RPC_URL=t.STORAGE=t.CONTEXT=t.WC_VERSION=t.PROTOCOL=t.RELAY_URL=t.LOGGER=void 0,t.LOGGER="error",t.RELAY_URL="wss://relay.walletconnect.com",t.PROTOCOL="wc",t.WC_VERSION=2,t.CONTEXT="universal_provider",t.STORAGE=`${t.PROTOCOL}@${t.WC_VERSION}:${t.CONTEXT}:`,t.RPC_URL="https://rpc.walletconnect.com/v1/",t.GENERIC_SUBPROVIDER_NAME="generic"})(oC);var a1={};Object.defineProperty(a1,"__esModule",{value:!0});a1.PROVIDER_EVENTS=void 0;a1.PROVIDER_EVENTS={DEFAULT_CHAIN_CHANGED:"default_chain_changed",UPDATE_NAMESPACES:"update_name_spaces",SESSION_CONNECTING:"session_connecting"};(function(t){var e=ne&&ne.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=ne&&ne.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(oC,t),n(a1,t)})(Wi);var Hi={},Ia=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.JsonRpcProvider=void 0;const mM=_l,yM=s1,md=fe,bM=fe;let xM=class extends yM.IJSONRpcProvider{constructor(e){super(e),this.events=new mM.EventEmitter,this.connected=!1,this.connecting=!1,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}connect(){return Ia(this,arguments,void 0,function*(e=this.connection){yield this.open(e)})}disconnect(){return Ia(this,void 0,void 0,function*(){yield this.close()})}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}request(e,n){return Ia(this,void 0,void 0,function*(){return this.requestStrict((0,md.formatJsonRpcRequest)(e.method,e.params||[],(0,md.getBigIntRpcId)().toString()),n)})}requestStrict(e,n){return Ia(this,void 0,void 0,function*(){return new Promise((r,i)=>Ia(this,void 0,void 0,function*(){if(!this.connection.connected)try{yield this.open()}catch(o){i(o)}this.events.on(`${e.id}`,o=>{(0,md.isJsonRpcError)(o)?i(o.error):r(o.result)});try{(0,bM.logDebug)("[RPC] >>> send request",e,n),yield this.connection.send(e,n)}catch(o){i(o)}}))})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,md.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}open(){return Ia(this,arguments,void 0,function*(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(yield this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),yield this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))})}close(){return Ia(this,void 0,void 0,function*(){yield this.connection.close()})}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};Hi.JsonRpcProvider=xM;var Xi={},by={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ne<"u"&&ne,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a=typeof o<"u"&&o||typeof self<"u"&&self||typeof ne<"u"&&ne||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(g){return g&&DataView.prototype.isPrototypeOf(g)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(g){return g&&u.indexOf(Object.prototype.toString.call(g))>-1};function d(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(g)||g==="")throw new TypeError('Invalid character in header field name: "'+g+'"');return g.toLowerCase()}function p(g){return typeof g!="string"&&(g=String(g)),g}function h(g){var _={next:function(){var T=g.shift();return{done:T===void 0,value:T}}};return l.iterable&&(_[Symbol.iterator]=function(){return _}),_}function m(g){this.map={},g instanceof m?g.forEach(function(_,T){this.append(T,_)},this):Array.isArray(g)?g.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(_){this.append(_,g[_])},this)}m.prototype.append=function(g,_){g=d(g),_=p(_);var T=this.map[g];this.map[g]=T?T+", "+_:_},m.prototype.delete=function(g){delete this.map[d(g)]},m.prototype.get=function(g){return g=d(g),this.has(g)?this.map[g]:null},m.prototype.has=function(g){return this.map.hasOwnProperty(d(g))},m.prototype.set=function(g,_){this.map[d(g)]=p(_)},m.prototype.forEach=function(g,_){for(var T in this.map)this.map.hasOwnProperty(T)&&g.call(_,this.map[T],T,this)},m.prototype.keys=function(){var g=[];return this.forEach(function(_,T){g.push(T)}),h(g)},m.prototype.values=function(){var g=[];return this.forEach(function(_){g.push(_)}),h(g)},m.prototype.entries=function(){var g=[];return this.forEach(function(_,T){g.push([T,_])}),h(g)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function w(g){if(!g._noBody){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}}function x(g){return new Promise(function(_,T){g.onload=function(){_(g.result)},g.onerror=function(){T(g.error)}})}function y(g){var _=new FileReader,T=x(_);return _.readAsArrayBuffer(g),T}function b(g){var _=new FileReader,T=x(_),D=/charset=([A-Za-z0-9_-]+)/.exec(g.type),I=D?D[1]:"utf-8";return _.readAsText(g,I),T}function E(g){for(var _=new Uint8Array(g),T=new Array(_.length),D=0;D<_.length;D++)T[D]=String.fromCharCode(_[D]);return T.join("")}function O(g){if(g.slice)return g.slice(0);var _=new Uint8Array(g.byteLength);return _.set(new Uint8Array(g)),_.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(g){this.bodyUsed=this.bodyUsed,this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:l.blob&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:l.formData&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():l.arrayBuffer&&l.blob&&c(g)?(this._bodyArrayBuffer=O(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(g)||f(g))?this._bodyArrayBuffer=O(g):this._bodyText=g=Object.prototype.toString.call(g):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var g=w(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var g=w(this);return g||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var g=w(this);if(g)return g;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function L(g){var _=g.toUpperCase();return R.indexOf(_)>-1?_:g}function W(g,_){if(!(this instanceof W))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var T=_.body;if(g instanceof W){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,_.headers||(this.headers=new m(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,!T&&g._bodyInit!=null&&(T=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new m(_.headers)),this.method=L(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||function(){if("AbortController"in a){var j=new AbortController;return j.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&T)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(T),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var D=/([?&])_=[^&]*/;if(D.test(this.url))this.url=this.url.replace(D,"$1_="+new Date().getTime());else{var I=/\?/;this.url+=(I.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}W.prototype.clone=function(){return new W(this,{body:this._bodyInit})};function M(g){var _=new FormData;return g.trim().split("&").forEach(function(T){if(T){var D=T.split("="),I=D.shift().replace(/\+/g," "),j=D.join("=").replace(/\+/g," ");_.append(decodeURIComponent(I),decodeURIComponent(j))}}),_}function F(g){var _=new m,T=g.replace(/\r?\n[\t ]+/g," ");return T.split("\r").map(function(D){return D.indexOf(`
`)===0?D.substr(1,D.length):D}).forEach(function(D){var I=D.split(":"),j=I.shift().trim();if(j){var B=I.join(":").trim();try{_.append(j,B)}catch(C){console.warn("Response "+C.message)}}}),_}N.call(W.prototype);function $(g,_){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new m(_.headers),this.url=_.url||"",this._initBody(g)}N.call($.prototype),$.prototype.clone=function(){return new $(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},$.error=function(){var g=new $(null,{status:200,statusText:""});return g.ok=!1,g.status=0,g.type="error",g};var P=[301,302,303,307,308];$.redirect=function(g,_){if(P.indexOf(_)===-1)throw new RangeError("Invalid status code");return new $(null,{status:_,headers:{location:g}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(_,T){this.message=_,this.name=T;var D=Error(_);this.stack=D.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function v(g,_){return new Promise(function(T,D){var I=new W(g,_);if(I.signal&&I.signal.aborted)return D(new s.DOMException("Aborted","AbortError"));var j=new XMLHttpRequest;function B(){j.abort()}j.onload=function(){var ae={statusText:j.statusText,headers:F(j.getAllResponseHeaders()||"")};I.url.indexOf("file://")===0&&(j.status<200||j.status>599)?ae.status=200:ae.status=j.status,ae.url="responseURL"in j?j.responseURL:ae.headers.get("X-Request-URL");var U="response"in j?j.response:j.responseText;setTimeout(function(){T(new $(U,ae))},0)},j.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},j.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request timed out"))},0)},j.onabort=function(){setTimeout(function(){D(new s.DOMException("Aborted","AbortError"))},0)};function C(ae){try{return ae===""&&a.location.href?a.location.href:ae}catch{return ae}}if(j.open(I.method,C(I.url),!0),I.credentials==="include"?j.withCredentials=!0:I.credentials==="omit"&&(j.withCredentials=!1),"responseType"in j&&(l.blob?j.responseType="blob":l.arrayBuffer&&(j.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof m||a.Headers&&_.headers instanceof a.Headers)){var H=[];Object.getOwnPropertyNames(_.headers).forEach(function(ae){H.push(d(ae)),j.setRequestHeader(ae,p(_.headers[ae]))}),I.headers.forEach(function(ae,U){H.indexOf(U)===-1&&j.setRequestHeader(U,ae)})}else I.headers.forEach(function(ae,U){j.setRequestHeader(U,ae)});I.signal&&(I.signal.addEventListener("abort",B),j.onreadystatechange=function(){j.readyState===4&&I.signal.removeEventListener("abort",B)}),j.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}return v.polyfill=!0,a.fetch||(a.fetch=v,a.Headers=m,a.Request=W,a.Response=$),s.Headers=m,s.Request=W,s.Response=$,s.fetch=v,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(by,by.exports);var wM=by.exports,yd=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},_M=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.JsonRpcConnection=void 0;const EM=_l,u4=_M(wM),gv=fe,bd=fe,CM={Accept:"application/json","Content-Type":"application/json"},AM="POST",f4={headers:CM,method:AM};class SM{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new EM.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,bd.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}open(){return yd(this,arguments,void 0,function*(e=this.url){yield this.register(e)})}close(){return yd(this,void 0,void 0,function*(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()})}send(e){return yd(this,void 0,void 0,function*(){this.isAvailable||(yield this.register());try{const n=(0,gv.safeJsonStringify)(e),i=yield(yield(0,u4.default)(this.url,Object.assign(Object.assign({},f4),{body:n}))).json();this.onPayload({data:i})}catch(n){this.onError(e.id,n)}})}register(){return yd(this,arguments,void 0,function*(e=this.url){if(!(0,bd.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering)return new Promise((n,r)=>{this.events.once("register_error",i=>{r(i)}),this.events.once("open",()=>{if(typeof this.isAvailable>"u")return r(new Error("HTTP connection is missing or invalid"));n()})});this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=(0,gv.safeJsonStringify)({id:1,jsonrpc:"2.0",method:"test",params:[]});yield(0,u4.default)(e,Object.assign(Object.assign({},f4),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}})}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?(0,gv.safeJsonParse)(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),o=(0,bd.formatJsonRpcError)(e,i);this.events.emit("payload",o)}parseError(e,n=this.url){return(0,bd.parseConnectionError)(e,n,"HTTP")}}Xi.JsonRpcConnection=SM;var vv=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(Of,"__esModule",{value:!0});Of.Eip155Provider=void 0;const Ma=Ki,mv=Wi,nt=fe,OM=Hi,DM=Xi;class sC{constructor(e,n,r){this.name="eip155",this.namespace=e.namespace,this.events=r,this.client=n,this.chainId=parseInt(this.getDefaultChain()),this.httpProviders=this.createHttpProviders(),(0,nt.logDebug)("eip155 constructor --opts.namespace-->",e.namespace)}isRecord(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}isArray(e){return typeof e=="object"&&e!==null&&Array.isArray(e)}updateRequestParams(e){let n=e.params&&typeof e.params=="object"&&!Array.isArray(e.params);if(e.method==="wallet_switchEthereumChain"){const r=e.chainId.split(":")[1],i=parseInt(r,10);if(isNaN(i))throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid decimal number,  chainId: '${r}' `);if(!e.params)e.params={chainId:"0x"+i.toString(16)};else if(n){let o=e.params;"chainId"in o||(o.chainId="0x"+i.toString(16),e.params=o)}else throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params error ,  method: '${e.method}' `)}else if(e.method==="personal_sign"||e.method==="eth_signTypedData_v4"||e.method==="eth_sendTransaction"||e.method==="wallet_watchAsset"){if(!e.params)throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params is nil, method: '${e.method}'`);if(this.isRecord(e.params)){let r=e.params;if((0,nt.logDebug)("eip155 updateRequestParams params>",JSON.stringify(r)),"chainId"in r){const i=e.chainId.split(":")[1],o=parseInt(i,10);let s=String(r.chainId),a;if(s.startsWith(this.name)&&e.chainId===s)a=o;else if(s.startsWith("0x"))a=parseInt(s,16);else if(!isNaN(Number(s)))a=parseInt(s,10);else throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid params.chainId format, method: '${e.method}'`);if(o!==a)throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params.chainId not equal chain,  method: '${e.method}' `)}}else throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid request params type, method: '${e.method}'`)}}adaptArray(e){if(e.method==="wallet_switchEthereumChain"||e.method==="wallet_addEthereumChain"||e.method==="wallet_watchAsset"||e.method==="eth_sendTransaction"){if(this.isArray(e.params)){let n=e.params;if(n)if(n.length===1){let r=e.params[0];this.isRecord(r)&&(e.params=r)}else throw n.length>1?new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${e.method}' `):new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `)}}else if(e.method==="eth_signTypedData_v4"){if(this.isArray(e.params)){let n=e.params;if(n&&n.length>2)throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${e.method}' `);if(n&&n.length===0)throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);let r={};if(n&&n.length===2){let i=e.params[0];if(i&&typeof i=="string"){let o=!1;if(this.namespace.accounts.forEach(s=>{(0,Ma.fromAccountToAddress)(s).toLowerCase()===i.toLowerCase()&&(o=!0)}),(0,nt.logDebug)("eip155 adaptArray eth_signTypedData_v4 >>>isEqual: ",o),!o)throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error, not equal,  method: '${e.method}' `);if(this.isRecord(e.params[1]))r=e.params[1];else throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${e.method}' `)}else throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error , not string,  method: '${e.method}' `)}else if(n&&n.length===1)if(this.isRecord(e.params[0]))r=e.params[0];else throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${e.method}' `);try{let i=JSON.stringify(r);e.params={typedDataJson:i}}catch{throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params call JSON.stringify() failed,  method: '${e.method}' `)}}}else if(e.method==="personal_sign"&&this.isArray(e.params)){if(e.params&&e.params.length>2)throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params error,  method: '${e.method}' `);if(e.params&&e.params.length===0)throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);let n=e.params[0],r=e.params[1];if(r&&typeof r=="string"){let i=!1;if(this.namespace.accounts.forEach(o=>{(0,Ma.fromAccountToAddress)(o).toLowerCase()===r.toLowerCase()&&(i=!0)}),(0,nt.logDebug)("eip155 adaptArray personal_sign >>>isEqual: ",i),!i)throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error,  method: '${e.method}' `)}if(n&&typeof n=="string")e.params={message:n};else throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is error,  method: '${e.method}' `)}}showRequestModal(e){switch(e.method){case"eth_requestAccounts":case"eth_accounts":case"eth_chainId":return!1;case"eth_sendTransaction":case"eth_signTransaction":case"eth_sign":case"personal_sign":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"eth_signTypedData_v4":return!0;case"wallet_switchEthereumChain":{this.adaptArray(e),this.updateRequestParams(e);const{parsedChainId:n,hexChainId:r}=this.getHexChainIdFromRequest(e);return!this.isChainApproved(n)}default:return!1}return!1}request(e){return vv(this,void 0,void 0,function*(){switch(this.adaptArray(e),(0,nt.logDebug)("eip155 request --args--string>",JSON.stringify(e)),this.updateRequestParams(e),(0,nt.logDebug)("eip155 request --params--string>",JSON.stringify(e)),e.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_switchEthereumChain":return yield this.handleSwitchChain(e);case"wallet_addEthereumChain":return this.addEthereumChain(e)}if(this.namespace.methods.includes(e.method))try{const n=yield this.client.request(e);if((0,nt.logDebug)("eip155 request --response----string>",JSON.stringify(n)),this.isRecord(n)&&"result"in n){let r=n.result;return r&&typeof r=="string"&&(r==="true"||r==="false")?((0,nt.logDebug)("eip155 request --wallet_watchAsset>>>>",r==="true"),r==="true"):n.result}return n}catch(n){throw(0,nt.logDebug)(`eip155 request --response --error--string> e instanceof OKXConnectError ${n instanceof nt.OKXConnectError}`,JSON.stringify(n)),n}else return(0,nt.logDebug)("[RPC] request begin"),yield this.getHttpProvider().request(e)})}addEthereumChain(e){return vv(this,void 0,void 0,function*(){let n=yield this.client.request(e);try{if("result"in n){let r=n,i=n.result;if(i){const o=i.split(":")[0],s=i.split(":")[1],a=o+":"+s;let l=this.namespace;if(this.namespace.accounts.push(i),this.namespace.chains.push(a),this.isRecord(e.params)&&"rpcUrls"in e.params){let c=e.params.rpcUrls,u=c?c[0]:void 0;u&&(this.namespace.rpcMap?this.namespace.rpcMap[s]=u:this.namespace.rpcMap={[s]:u},this.setHttpProvider(s,u))}this.events.emit(mv.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request error`)}catch{throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request  error`)}return null})}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){if(this.chainId=parseInt(e),!this.httpProviders[e]){const r=n||(0,Ma.getRpcUrl)(`${this.name}:${e}`,this.namespace);r?this.setHttpProvider(e,r):(0,nt.logError)(`No RPC url provided for chainId: ${e}`)}this.events.emit(mv.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return(0,nt.logDebug)("eip155 getAccounts ",e,this.chainId),e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>(0,Ma.fromAccountToAddress)(n)))]:[]}getHexChainIdFromRequest(e){let n=e.params,r="0x0";n&&"chainId"in n&&(r=n.chainId),r=r.startsWith("0x")?r:`0x${r}`,(0,nt.logDebug)("handleSwitchChain -->args ",e),(0,nt.logDebug)("handleSwitchChain -->hexChainId ",r);const i=parseInt(r,16);return(0,nt.logDebug)("handleSwitchChain -->parsedChainId ",i),{parsedChainId:i,hexChainId:r}}handleSwitchChain(e){return vv(this,void 0,void 0,function*(){const{parsedChainId:n,hexChainId:r}=this.getHexChainIdFromRequest(e);if(this.isChainApproved(n))this.setDefaultChain(`${n}`);else{const i=yield this.client.request({method:"wallet_switchEthereumChain",chainId:e.chainId,params:{chainId:r}});try{if("result"in i){let o=i,s=i.result;if(s){const a=s.split(":")[0],l=s.split(":")[1],c=a+":"+l;let u=this.namespace;this.namespace.accounts.push(s),this.namespace.chains.push(c),(0,nt.logDebug)("handleSwitchChain -->wallet_switchEthereumChain ",i),this.setDefaultChain(`${n}`),this.events.emit(mv.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request error`)}catch{throw new nt.OKXConnectError(nt.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request  error`)}}return null})}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}createHttpProvider(e,n){const r=n;if(!r)(0,nt.logError)(`No RPC url provided for chainId: ${e}`);else return new OM.JsonRpcProvider(new DM.JsonRpcConnection(r,(0,Ma.getGlobal)("disableProviderPing")))}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=(0,Ma.getChainId)(n),i=(0,Ma.getRpcUrl)(n,this.namespace);(0,nt.logDebug)("get parsed chain and rpc:",r,i);let o=this.createHttpProvider(r,i);o&&(e[r]=o)}),(0,nt.logDebug)("get http providermap:",e),e}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}getHttpProvider(){const e=`${this.chainId}`,n=this.httpProviders[e];if((0,nt.logDebug)("[RPC] get http provider:",e,n),typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}}Of.Eip155Provider=sC;Of.default=sC;var Df={},RM=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(Df,"__esModule",{value:!0});Df.SuiProvider=void 0;const TM=Wi,Xl=fe,yv=Ki,NM=Xi,PM=Hi;class aC{constructor(e,n,r){this.name=Xl.NameSpaceKeySui,this.namespace=e.namespace,this.events=r,this.client=n,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}request(e){return RM(this,void 0,void 0,function*(){return(0,Xl.logDebug)("sui request --args--string>",JSON.stringify(e)),(0,Xl.logDebug)("sui provider namespace: ",this.namespace),this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)})}requestAccounts(){return this.getAccounts()}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(TM.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=(0,yv.getChainId)(n),i=(0,yv.getRpcUrl)(n,this.namespace);let o=this.createHttpProvider(r,i);o&&(e[r]=o)}),e}getHttpProvider(){const e=`${this.chainId}`,n=this.httpProviders[e];if((0,Xl.logDebug)("[RPC] get http provider:",e,n),typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&((0,Xl.logDebug)("setHttpProvider",e,n),this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n;if(!r)(0,Xl.logError)(`No RPC url provided for chainId: ${e}`);else return new PM.JsonRpcProvider(new NM.JsonRpcConnection(r,(0,yv.getGlobal)("disableProviderPing")))}getPubkey(e){return this.getWalletAddress(e)}getWalletAddress(e){return e||(e=this.namespace.defaultChain,e!=null&&e.startsWith("sui")||(e=`sui:${e}`)),this.namespace.accounts.filter(function(n){return n.split(":").length>2&&n.startsWith(e)}).map(function(n){return n.split(":")[2]})[0]}showRequestModal(e){switch(e.method){case"sui_signMessage":case"sui_signPersonalMessage":case"sui_signTransactionBlock":case"sui_signAndExecuteTransactionBlock":return!0;default:return!1}return!1}}Df.SuiProvider=aC;Df.default=aC;var l1={},Da={};Object.defineProperty(Da,"__esModule",{value:!0});Da.getAccountsChains=kM;Da.nameSpaceToConnectWalletNameSpace=IM;Da.fillParamsToSession=MM;Da.isCaipNamespace=lC;Da.parseNamespaceKey=FM;const mi=fe;function kM(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function IM(t){var e=[];return t&&Object.keys(t).forEach(n=>{(n===mi.NameSpaceKeyEip155||n===mi.NameSpaceKeySOL||n===mi.NameSpaceKeySui||n===mi.NameSpaceKeyAptos||n==mi.NameSpaceKeyBtc||n===mi.NameSpaceKeyTON||n===mi.NameSpaceKeyCosmos||n===mi.NameSpaceKeyTron||n===mi.NameSpaceKeyStarknet)&&t[n].chains&&e.push({namespace:n,chains:t[n].chains,params:t[n].params})}),e}function MM(t,e,n,r){const i=(s,a)=>{Object.assign(s,a)},o=(s,a)=>{for(const l in a)a.hasOwnProperty(l)&&a[l].rpcMap&&(a[l].rpcMap&&(s[l].rpcMap||(s[l].rpcMap={}),i(s[l].rpcMap,a[l].rpcMap)),a[l].defaultChain&&s[l].defaultChain===void 0&&s[l].chains.some(c=>c.split(":")[1]===a[l].defaultChain)&&(s[l].defaultChain=a[l].defaultChain))};e&&o(t.namespaces,e),n&&o(t.namespaces,n);for(const s in t.namespaces){const a=t.namespaces[s];(!(a!=null&&a.accounts)||a.accounts.length===0)&&delete t.namespaces[s]}t.namespaces[mi.NameSpaceKeyBtc]&&t.wallet.appName===mi.OKX_APP_WALLET_NAME&&BM(t.namespaces[mi.NameSpaceKeyBtc]),t.sessionConfig=r}function BM(t){try{if(t&&t.extra){var e=t.extra;Object.keys(e).forEach(n=>{const r=e[n];Number(r.addressType)===6?r.publicKey=r.compressedPublicKey.slice(2):r.publicKey=r.compressedPublicKey})}}catch{(0,mi.logDebug)("namespaces fixMobileBtcSession error")}}function lC(t){return t.includes(":")}function FM(t){return lC(t)?t.split(":")[0]:t}var es=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(l1,"__esModule",{value:!0});l1.SignClient=void 0;const wn=fe,bv=Da,xv=Ab,LM=Wi;class UM extends wn.ISignClient{constructor(e,n){super(e),this.connect=r=>es(this,void 0,void 0,function*(){return new Promise((i,o)=>es(this,void 0,void 0,function*(){try{var s=[];(0,wn.logDebug)("client connect params >>>",JSON.stringify(r));var a={name:"requestAccounts",requiredNamespaces:(0,bv.nameSpaceToConnectWalletNameSpace)(r.namespaces),optionalNamespaces:(0,bv.nameSpaceToConnectWalletNameSpace)(r.optionalNamespaces)};this.engine.setSessionConnectingListener(()=>{(0,wn.logDebug)("sessionConnectingListener >>>"),this.events.emit(LM.PROVIDER_EVENTS.SESSION_CONNECTING)}),r.signRequest&&(a.connectRequestMethods=yield(0,xv.connectMethodsToConnectWalletMethods)(r.signRequest,a.requiredNamespaces)),s.push(a),(0,wn.logDebug)("client connect connectRequest >>>",JSON.stringify(s)),this.engine.universalConnect(s,Object.assign({dappInfo:this.metadata},r.sessionConfig),l=>{l&&l.connectRequest&&((0,wn.logDebug)("universalConect info.connectRequest :",l.connectRequest),(0,wn.logDebug)("universalConect url:",(0,wn.getOKXLink)(l.connectRequest,this.sessionConfig.useMini)),this.events.emit("display_uri",(0,wn.getOKXLink)(l.connectRequest,this.sessionConfig.useMini)),this.events.emit("short_display_uri",(0,wn.getAppWalletShortDeepLink)(l.connectRequest.topic,l.connectRequest.clientId)),(0,wn.logDebug)(`universalConect EngineConnectInfo  ${JSON.stringify(l)}`),this.events.emit("okx_engine_connect_params",l))}).then(l=>es(this,void 0,void 0,function*(){(0,bv.fillParamsToSession)(l,r.namespaces,r.optionalNamespaces,this.sessionConfig),(0,wn.logDebug)(`signClient: connect: session ${JSON.stringify(l)}`),r.signRequest&&(yield(0,xv.connectMethodsResponseUpdate)(l,r.signRequest)),i(l)})).catch(l=>{(0,wn.logDebug)(`signClient: connect: catch ${JSON.stringify(l)}`),this.events.emit("connect_error",l),o(l)})}catch(l){(0,wn.logDebug)(`signClient: connect:  ${JSON.stringify(l)}`),o(l)}}))}),this.restoreconnect=r=>es(this,void 0,void 0,function*(){return new Promise((i,o)=>{this.engine.restoreconnect(r,s=>{i(s)})})}),this.reject=r=>es(this,void 0,void 0,function*(){}),this.request=r=>es(this,void 0,void 0,function*(){return new Promise((i,o)=>es(this,void 0,void 0,function*(){var s,a;(0,wn.logDebug)("clint request --params>>>> >",this.engine.connectionManager.getCurrentConnectionReady(),(s=this.sessionConfig)===null||s===void 0?void 0:s.openUniversalUrl,JSON.stringify(r));try{!((a=this.sessionConfig)===null||a===void 0)&&a.openUniversalUrl&&(0,wn.isIos)()&&this.openOKXWallet(),yield this.engine.send(r,{resolve:l=>{if(delete l.requestId,(0,wn.logDebug)("clint request --response >",JSON.stringify(l)),"error"in l&&l.error){let c=l.error;o(new wn.OKXConnectError(l.error.code,l.method+":"+c.message))}else i(l)},onAck:()=>{var l;!(0,wn.isIos)()&&(!((l=this.sessionConfig)===null||l===void 0)&&l.openUniversalUrl)&&this.openOKXWallet()}})}catch(l){o(l)}}))}),this.disconnect=()=>es(this,void 0,void 0,function*(){return new Promise((r,i)=>{this.engine.send({method:"disconnect"},{onAck:()=>{r()}},void 0,864e5).catch(o=>{console.log(`disconnect : ${JSON.stringify(o)}`),i(o)})})}),this.engine=new wn.Engine(new wn.ConnectionManager(e.name)),this.events=n,this.metadata=e}openOKXWallet(){var e;if((0,wn.logDebug)("bridge-provider ==>> connect_5"),!((e=this.sessionConfig)===null||e===void 0)&&e.useMini){let n=(0,wn.getTelegramWalletTWAUrl)(void 0,this.sessionConfig.tmaReturnUrl);(0,wn.openOKXTMAWalletlinkWithFallback)(n)}else(0,wn.openOKXDeeplink)(wn.standardDeeplink)}syncAllAddress(){return es(this,void 0,void 0,function*(){return new Promise((e,n)=>{this.engine.send({method:"sync_all_addresses"},{resolve:r=>{if(delete r.requestId,(0,wn.logDebug)("clint syncAllAddress --response >",JSON.stringify(r)),"error"in r&&r.error){let i=r.error;n(new wn.OKXConnectError(r.error.code,r.method+":"+i.message))}else{let i=r.result;e((0,xv.syncResoonseToRequire)(i))}}}).catch(r=>{console.log(`disconnect : ${JSON.stringify(r)}`),n(r)})})})}}l1.SignClient=UM;var Rf={},$M=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(Rf,"__esModule",{value:!0});Rf.SolanaProvider=void 0;const jM=Wi,xd=fe,wv=Ki,KM=Xi,WM=Hi;class cC{constructor(e,n,r,i){this.name="solana",this.namespace=e.namespace,this.events=i,this.client=r,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=n}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return $M(this,void 0,void 0,function*(){if((0,xd.logDebug)("solana request --args--string>",JSON.stringify(e)),(0,xd.logDebug)("solana provider namespace: ",this.namespace),this.namespace.methods.includes(e.method))return this.client.request(e);throw new xd.OKXConnectError(xd.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(jM.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=(0,wv.getChainId)(n),i=(0,wv.getRpcUrl)(n,this.namespace);let o=this.createHttpProvider(r,i);o&&(e[r]=o)}),e}getHttpProvider(){const e=`${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n;if(r)return new WM.JsonRpcProvider(new KM.JsonRpcConnection(r,(0,wv.getGlobal)("disableProviderPing")))}getPubkey(e){return this.getWalletAddress(e)}getWalletAddress(e){return e||(e=this.namespace.defaultChain,e!=null&&e.startsWith("solana")||(e=`solana:${e}`)),this.namespace.accounts.filter(function(n){return n.split(":").length>2&&n.startsWith(e)}).map(function(n){return n.split(":")[2]})[0]}showRequestModal(e){return!0}}Rf.SolanaProvider=cC;Rf.default=cC;var Ob={},HM=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(Ob,"__esModule",{value:!0});const XM=Wi,wd=fe,_v=Ki,zM=Xi,qM=Hi;class VM{constructor(e,n,r,i){this.name=wd.NameSpaceKeyBtc,this.namespace=e.namespace,this.events=i,this.client=r,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=n}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return HM(this,void 0,void 0,function*(){return(0,wd.logDebug)("btc request --args--string>",JSON.stringify(e)),(0,wd.logDebug)("btc provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)})}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(XM.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=(0,_v.getChainId)(n),i=(0,_v.getRpcUrl)(n,this.namespace);let o=this.createHttpProvider(r,i);o&&(e[r]=o)}),e}getHttpProvider(){const e=`${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n;if(!r)(0,wd.logError)(`No RPC url provided for chainId: ${e}`);else return new qM.JsonRpcProvider(new zM.JsonRpcConnection(r,(0,_v.getGlobal)("disableProviderPing")))}showRequestModal(e){return!0}}Ob.default=VM;var Db={},JM=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(Db,"__esModule",{value:!0});const GM=Wi,_d=fe,Ev=Ki,QM=Xi,YM=Hi;class ZM{constructor(e,n,r,i){this.name="aptos",this.namespace=e.namespace,this.events=i,this.client=r,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=n}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return JM(this,void 0,void 0,function*(){if((0,_d.logDebug)("solana request --args--string>",JSON.stringify(e)),(0,_d.logDebug)("solana provider namespace: ",this.namespace),this.namespace.methods.includes(e.method))return this.client.request(e);throw new _d.OKXConnectError(_d.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(GM.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=(0,Ev.getChainId)(n),i=(0,Ev.getRpcUrl)(n,this.namespace);let o=this.createHttpProvider(r,i);o&&(e[r]=o)}),e}getHttpProvider(){const e=`${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n;if(r)return new YM.JsonRpcProvider(new QM.JsonRpcConnection(r,(0,Ev.getGlobal)("disableProviderPing")))}showRequestModal(e){return!0}}Db.default=ZM;var Rb={},eB=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},tB=ne&&ne.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(Rb,"__esModule",{value:!0});const nB=Wi,Er=fe,Cv=Ki,rB=Xi,iB=Hi;class oB{constructor(e,n,r){this.name=Er.NameSpaceKeyTON,this.namespace=e.namespace,this.events=r,this.client=n,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}isRecord(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}request(e){return eB(this,void 0,void 0,function*(){var n,r,i,o;if((0,Er.logDebug)("TONProvider request --args--string>",JSON.stringify(e)),(0,Er.logDebug)("TONProvider request provider namespace: ",this.namespace),this.namespace.methods.includes(e.method)){if(!e.params)throw new Er.OKXConnectError(Er.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params is nil");if(this.isRecord(e.params)){const s=e.params,{validUntil:a}=s,l=tB(s,["validUntil"]);let c=(r=(n=this.namespace.payload)===null||n===void 0?void 0:n.ton_addr)===null||r===void 0?void 0:r.address;"from"in l&&(c=l.from||((o=(i=this.namespace.payload)===null||i===void 0?void 0:i.ton_addr)===null||o===void 0?void 0:o.address)),e.params.from=c,e.params.network=this.getDefaultChain(),e.params.valid_until=a;let u=yield this.client.request(e);if(this.isRecord(u)&&"result"in u){const f={boc:u.result.toString()};return(0,Er.logDebug)("TONProvider request provider response: ",JSON.stringify(u)),(0,Er.logDebug)("TONProvider request provider result: ",JSON.stringify(f)),f}throw new Er.OKXConnectError(Er.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_send request response is nil")}else throw new Er.OKXConnectError(Er.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params type add nil")}return this.getHttpProvider().request(e)})}requestAccounts(){return this.getAccounts()}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(nB.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){var e,n;const r=this.namespace.accounts;if((0,Er.logDebug)("ton getAccounts accounts :",r),(0,Er.logDebug)("ton getAccounts .namespace :",JSON.stringify(this.namespace)),!r)return[];let i=(n=(e=this.namespace.payload)===null||e===void 0?void 0:e.ton_addr)===null||n===void 0?void 0:n.address;return(0,Er.logDebug)("ton getAccounts address :",i),i?[i]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=(0,Cv.getChainId)(n),i=(0,Cv.getRpcUrl)(n,this.namespace);let o=this.createHttpProvider(r,i);o&&(e[r]=o)}),e}getHttpProvider(){const e=`${this.chainId}`,n=this.httpProviders[e];if((0,Er.logDebug)("[RPC] get http provider:",e,n),typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&((0,Er.logDebug)("setHttpProvider",e,n),this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n;if(!r)(0,Er.logError)(`No RPC url provided for chainId: ${e}`);else return new iB.JsonRpcProvider(new rB.JsonRpcConnection(r,(0,Cv.getGlobal)("disableProviderPing")))}showRequestModal(e){switch(e.method){case"ton_sendTransaction":return!0;default:return!1}}}Rb.default=oB;var Tb={},sB=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(Tb,"__esModule",{value:!0});const aB=Wi,Lu=fe,Av=Ki,lB=Xi,cB=Hi;class uB{constructor(e,n,r){this.name=Lu.NameSpaceKeyCosmos,this.namespace=e.namespace,this.events=r,this.client=n,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return sB(this,void 0,void 0,function*(){if((0,Lu.logDebug)("cosmos request --args--string>",JSON.stringify(e)),(0,Lu.logDebug)("cosmos provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(e.method))return this.client.request(e);throw new Lu.OKXConnectError(Lu.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(aB.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=(0,Av.getChainId)(n),i=(0,Av.getRpcUrl)(n,this.namespace);let o=this.createHttpProvider(r,i);o&&(e[r]=o)}),e}getHttpProvider(){const e=`${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n;if(r)return new cB.JsonRpcProvider(new lB.JsonRpcConnection(r,(0,Av.getGlobal)("disableProviderPing")))}showRequestModal(e){return!0}}Tb.default=uB;var Nb={},fB=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(Nb,"__esModule",{value:!0});const dB=Wi,Uu=fe,Sv=Ki,hB=Xi,pB=Hi;class gB{constructor(e,n,r){this.name=Uu.NameSpaceKeyTron,this.namespace=e.namespace,this.events=r,this.client=n,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return fB(this,void 0,void 0,function*(){if((0,Uu.logDebug)("tron request --args--string>",JSON.stringify(e)),(0,Uu.logDebug)("tron provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(e.method))return this.client.request(e);throw new Uu.OKXConnectError(Uu.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(dB.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=(0,Sv.getChainId)(n),i=(0,Sv.getRpcUrl)(n,this.namespace);let o=this.createHttpProvider(r,i);o&&(e[r]=o)}),e}getHttpProvider(){const e=`${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n;if(r)return new pB.JsonRpcProvider(new hB.JsonRpcConnection(r,(0,Sv.getGlobal)("disableProviderPing")))}showRequestModal(e){return!0}}Nb.default=gB;var Pb={},vB=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(Pb,"__esModule",{value:!0});const mB=Wi,Ed=fe,Ov=Ki,yB=Xi,bB=Hi;class xB{constructor(e,n,r,i){this.name="starknet",this.namespace=e.namespace,this.events=i,this.client=r,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=n}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return vB(this,void 0,void 0,function*(){if((0,Ed.logDebug)("starknet request --args--string>",JSON.stringify(e)),(0,Ed.logDebug)("starknet provider namespace: ",this.namespace),this.namespace.methods.includes(e.method))return this.client.request(e);throw new Ed.OKXConnectError(Ed.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Wallet doesn't support"+e.method)})}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(mB.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=(0,Ov.getChainId)(n),i=(0,Ov.getRpcUrl)(n,this.namespace);let o=this.createHttpProvider(r,i);o&&(e[r]=o)}),e}getHttpProvider(){const e=`${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n;if(r)return new bB.JsonRpcProvider(new yB.JsonRpcConnection(r,(0,Ov.getGlobal)("disableProviderPing")))}showRequestModal(e){return!0}}Pb.default=xB;var ti=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},Ra=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.OKXUniversalProvider=void 0;const wB=Of,_B=Df,d4=Wi,EB=Ra(_l),CB=l1,Ge=fe,Dv=Da,Rv=Ra(Rf),h4=Ra(Ob),p4=Ra(Db),AB=Ra(Rb),SB=Ra(Tb),OB=Ra(Nb),DB=Ki,RB=Cb,TB=Sb,NB=Ra(Pb);class J0{static init(e){return ti(this,void 0,void 0,function*(){(0,Ge.logDebug)("OKXUniversalProvider init() called"),(0,Ge.checkMetaData)(e.dappMetaData),(0,DB.setGlobal)("disableProviderPing",!0);let n;return window&&window.okxConnectUniversalinwindow&&window.okxConnectUniversalinwindow instanceof J0?((0,Ge.logDebug)("OKXUniversalConnect init() old called"),n=window.okxConnectUniversalinwindow):((0,Ge.logDebug)("OKXUniversalConnect init() new called"),n=new J0(e),window&&(window.okxConnectUniversalinwindow=n),yield n.initialize()),(0,Ge.getDefaultReporter)().configVersionAndSide("universalprovider-1.5.2","dapp",n.providerOpts.dappMetaData.name),n})}constructor(e){this.rpcProviders={},this.events=new EB.default,this.providerOpts=e}request(e,n){return ti(this,void 0,void 0,function*(){if((0,Ge.logDebug)("OKXUniversalProvider request() called"),(0,Ge.reportLog)("OKXUniversalProvider request() called"),!this.connected())throw new Ge.OKXConnectError(Ge.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);const{namespace:r,requestParam:i}=this.buildRequestParamFromRequest(e,n);return yield this.getProvider(r).request(i)})}buildRequestParamFromRequest(e,n){var r;(0,Ge.logDebug)("UniversalProvider request args >>>>>>>: ",n,JSON.stringify(e));let[i,o]=this.validateChain(n);if(!this.session)throw new Ge.OKXConnectError(Ge.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Please call connect() before request()");let s=Object.keys(this.session.namespaces);if(!n&&s&&s.length>1)throw new Ge.OKXConnectError(Ge.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Multiple chains have been linked, the request method requires chain");i=="aptos"&&o=="mainnet"&&(i="aptos",o="637"),i=="movement"&&o=="testnet"&&(i="aptos",o="70000060");const a=Object.assign(Object.assign({},e),{chainId:`${i}:${o}`,redirect:(r=e.redirect)!==null&&r!==void 0?r:this.sessionConfig.redirect});return{namespace:i,requestParam:a}}enable(){return ti(this,void 0,void 0,function*(){if(!this.client)throw new Ge.OKXConnectError(Ge.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.session)if(this.connectOpts)yield this.connect(this.connectOpts);else throw new Ge.OKXConnectError(Ge.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");return yield this.requestAccounts()})}disconnect(){return ti(this,void 0,void 0,function*(){if((0,Ge.logDebug)("OKXUniversalProvider disconnect() called"),(0,Ge.reportLog)("provider disconnect called"),!this.session)throw new Ge.OKXConnectError(Ge.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);return new Promise(e=>ti(this,void 0,void 0,function*(){let n=!1;const r=()=>ti(this,void 0,void 0,function*(){n||(n=!0,yield this.disconnectAndEmit(),yield this.cleanup(),e(),(0,Ge.logDebug)("UniversalProvider disconnect Disconnected"),(0,Ge.reportLog)("provider disconnect disconnected"))});try{yield this.client.disconnect(),yield r()}catch{yield r()}}))})}disconnectAndEmit(){var e,n;this.client.engine.connectionManager.disconnect(),this.events.emit("disconnect",{topic:(e=this.session)===null||e===void 0?void 0:e.topic}),this.events.emit("session_delete",{topic:(n=this.session)===null||n===void 0?void 0:n.topic})}aptosChainNameToGeneralId(e){return e=="aptos:mainnet"?"aptos:637":e=="movement:testnet"?"aptos:70000060":e}replaceAptos(e){var n,r;let i=(n=e.namespaces)===null||n===void 0?void 0:n.aptos;if(i!=null){let s=this.replaceAptosInner(i);e.namespaces!=null&&"aptos"in e.namespaces&&s!=null&&(e.namespaces.aptos=s)}let o=(r=e.optionalNamespaces)===null||r===void 0?void 0:r.aptos;if(o!=null){let s=this.replaceAptosInner(o);e.optionalNamespaces!=null&&"aptos"in e.optionalNamespaces&&s!=null&&(e.optionalNamespaces.aptos=s)}return e}replaceAptosInner(e){var n;return e!=null&&(e.chains=(n=e.chains)===null||n===void 0?void 0:n.map(r=>this.aptosChainNameToGeneralId(r)),e.defaultChain!=null&&(e.defaultChain=this.aptosChainNameToGeneralId(e.defaultChain))),e}replaceAptosGeneralIdWithNetName(e){return e.includes("aptos:637")?e=e.replace("aptos:637","aptos:mainnet"):e.includes("aptos:70000060")&&(e=e.replace("aptos:70000060","movement:testnet")),e}replaceSessionAptos(e){var n;let r=(n=e==null?void 0:e.namespaces)===null||n===void 0?void 0:n.aptos;if(r!=null&&r.chains!=null){r.chains=r.chains.map(o=>this.replaceAptosGeneralIdWithNetName(o)),r.accounts=r.accounts.map(o=>this.replaceAptosGeneralIdWithNetName(o));let i={};Object.keys(r.extra||{}).forEach((o,s)=>{this.replaceAptosGeneralIdWithNetName(o),i[this.replaceAptosGeneralIdWithNetName(o)]=Object.values((e==null?void 0:e.namespaces.aptos.extra)||{})[s]}),r.extra=i}(0,Ge.logDebug)("replaceSessionAptos",e)}connected(){(0,Ge.logDebug)("OKXUniversalProvider connected() called"),(0,Ge.reportLog)("provider connected called");let e=()=>{try{this.cleanup(),this.client.engine.connectionManager.disconnect()}catch(n){(0,Ge.logDebug)("Error during disconnect:",n)}};try{return this.session?this.client.engine.connectionManager.getCurrentConnectionReady()?!0:(e(),!1):!1}catch{return e(),!1}}connectAndSign(e,n){return ti(this,void 0,void 0,function*(){(0,Ge.logDebug)("OKXUniversalProvider connectAndSign() called");const r=Object.assign(Object.assign({},e),{signRequest:n});return(0,Ge.logDebug)("OKXUniversalProvider connectAndSign() opts:",JSON.stringify(e)),(0,Ge.logDebug)("OKXUniversalProvider connectAndSign() signRequest:",JSON.stringify(n)),yield this.connect(r)})}connect(e){return ti(this,void 0,void 0,function*(){if((0,Ge.logDebug)("OKXUniversalProvider connect() called"),(0,Ge.reportLog)("provider connect called"),!this.client)throw new Ge.OKXConnectError(Ge.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(this.connected())return this.session;e=this.replaceAptos(e),(0,Ge.logDebug)("OKXUniversalProvider connect >>>>",JSON.stringify(e)),e.sessionConfig===void 0&&(e.sessionConfig={}),e.sessionConfig.openUniversalUrl===void 0&&(e.sessionConfig.openUniversalUrl=(0,Ge.isMobileUserAgent)()),this.setNamespaces(e);try{(0,Ge.logDebug)(`UniversalProvider connect opts.stringify ====> ${JSON.stringify(e)}`);let n=yield this.client.connect(e);if(this.replaceSessionAptos(n),(0,Ge.logDebug)(`UniversalProvider connect success ====> ${JSON.stringify(n)}`),n){if(this.session=n,this.client.session=n,(0,Ge.logDebug)("OKXUniversalProvider connect success opts>>>>",JSON.stringify(e)),this.onConnect(),e.signRequest&&e.signRequest.length>0){let r=e.signRequest[0],i=[];typeof window<"u"&&window&&window.okxConnectUniversalUIinwindow?((0,Ge.logDebug)("OKXUniversalProvider connect success, us UI SDK>>>>"),this.session.signResponse&&this.session.signResponse.length>0&&(i=this.session.signResponse)):((0,Ge.logDebug)("OKXUniversalProvider connect success, us Universal SDK>>>>"),this.session.signResponse&&this.session.signResponse.length>0?i=this.session.signResponse:i.push((0,RB.creatNotSupportMethodItemReplay)(r))),(0,Ge.logDebug)(`UniversalProvider connect success connectRequestReply ====> ${JSON.stringify(i)}`),setTimeout(()=>{this.events.emit("connect_signResponse",i)},100)}return n}return}catch(n){throw(0,Ge.logDebug)("UniversalProvider connect error ====> ",JSON.stringify(n)),n}})}syncAllAddresses(){return ti(this,void 0,void 0,function*(){if((0,TB.syncAddressAvailable)(this.session.wallet))return this.client.syncAllAddress();throw new Ge.OKXConnectError(Ge.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)})}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}setDefaultChain(e,n){(0,Ge.logDebug)("OKXUniversalProvider setDefaultChain() called");try{if(!this.connected())return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}checkStorage(){return ti(this,void 0,void 0,function*(){let e=yield this.getFromStore("connectSession");if((0,Ge.logDebug)(e),e){let n=e;this.session=n,this.client.session=this.session,this.sessionConfig=n.sessionConfig,this.client.sessionConfig=this.sessionConfig,(0,Ge.logDebug)("[evm u-provider] do reconnection",this.session),yield this.client.restoreconnect(n),this.createProviders(),this.registerEventListeners(),setTimeout(()=>{this.events.emit("reconnect",{session:this.session})},100),this.registerEventListeners()}})}initialize(){return ti(this,void 0,void 0,function*(){(0,Ge.logDebug)("OKXUniversalProvider initialize() called"),(0,Ge.reportLog)("provider initialize called");const e=Object.assign({url:window.location.hostname,origin:window.location.origin},this.providerOpts.dappMetaData);this.client=new CB.SignClient(e,this.events),yield this.checkStorage()})}createProviders(){if(!this.client)throw new Ge.OKXConnectError(Ge.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.connected())throw new Ge.OKXConnectError(Ge.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Session not initialized. Please call connect() before enable()");[...new Set(Object.keys(this.session.namespaces).filter(n=>{var r,i;return((i=(r=this.session.namespaces[n])===null||r===void 0?void 0:r.accounts)===null||i===void 0?void 0:i.length)>0}).map(n=>(0,Dv.parseNamespaceKey)(n)))].forEach(n=>{if(!this.session)return;const i=this.session.namespaces[n];switch((0,Ge.logDebug)("init eip155 >> ",i),n){case"eip155":const o={namespace:i};this.rpcProviders[n]=new wB.Eip155Provider(o,this.client,this.events);break;case"solana":const s={namespace:i};let a=new Rv.default(s,"solana",this.client,this.events);this.rpcProviders[n]=a;let l=new Rv.default(s,"sonic",this.client,this.events);this.rpcProviders.sonic=l;let c=new Rv.default(s,"svm",this.client,this.events);this.rpcProviders.svm=c;break;case"ton":const u={namespace:i};let f=new AB.default(u,this.client,this.events);this.rpcProviders[n]=f;break;case"sui":const d={namespace:i};let p=new _B.SuiProvider(d,this.client,this.events);p.name="sui",this.rpcProviders[n]=p;break;case"btc":const h={namespace:i};let m=new h4.default(h,"btc",this.client,this.events);this.rpcProviders.btc=m;let w=new h4.default(h,"fractal",this.client,this.events);this.rpcProviders.fractal=w;break;case"aptos":let x=new p4.default({namespace:i},"aptos",this.client,this.events);this.rpcProviders[n]=x;let y=new p4.default({namespace:i},"movement",this.client,this.events);this.rpcProviders.movement=y;break;case"cosmos":let b=new SB.default({namespace:i},this.client,this.events);this.rpcProviders[n]=b;break;case"tron":let E=new OB.default({namespace:i},this.client,this.events);this.rpcProviders[n]=E;break;case"starknet":let O=new NB.default({namespace:i},"starknet",this.client,this.events);this.rpcProviders[n]=O;break}})}registerEventListeners(){if(typeof this.client>"u")throw new Ge.OKXConnectError(Ge.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client is not initialized");this.client.engine.addDisconnectListener(()=>{this.disconnectAndEmit(),this.cleanup()}),this.on(d4.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e)}),this.on(d4.PROVIDER_EVENTS.UPDATE_NAMESPACES,e=>{if(e){const n=Object.keys(e)[0];this.session&&(this.session.namespaces[n]=e[n],this.session&&(this.persist("connectSession",this.session),this.events.emit("session_update",this.session)),(0,Ge.logDebug)("PROVIDER_EVENTS.UPDATE_NAMESPACES this.session... ->>>",JSON.stringify(this.session)))}})}getProvider(e){return(0,Ge.logDebug)("current get providers",this.rpcProviders),(0,Ge.logDebug)("query namespace: ",e),this.rpcProviders[e]}setNamespaces(e){this.connectOpts=e;const{namespaces:n,sessionConfig:r}=e,i={origin:window.location.origin,url:window.location.hostname,name:this.providerOpts.dappMetaData.name,icon:this.providerOpts.dappMetaData.icon};this.sessionConfig=Object.assign({dappInfo:i},r),(0,Ge.logDebug)("setNamespaces sessionConfig>>>",this.sessionConfig),this.client.sessionConfig=this.sessionConfig,this.persist("sessionConfig",r)}validateChain(e){var n;let[r,i]=(e==null?void 0:e.split(":"))||["",""];if(!this.session||!this.session.namespaces||!Object.keys(this.session.namespaces).length)return(0,Ge.logDebug)("get name & chain",r,i),[r,i];if(r){if(!this.isChainNamespaceInSession(r))throw new Ge.OKXConnectError(Ge.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(i&&e){(0,Ge.logDebug)("this.session.namespaces -->> ",r,JSON.stringify(this.session.namespaces));const a=(n=this.session.namespaces[r])===null||n===void 0?void 0:n.chains;if((0,Ge.logDebug)("get chainsArr & chain",JSON.stringify(a),e),a&&!a.includes(e))throw new Ge.OKXConnectError(Ge.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace not include the chain '${e}'`)}}if(r&&i)return(0,Ge.logDebug)("get name & chain",r,i),[r,i];let o=(0,Dv.parseNamespaceKey)(Object.keys(this.session.namespaces)[0]);const s=this.rpcProviders[o].getDefaultChain();return(0,Ge.logDebug)("get default chain:",s),[o,s]}isChainNamespaceInSession(e){var n,r;if(Object.keys(((n=this.session)===null||n===void 0?void 0:n.namespaces)||{}).map(o=>(0,Dv.parseNamespaceKey)(o)).includes(e))return!0;let i=!1;return Object.values(((r=this.session)===null||r===void 0?void 0:r.namespaces)||{}).forEach(o=>{o.chains.forEach(s=>{s.split(":")[0]==e&&(i=!0)})}),i}requestAccountsWithNamespace(e){return this.getProvider(e).requestAccounts()}requestDefaultChainWithNamespace(e){return this.getProvider(e).getDefaultChain()}requestAccounts(){return ti(this,void 0,void 0,function*(){const[e]=this.validateChain();return yield this.getProvider(e).requestAccounts()})}onChainChanged(e){var n;if(!(!((n=this.session)===null||n===void 0)&&n.namespaces))return;const[r,i]=this.validateChain(e);i&&(this.session.namespaces[r]&&(this.session.namespaces[r].defaultChain=i,this.persist("connectSession",this.session)),this.events.emit("chainChanged",i))}onConnect(){this.createProviders(),this.session&&this.persist("connectSession",this.session),this.events.emit("connect",{session:this.session}),this.registerEventListeners()}cleanup(){return ti(this,void 0,void 0,function*(){this.session=void 0,this.client.session=void 0,this.sessionProperties=void 0,this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),this.persist("connectSession",void 0)})}persist(e,n){return(0,Ge.logDebug)("[evm u-provider] persisit data",e,n),this.client.engine.connectionManager.saveSessionContent(e,n)}getFromStore(e){return ti(this,void 0,void 0,function*(){return this.client.engine.connectionManager.getSessionContent(e)})}showRequestModal(e,n){try{const{namespace:r,requestParam:i}=this.buildRequestParamFromRequest(e,n);return this.getProvider(r).showRequestModal(i)}catch{return!1}}}Sf.OKXUniversalProvider=J0;Sf.default=J0;var zl={},g4;function PB(){if(g4)return zl;g4=1;var t=ne&&ne.__awaiter||function(r,i,o,s){function a(l){return l instanceof o?l:new o(function(c){c(l)})}return new(o||(o=Promise))(function(l,c){function u(p){try{d(s.next(p))}catch(h){c(h)}}function f(p){try{d(s.throw(p))}catch(h){c(h)}}function d(p){p.done?l(p.value):a(p.value).then(u,f)}d((s=s.apply(r,i||[])).next())})};Object.defineProperty(zl,"__esModule",{value:!0}),zl.OKXBtcProvider=void 0;const e=kb();let n=class{constructor(i){this.caip=["btc:mainnet","fractal:mainnet"],this.provider=i}getAddressForChainId(i){var o,s;if(this.checkChainId(i)==null)throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let l=(s=(o=this.provider.session)===null||o===void 0?void 0:o.namespaces.btc)===null||s===void 0?void 0:s.accounts.filter(function(f){return f.startsWith(i)});if(l==null||l.length<0)throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"no connected account");return l[0].split(":")[2]}getAccount(i){var o,s,a;if(this.checkChainId(i)==null)throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let c=(a=(s=(o=this.provider.session)===null||o===void 0?void 0:o.namespaces.btc)===null||s===void 0?void 0:s.extra)===null||a===void 0?void 0:a[i],u="";return c!=null&&(u=c.compressedPublicKey),{address:this.getAddressForChainId(i),publicKey:u}}signMessage(i,o,s){return t(this,void 0,void 0,function*(){if(this.checkChainId(i)==null)throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(o==="undefined")throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signMessage parmas error");let l={signStr:o,from:this.getAddressForChainId(i)};s&&(l.type=s);try{const c=yield this.provider.request({method:"btc_signMessage",params:l},i);return"result"in c?c.result:c.error}catch(c){throw c instanceof e.OKXConnectError?c:new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}})}sendBitcoin(i,o,s,a){return t(this,void 0,void 0,function*(){if(this.checkChainId(i)==null)throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let c={from:this.getAddressForChainId(i),to:o,value:(s/1e8).toString()};a!=null&&a.feeRate&&(c.satBytes=a.feeRate.toString());let u=yield this.send(i,c);return u!==void 0&&"txhash"in u?u.txhash:u})}send(i,o){return t(this,void 0,void 0,function*(){if(this.checkChainId(i)==null)throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(!this.checkParameters(o,"to","value"))throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method send parmas  error");o.from=this.getAddressForChainId(i);try{const a=yield this.provider.request({method:"btc_send",params:o},i);return"result"in a?{txhash:a.result}:a.error}catch(a){throw a instanceof e.OKXConnectError?a:new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${a}`)}})}signPsbt(i,o,s){return t(this,void 0,void 0,function*(){return new Promise((a,l)=>{this.signPsbts(i,[o],[s]).then(c=>{let u=JSON.parse(c);a(u[0])}).catch(c=>{l(c)})})})}signPsbts(i,o,s){return t(this,void 0,void 0,function*(){if(this.checkChainId(i)==null)throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(o===void 0)throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let l={psbtHexs:o,options:s};l.from=this.getAddressForChainId(i);try{const c=yield this.provider.request({method:"btc_signPsbts",params:l},i);if("result"in c)return c.result}catch(c){throw c instanceof e.OKXConnectError?c:new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${c}`)}})}signAndPushPsbt(i,o,s){return t(this,void 0,void 0,function*(){if(this.checkChainId(i)==null)throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(o===void 0)throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let l={psbtHex:o,options:s};l.from=this.getAddressForChainId(i);try{const c=yield this.provider.request({method:"btc_signAndPushPsbt",params:l},i);return"result"in c?JSON.parse(c.result):c.error}catch(c){throw c instanceof e.OKXConnectError?c:new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${c}`)}})}sendInscription(i,o,s,a){return t(this,void 0,void 0,function*(){let l={address:o,inscriptionId:s,options:a};if(this.checkChainId(i)==null)throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(o==="undefined")throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method sendInscription params error");var u=0;a&&"feeRate"in a&&(u=a.feeRate);let f="",d=this.getAddressForChainId(i);var p=7;if(s!=="undefined"){let m="-Atomicals",w="-Ordinals";s!=null&&s.toLowerCase().endsWith(m.toLowerCase())?(p=8,s=this.removeSuffix(s,m)):s!=null&&s.toLowerCase().endsWith(w.toLowerCase())&&(s=this.removeSuffix(s,w))}let h={scenario:5,feeRate:u,txType:"20",to:o,batchBean:[{coinAmount:"1",nftId:s,protocolId:p,coinId:f,inscriptionId:"",from:d}],extension:l};try{const m=yield this.provider.request({method:"btc_sendInscription",params:h},i);return"result"in m?m.result:m.error}catch(m){throw m instanceof e.OKXConnectError?m:new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}})}removeSuffix(i,o){return i.endsWith(o)?i.slice(0,i.length-o.length):i}checkParameters(i,...o){var s=[];return o.forEach(a=>{`${a}`in i||s.push(a)}),s.length>0?(console.log("not find key: ",s.join(",")),!1):!0}checkChainId(i){if(this.caip.includes(i)){let[o,s]=i.split(":");return o}}};return zl.OKXBtcProvider=n,zl.default=n,zl}var c1={},Tv=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(c1,"__esModule",{value:!0});c1.OKXCosmosProvider=void 0;const ql=fe;class kB{constructor(e){this.provider=e}getAccount(e){var n,r,i,o,s,a;(0,ql.logDebug)("OKXCosmosProvider getAccount chainId:",e),(0,ql.logDebug)("OKXCosmosProvider getAccount namespaces:",JSON.stringify((n=this.provider.session)===null||n===void 0?void 0:n.namespaces));let l=(i=(r=this.provider.session)===null||r===void 0?void 0:r.namespaces[ql.NameSpaceKeyCosmos])===null||i===void 0?void 0:i.accounts.filter(function(p){return p.startsWith(e)})[0];if((0,ql.logDebug)("OKXCosmosProvider getAccount account:",JSON.stringify(l)),!l)return;const c=l.split(":"),u=l.split(":")[2];(0,ql.logDebug)("OKXCosmosProvider getAccount address:",u);let f=(a=(s=(o=this.provider.session)===null||o===void 0?void 0:o.namespaces[ql.NameSpaceKeyCosmos])===null||s===void 0?void 0:s.extra)===null||a===void 0?void 0:a[`${c[0]}:${c[1]}`],d="";if(f!=null&&(d=f.publicKey,console.log("aptos_publicKey",d)),!!u)return{algo:"secp256k1",address:u,bech32Address:u,pubKey:this.hexToUint8Array(d)}}signArbitrary(e,n,r){return Tv(this,void 0,void 0,function*(){const i=window.btoa(r),o={chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:n,data:i}}],memo:""};let s={chainId:e,method:"cosmos_signArbitrary",params:{signer:n,chain_id:e.split(":")[1],data:o}};try{const a=yield this.provider.request(s,e);return"result"in a?typeof a.result=="string"?JSON.parse(a.result):a.result:a.error}catch(a){return a}})}signAmino(e,n,r,i){return Tv(this,void 0,void 0,function*(){if(r.msgs[0].type=="sign/MsgSignData"){let o={chainId:e,method:"cosmos_signArbitrary",params:{signer:n,chain_id:e.split(":")[1],data:r}};try{const s=yield this.provider.request(o,e);return"result"in s?s.result:s.error}catch(s){return s}}else{let o={chainId:e,method:"cosmos_signAmino",params:{signer:n,chainId:e.split(":")[1],sign_doc:r,signOptions:i}};try{const s=yield this.provider.request(o,e);if("result"in s){const a=JSON.parse(s.result);return console.log("signdoc",r,a.signDoc),r.fee=a.signDoc.fee,{signed:r,signature:a.signature}}else return s.error}catch(s){return s}}})}signDirect(e,n,r,i){return Tv(this,void 0,void 0,function*(){const o={bodyBytes:this.bufferToHex(r.bodyBytes),authInfoBytes:this.bufferToHex(r.authInfoBytes),chainId:r.chainId,accountNumber:r.accountNumber?r.accountNumber.toString():null,signOptions:i||null};let s={chainId:e,method:"cosmos_signDirect",params:{signer:n,chainId:e.split(":")[1],sign_doc:o}};try{const a=yield this.provider.request(s,e);if("result"in a){const l=JSON.parse(a.result);return console.log("signdirect result",l),r.authInfoBytes=this.messageToBuffer(l.signDoc.authInfoBytes),{signed:r,signature:l.signature}}}catch(a){return a}})}messageToBuffer(e){var n=Uint8Array.from([]);try{typeof e=="string"?n=this.hexToUint8Array(e.replace("0x","")):n=Uint8Array.from(e)}catch(r){console.log(`messageToBuffer error: ${r}`)}return n}bufferToHex(e){return"0x"+[...new Uint8Array(e)].map(r=>r.toString(16).padStart(2,"0")).join("")}hexToUint8Array(e){if(e.length%2!==0)throw"Invalid hexString";for(var n=new Uint8Array(e.length/2),r=0;r<e.length;r+=2){var i=parseInt(e.substr(r,2),16);if(isNaN(i))throw"Invalid hexString";n[r/2]=i}return n}}c1.OKXCosmosProvider=kB;var Vl={},v4;function IB(){if(v4)return Vl;v4=1;var t=ne&&ne.__awaiter||function(i,o,s,a){function l(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function f(h){try{p(a.next(h))}catch(m){u(m)}}function d(h){try{p(a.throw(h))}catch(m){u(m)}}function p(h){h.done?c(h.value):l(h.value).then(f,d)}p((a=a.apply(i,o||[])).next())})};Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.OKXTonProvider=void 0;const e=kb(),n=fe;let r=class{constructor(o){this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.provider=o,this.provider.on("connect",()=>{let s=this.wallet();(0,n.logDebug)("OKXTONProvider event connect:",JSON.stringify(s)),this.statusChangeSubscriptions.forEach(a=>a(s))}),this.provider.on("reconnect",()=>{let s=this.wallet();(0,n.logDebug)("OKXTONProvider event reconnect:",JSON.stringify(s)),this.statusChangeSubscriptions.forEach(a=>a(s))}),this.provider.on("disconnect",()=>{(0,n.logDebug)("OKXTONProvider event disconnect:"),this.statusChangeSubscriptions.forEach(s=>s(null))}),this.provider.on("connect_error",s=>{(0,n.logDebug)("OKXTONProvider event connect_error:",JSON.stringify(s)),this.statusChangeErrorSubscriptions.forEach(a=>a(s))})}connected(){return this.provider.connected()?!!this.provider.session.namespaces.ton:!1}account(){try{if(!this.provider.session)return null;let o=this.provider.session.namespaces.ton;if(!o||!o.payload||!o.payload.ton_addr)return null;let s=o.payload.ton_addr;return{address:s.address,chain:s.network,walletStateInit:s.walletStateInit,publicKey:s.publicKey}}catch(o){return(0,n.logDebug)("OKXTONProvider account  error:",JSON.stringify(o)),null}}wallet(){if(this.connected())try{let o=this.provider.session.wallet;const a={device:{platform:o.platform,appName:o.appName,appVersion:o.appVersion,maxProtocolVersion:o.maxProtocolVersion,features:["ton_sendTransaction"]},provider:"http",account:this.account()};let l=this.provider.session.namespaces.ton;return l&&l.payload&&l.payload.ton_proof&&(a.connectItems={tonProof:l.payload.ton_proof}),(0,n.logDebug)("OKXTONProvider wallet :",JSON.stringify(a)),a}catch(o){return(0,n.logDebug)("OKXTONProvider wallet  error:",JSON.stringify(o)),null}return null}onStatusChange(o,s){return this.statusChangeSubscriptions.push(o),s&&this.statusChangeErrorSubscriptions.push(s),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(a=>a!==o),s&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(a=>a!==s))}}sendTransaction(o){return t(this,void 0,void 0,function*(){if(o.network&&o.network!==n.TONCHAIN.MAINNET)throw new e.OKXConnectError(e.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"OKXTONProvider sendTransaction network error");if(o.network||(o.network=n.TONCHAIN.MAINNET),this.provider.session&&!o.from){const l=this.provider.requestAccountsWithNamespace("ton");o.from=l[0]}const s={method:"ton_sendTransaction",params:o};let a="ton:"+n.TONCHAIN.MAINNET;return(0,n.logDebug)("OKXTONProvider sendTransaction transaction----:",a,JSON.stringify(s)),this.provider.request(s,a)})}};return Vl.OKXTonProvider=r,Vl.default=r,Vl}var u1={},Cd=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(u1,"__esModule",{value:!0});u1.OKXTronProvider=void 0;const Ad=fe;class MB{constructor(e){this.TRON_CHAIN_ID="tron:mainnet",this.provider=e}getChain(e){if(e==null&&(e=this.TRON_CHAIN_ID),e!=this.TRON_CHAIN_ID)throw new Ad.OKXConnectError(Ad.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,"The chainId:"+e+"is wrong for OKXTronProvider");return e}getAccount(e){var n,r,i,o,s;e=this.getChain(e);let a=(r=(n=this.provider.session)===null||n===void 0?void 0:n.namespaces[Ad.NameSpaceKeyTron])===null||r===void 0?void 0:r.accounts.filter(function(f){return f.startsWith(e)})[0];if(!a)return;const l=a.split(":"),c=a.split(":")[2];let u=(s=(o=(i=this.provider.session)===null||i===void 0?void 0:i.namespaces[Ad.NameSpaceKeyTron])===null||o===void 0?void 0:o.extra)===null||s===void 0?void 0:s[`${l[0]}:${l[1]}`];if(u!=null&&u.publicKey,!!c)return{address:c}}stringToHex(e){let n="";for(let r=0;r<e.length;r++)n+=e.charCodeAt(r).toString(16).padStart(2,"0");return n}signMessage(e,n){return Cd(this,void 0,void 0,function*(){n=this.getChain(n);let r={chainId:n,method:"tron_signMessage",params:{message:this.stringToHex(e)}};try{const i=yield this.provider.request(r,n);return"result"in i?i.result:i.error}catch(i){return i}})}signMessageV2(e,n){return Cd(this,void 0,void 0,function*(){n=this.getChain(n);let r={chainId:n,method:"tron_signMessageV2",params:{message:e}};try{const i=yield this.provider.request(r,n);return"result"in i?i.result:i.error}catch(i){return i}})}signTransaction(e,n){return Cd(this,void 0,void 0,function*(){n=this.getChain(n);let r={method:"tron_signTransaction",params:e};try{const i=yield this.provider.request(r,n);if("result"in i){let o;typeof i.result=="string"?o=JSON.parse(i.result):o=i.result;let s={};s.visible=o.visible,s.txID=o.txID;let a={};return a.contract=o.raw_data.contract,a.expiration=o.raw_data.expiration,a.ref_block_bytes=o.raw_data.ref_block_bytes,a.fee_limit=o.raw_data.fee_limit,a.ref_block_hash=o.raw_data.ref_block_hash,a.timestamp=o.raw_data.timestamp,s.raw_data=a,s.raw_data_hex=o.raw_data_hex,s.signature=o.signature,s}}catch(i){return i}})}signAndSendTransaction(e,n){return Cd(this,void 0,void 0,function*(){n=this.getChain(n);let r={method:"tron_signAndSendTransaction",params:e};try{const i=yield this.provider.request(r,n);if("result"in i)return i.result}catch(i){return i}})}}u1.OKXTronProvider=MB;var f1={},Sd=ne&&ne.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(f1,"__esModule",{value:!0});f1.OKXStarknetProvider=void 0;const Od=fe;class BB{constructor(e){this.STARKNET_CHAIN_ID="starknet:mainnet",this.provider=e}getChain(e){if(e==null&&(e=this.STARKNET_CHAIN_ID),e!=this.STARKNET_CHAIN_ID)throw new Od.OKXConnectError(Od.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,"The chainId:"+e+"is wrong for OKXStarknetProvider");return e}getAccount(e){var n,r,i,o,s;let a=(r=(n=this.provider.session)===null||n===void 0?void 0:n.namespaces[Od.NameSpaceKeyStarknet])===null||r===void 0?void 0:r.accounts.filter(function(d){return d.startsWith(e)})[0];if(!a)return;const l=a.split(":"),c=a.split(":")[2];let u=(s=(o=(i=this.provider.session)===null||i===void 0?void 0:i.namespaces[Od.NameSpaceKeyStarknet])===null||o===void 0?void 0:o.extra)===null||s===void 0?void 0:s[`${l[0]}:${l[1]}`],f="";if(u!=null&&(f=u.publicKey),!!c)return{address:c,pubKey:f}}signMessage(e,n,r){return Sd(this,void 0,void 0,function*(){r=this.getChain(r),e.length==0&&(e=this.getAccount(r).address);let i={chainId:r,method:"starknet_signMessage",params:{accountAddress:e,typedData:n}};try{const o=yield this.provider.request(i,r);if("result"in o){let s=o.result;return typeof s=="string"&&(s=JSON.parse(s)),[s.signedDataR,s.signedDataS]}else return o.error}catch(o){return o}})}sendTransaction(e,n,r){return Sd(this,void 0,void 0,function*(){r=this.getChain(r);let o={method:"starknet_sendTransaction",params:{data:JSON.stringify({accountAddress:e,executionRequest:n}),from:e}};try{const s=yield this.provider.request(o,r);return"result"in s?{transaction_hash:s.result}:s.error}catch(s){return s}})}signMessageDeclareContractPayload(e,n){return Sd(this,void 0,void 0,function*(){n=this.getChain(n);try{let r={method:"starknet_signMessage",params:e};const i=yield this.provider.request(r,n);return"result"in i?{transaction_hash:i.result.txHash,class_hash:i.result.classHash}:i.error}catch(r){return r}})}sendMessageExecuteTransactionDetail(e,n,r,i,o){return Sd(this,void 0,void 0,function*(){o=this.getChain(o);const a={calls:Array.isArray(n)?n:[n],abis:r,transactionsDetail:{nonce:i==null?void 0:i.nonce,maxFee:i==null?void 0:i.nonce,version:i==null?void 0:i.version}};return this.sendTransaction(e,a,o)})}}f1.OKXStarknetProvider=BB;var m4;function kb(){return m4||(m4=1,function(t){var e=ne&&ne.__createBinding||(Object.create?function(c,u,f,d){d===void 0&&(d=f);var p=Object.getOwnPropertyDescriptor(u,f);(!p||("get"in p?!u.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return u[f]}}),Object.defineProperty(c,d,p)}:function(c,u,f,d){d===void 0&&(d=f),c[d]=u[f]}),n=ne&&ne.__exportStar||function(c,u){for(var f in c)f!=="default"&&!Object.prototype.hasOwnProperty.call(u,f)&&e(u,c,f)};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXStarknetProvider=t.OKXTronProvider=t.OKXTonProvider=t.OKXCosmosProvider=t.OKXBtcProvider=t.OKXUniversalProvider=void 0,n(s1,t),n(Cb,t);var r=Sf;Object.defineProperty(t,"OKXUniversalProvider",{enumerable:!0,get:function(){return r.OKXUniversalProvider}});var i=PB();Object.defineProperty(t,"OKXBtcProvider",{enumerable:!0,get:function(){return i.OKXBtcProvider}});var o=c1;Object.defineProperty(t,"OKXCosmosProvider",{enumerable:!0,get:function(){return o.OKXCosmosProvider}});var s=IB();Object.defineProperty(t,"OKXTonProvider",{enumerable:!0,get:function(){return s.OKXTonProvider}});var a=u1;Object.defineProperty(t,"OKXTronProvider",{enumerable:!0,get:function(){return a.OKXTronProvider}});var l=f1;Object.defineProperty(t,"OKXStarknetProvider",{enumerable:!0,get:function(){return l.OKXStarknetProvider}}),n(fe,t)}(pv)),pv}var Jl=kb(),FB=Object.defineProperty,LB=Object.defineProperties,UB=Object.getOwnPropertyDescriptors,y4=Object.getOwnPropertySymbols,$B=Object.prototype.hasOwnProperty,jB=Object.prototype.propertyIsEnumerable,xy=(t,e,n)=>e in t?FB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lr=(t,e)=>{for(var n in e||(e={}))$B.call(e,n)&&xy(t,n,e[n]);if(y4)for(var n of y4(e))jB.call(e,n)&&xy(t,n,e[n]);return t},Vr=(t,e)=>LB(t,UB(e)),gn=(t,e,n)=>(xy(t,typeof e!="symbol"?e+"":e,n),n),si=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())}),b4,x4,w4,_4,E4,C4,A4,Xr=(t=>(t.DARK="DARK",t.LIGHT="LIGHT",t))(Xr||{});class bs extends fe.OKXConnectError{constructor(e){super(1,e)}}const KB=(t,e)=>t===e,po=Symbol("solid-proxy"),uC=typeof Proxy=="function",S4=Symbol("solid-track"),Kh={equals:KB};let fC=mC;const Ps=1,Wh=2,dC={owned:null,cleanups:null,context:null,owner:null};var Rn=null;let Nv=null,WB=null,qn=null,Kr=null,xs=null,d1=0;function HB(t,e){const n=qn,r=Rn,i=t.length===0,o=e===void 0?r:e,s=i?dC:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=i?t:()=>t(()=>Yr(()=>G0(s)));Rn=s,qn=null;try{return hu(a,!0)}finally{qn=n,Rn=r}}function an(t,e){e=e?Object.assign({},Kh,e):Kh;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),vC(n,i));return[gC.bind(n),r]}function XB(t,e,n){const r=h1(t,e,!0,Ps);du(r)}function Pn(t,e,n){const r=h1(t,e,!1,Ps);du(r)}function Si(t,e,n){fC=VB;const r=h1(t,e,!1,Ps);(!n||!n.render)&&(r.user=!0),xs?xs.push(r):du(r)}function jt(t,e,n){n=n?Object.assign({},Kh,n):Kh;const r=h1(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,du(r),gC.bind(r)}function hC(t){return hu(t,!1)}function Yr(t){if(qn===null)return t();const e=qn;qn=null;try{return t()}finally{qn=e}}function pC(t){Si(()=>Yr(t))}function Ib(t){return Rn===null||(Rn.cleanups===null?Rn.cleanups=[t]:Rn.cleanups.push(t)),t}function wy(){return qn}function Tf(t,e){const n=Symbol("context");return{id:n,Provider:GB(n),defaultValue:t}}function go(t){let e;return Rn&&Rn.context&&(e=Rn.context[t.id])!==void 0?e:t.defaultValue}function Mb(t){const e=jt(t),n=jt(()=>_y(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function gC(){if(this.sources&&this.state)if(this.state===Ps)du(this);else{const t=Kr;Kr=null,hu(()=>Xh(this),!1),Kr=t}if(qn){const t=this.observers?this.observers.length:0;qn.sources?(qn.sources.push(this),qn.sourceSlots.push(t)):(qn.sources=[this],qn.sourceSlots=[t]),this.observers?(this.observers.push(qn),this.observerSlots.push(qn.sources.length-1)):(this.observers=[qn],this.observerSlots=[qn.sources.length-1])}return this.value}function vC(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&hu(()=>{for(let i=0;i<t.observers.length;i+=1){const o=t.observers[i],s=Nv&&Nv.running;s&&Nv.disposed.has(o),(s?!o.tState:!o.state)&&(o.pure?Kr.push(o):xs.push(o),o.observers&&yC(o)),s||(o.state=Ps)}if(Kr.length>1e6)throw Kr=[],new Error},!1)),e}function du(t){if(!t.fn)return;G0(t);const e=d1;zB(t,t.value,e)}function zB(t,e,n){let r;const i=Rn,o=qn;qn=Rn=t;try{r=t.fn(e)}catch(s){return t.pure&&(t.state=Ps,t.owned&&t.owned.forEach(G0),t.owned=null),t.updatedAt=n+1,bC(s)}finally{qn=o,Rn=i}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?vC(t,r):t.value=r,t.updatedAt=n)}function h1(t,e,n,r=Ps,i){const o={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:Rn,context:Rn?Rn.context:null,pure:n};return Rn===null||Rn!==dC&&(Rn.owned?Rn.owned.push(o):Rn.owned=[o]),o}function Hh(t){if(t.state===0)return;if(t.state===Wh)return Xh(t);if(t.suspense&&Yr(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<d1);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===Ps)du(t);else if(t.state===Wh){const r=Kr;Kr=null,hu(()=>Xh(t,e[0]),!1),Kr=r}}function hu(t,e){if(Kr)return t();let n=!1;e||(Kr=[]),xs?n=!0:xs=[],d1++;try{const r=t();return qB(n),r}catch(r){n||(xs=null),Kr=null,bC(r)}}function qB(t){if(Kr&&(mC(Kr),Kr=null),t)return;const e=xs;xs=null,e.length&&hu(()=>fC(e),!1)}function mC(t){for(let e=0;e<t.length;e++)Hh(t[e])}function VB(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:Hh(r)}for(e=0;e<n;e++)Hh(t[e])}function Xh(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const i=r.state;i===Ps?r!==e&&(!r.updatedAt||r.updatedAt<d1)&&Hh(r):i===Wh&&Xh(r,e)}}}function yC(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=Wh,n.pure?Kr.push(n):xs.push(n),n.observers&&yC(n))}}function G0(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),s=n.observerSlots.pop();r<i.length&&(o.sourceSlots[s]=r,i[r]=o,n.observerSlots[r]=s)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)G0(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)G0(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function JB(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function bC(t,e=Rn){throw JB(t)}function _y(t){if(typeof t=="function"&&!t.length)return _y(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=_y(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function GB(t,e){return function(r){let i;return Pn(()=>i=Yr(()=>(Rn.context=Vr(lr({},Rn.context),{[t]:r.value}),Mb(()=>r.children))),void 0),i}}function he(t,e){return Yr(()=>t(e||{}))}function Dd(){return!0}const Ey={get(t,e,n){return e===po?n:t.get(e)},has(t,e){return e===po?!0:t.has(e)},set:Dd,deleteProperty:Dd,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Dd,deleteProperty:Dd}},ownKeys(t){return t.keys()}};function Pv(t){return(t=typeof t=="function"?t():t)?t:{}}function QB(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function ws(...t){let e=!1;for(let s=0;s<t.length;s++){const a=t[s];e=e||!!a&&po in a,t[s]=typeof a=="function"?(e=!0,jt(a)):a}if(uC&&e)return new Proxy({get(s){for(let a=t.length-1;a>=0;a--){const l=Pv(t[a])[s];if(l!==void 0)return l}},has(s){for(let a=t.length-1;a>=0;a--)if(s in Pv(t[a]))return!0;return!1},keys(){const s=[];for(let a=0;a<t.length;a++)s.push(...Object.keys(Pv(t[a])));return[...new Set(s)]}},Ey);const n={},r=Object.create(null);for(let s=t.length-1;s>=0;s--){const a=t[s];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let c=l.length-1;c>=0;c--){const u=l[c];if(u==="__proto__"||u==="constructor")continue;const f=Object.getOwnPropertyDescriptor(a,u);if(!r[u])r[u]=f.get?{enumerable:!0,configurable:!0,get:QB.bind(n[u]=[f.get.bind(a)])}:f.value!==void 0?f:void 0;else{const d=n[u];d&&(f.get?d.push(f.get.bind(a)):f.value!==void 0&&d.push(()=>f.value))}}}const i={},o=Object.keys(r);for(let s=o.length-1;s>=0;s--){const a=o[s],l=r[a];l&&l.get?Object.defineProperty(i,a,l):i[a]=l?l.value:void 0}return i}function Bb(t,...e){if(uC&&po in t){const i=new Set(e.length>1?e.flat():e[0]),o=e.map(s=>new Proxy({get(a){return s.includes(a)?t[a]:void 0},has(a){return s.includes(a)&&a in t},keys(){return s.filter(a=>a in t)}},Ey));return o.push(new Proxy({get(s){return i.has(s)?void 0:t[s]},has(s){return i.has(s)?!1:s in t},keys(){return Object.keys(t).filter(s=>!i.has(s))}},Ey)),o}const n={},r=e.map(()=>({}));for(const i of Object.getOwnPropertyNames(t)){const o=Object.getOwnPropertyDescriptor(t,i),s=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let a=!1,l=0;for(const c of e)c.includes(i)&&(a=!0,s?r[l][i]=o.value:Object.defineProperty(r[l],i,o)),++l;a||(s?n[i]=o.value:Object.defineProperty(n,i,o))}return[...r,n]}const xC=t=>`Stale read from <${t}>.`;function sn(t){const e=t.keyed,n=jt(()=>t.when,void 0,{equals:(r,i)=>e?r===i:!r==!i});return jt(()=>{const r=n();if(r){const i=t.children;return typeof i=="function"&&i.length>0?Yr(()=>i(e?r:()=>{if(!Yr(n))throw xC("Show");return t.when})):i}return t.fallback},void 0,void 0)}function wC(t){let e=!1;const n=(o,s)=>(e?o[1]===s[1]:!o[1]==!s[1])&&o[2]===s[2],r=Mb(()=>t.children),i=jt(()=>{let o=r();Array.isArray(o)||(o=[o]);for(let s=0;s<o.length;s++){const a=o[s].when;if(a)return e=!!o[s].keyed,[s,a,o[s]]}return[-1]},void 0,{equals:n});return jt(()=>{const[o,s,a]=i();if(o<0)return t.fallback;const l=a.children;return typeof l=="function"&&l.length>0?Yr(()=>l(e?s:()=>{if(Yr(i)[0]!==o)throw xC("Match");return a.when})):l},void 0,void 0)}function qa(t){return t}const YB=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],ZB=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...YB]),eF=new Set(["innerHTML","textContent","innerText","children"]),tF=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),nF=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function rF(t,e){const n=nF[t];return typeof n=="object"?n[e]?n.$:void 0:n}const iF=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),oF=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),sF={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function aF(t,e,n){let r=n.length,i=e.length,o=r,s=0,a=0,l=e[i-1].nextSibling,c=null;for(;s<i||a<o;){if(e[s]===n[a]){s++,a++;continue}for(;e[i-1]===n[o-1];)i--,o--;if(i===s){const u=o<r?a?n[a-1].nextSibling:n[o-a]:l;for(;a<o;)t.insertBefore(n[a++],u)}else if(o===a)for(;s<i;)(!c||!c.has(e[s]))&&e[s].remove(),s++;else if(e[s]===n[o-1]&&n[a]===e[i-1]){const u=e[--i].nextSibling;t.insertBefore(n[a++],e[s++].nextSibling),t.insertBefore(n[--o],u),e[i]=n[o]}else{if(!c){c=new Map;let f=a;for(;f<o;)c.set(n[f],f++)}const u=c.get(e[s]);if(u!=null)if(a<u&&u<o){let f=s,d=1,p;for(;++f<i&&f<o&&!((p=c.get(e[f]))==null||p!==u+d);)d++;if(d>u-a){const h=e[s];for(;a<u;)t.insertBefore(n[a++],h)}else t.replaceChild(n[a++],e[s++])}else s++;else e[s++].remove()}}}const O4="_$DX_DELEGATE";function lF(t,e,n,r={}){let i;return HB(o=>{i=o,e===document?t():zh(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{i(),e.textContent=""}}function Wn(t,e,n){let r;const i=()=>{const s=document.createElement("template");return s.innerHTML=t,n?s.content.firstChild.firstChild:s.content.firstChild},o=e?()=>Yr(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return o.cloneNode=o,o}function cF(t,e=window.document){const n=e[O4]||(e[O4]=new Set);for(let r=0,i=t.length;r<i;r++){const o=t[r];n.has(o)||(n.add(o),e.addEventListener(o,mF))}}function zt(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function uF(t,e,n,r){r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}function fF(t,e,n){n?t.setAttribute(e,""):t.removeAttribute(e)}function _C(t,e){e==null?t.removeAttribute("class"):t.className=e}function dF(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const i=n[0];t.addEventListener(e,n[0]=o=>i.call(t,n[1],o))}else t.addEventListener(e,n,typeof n!="function"&&n)}function hF(t,e,n={}){const r=Object.keys(e||{}),i=Object.keys(n);let o,s;for(o=0,s=i.length;o<s;o++){const a=i[o];!a||a==="undefined"||e[a]||(D4(t,a,!1),delete n[a])}for(o=0,s=r.length;o<s;o++){const a=r[o],l=!!e[a];!a||a==="undefined"||n[a]===l||!l||(D4(t,a,!0),n[a]=l)}return n}function pF(t,e,n){if(!e)return n?zt(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let i,o;for(o in n)e[o]==null&&r.removeProperty(o),delete n[o];for(o in e)i=e[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function EC(t,e={},n,r){const i={};return Pn(()=>i.children=Q0(t,e.children,i.children)),Pn(()=>typeof e.ref=="function"&&m0(e.ref,t)),Pn(()=>gF(t,e,n,!0,i,!0)),i}function m0(t,e,n){return Yr(()=>t(e,n))}function zh(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return Q0(t,e,r,n);Pn(i=>Q0(t,e(),i,n),r)}function gF(t,e,n,r,i={},o=!1){e||(e={});for(const s in i)if(!(s in e)){if(s==="children")continue;i[s]=R4(t,s,null,i[s],n,o,e)}for(const s in e){if(s==="children")continue;const a=e[s];i[s]=R4(t,s,a,i[s],n,o,e)}}function vF(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function D4(t,e,n){const r=e.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)t.classList.toggle(r[i],n)}function R4(t,e,n,r,i,o,s){let a,l,c,u,f;if(e==="style")return pF(t,n,r);if(e==="classList")return hF(t,n,r);if(n===r)return r;if(e==="ref")o||n(t);else if(e.slice(0,3)==="on:"){const d=e.slice(3);r&&t.removeEventListener(d,r,typeof r!="function"&&r),n&&t.addEventListener(d,n,typeof n!="function"&&n)}else if(e.slice(0,10)==="oncapture:"){const d=e.slice(10);r&&t.removeEventListener(d,r,!0),n&&t.addEventListener(d,n,!0)}else if(e.slice(0,2)==="on"){const d=e.slice(2).toLowerCase(),p=iF.has(d);if(!p&&r){const h=Array.isArray(r)?r[0]:r;t.removeEventListener(d,h)}(p||n)&&(dF(t,d,n,p),p&&cF([d]))}else if(e.slice(0,5)==="attr:")zt(t,e.slice(5),n);else if(e.slice(0,5)==="bool:")fF(t,e.slice(5),n);else if((f=e.slice(0,5)==="prop:")||(c=eF.has(e))||!i&&((u=rF(e,t.tagName))||(l=ZB.has(e)))||(a=t.nodeName.includes("-")||"is"in s))f&&(e=e.slice(5),l=!0),e==="class"||e==="className"?_C(t,n):a&&!l&&!c?t[vF(e)]=n:t[u||e]=n;else{const d=i&&e.indexOf(":")>-1&&sF[e.split(":")[0]];d?uF(t,d,e,n):zt(t,tF[e]||e,n)}return n}function mF(t){let e=t.target;const n=`$$${t.type}`,r=t.target,i=t.currentTarget,o=l=>Object.defineProperty(t,"target",{configurable:!0,value:l}),s=()=>{const l=e[n];if(l&&!e.disabled){const c=e[`${n}Data`];if(c!==void 0?l.call(e,c,t):l.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&o(e.host),!0},a=()=>{for(;s()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const l=t.composedPath();o(l[0]);for(let c=0;c<l.length-2&&(e=l[c],!!s());c++){if(e._$host){e=e._$host,a();break}if(e.parentNode===i)break}}else a();o(r)}function Q0(t,e,n,r,i){for(;typeof n=="function";)n=n();if(e===n)return n;const o=typeof e,s=r!==void 0;if(t=s&&n[0]&&n[0].parentNode||t,o==="string"||o==="number"){if(o==="number"&&(e=e.toString(),e===n))return n;if(s){let a=n[0];a&&a.nodeType===3?a.data!==e&&(a.data=e):a=document.createTextNode(e),n=Gl(t,n,r,a)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||o==="boolean")n=Gl(t,n,r);else{if(o==="function")return Pn(()=>{let a=e();for(;typeof a=="function";)a=a();n=Q0(t,a,n,r)}),()=>n;if(Array.isArray(e)){const a=[],l=n&&Array.isArray(n);if(Cy(a,e,n,i))return Pn(()=>n=Q0(t,a,n,r,!0)),()=>n;if(a.length===0){if(n=Gl(t,n,r),s)return n}else l?n.length===0?T4(t,a,r):aF(t,n,a):(n&&Gl(t),T4(t,a));n=a}else if(e.nodeType){if(Array.isArray(n)){if(s)return n=Gl(t,n,r,e);Gl(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function Cy(t,e,n,r){let i=!1;for(let o=0,s=e.length;o<s;o++){let a=e[o],l=n&&n[t.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)t.push(a);else if(Array.isArray(a))i=Cy(t,a,l)||i;else if(c==="function")if(r){for(;typeof a=="function";)a=a();i=Cy(t,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||i}else t.push(a),i=!0;else{const u=String(a);l&&l.nodeType===3&&l.data===u?t.push(l):t.push(document.createTextNode(u))}}return i}function T4(t,e,n=null){for(let r=0,i=e.length;r<i;r++)t.insertBefore(e[r],n)}function Gl(t,e,n,r){if(n===void 0)return t.textContent="";const i=r||document.createTextNode("");if(e.length){let o=!1;for(let s=e.length-1;s>=0;s--){const a=e[s];if(i!==a){const l=a.parentNode===t;!o&&!s?l?t.replaceChild(i,a):t.insertBefore(i,n):l&&a.remove()}else o=!0}}else t.insertBefore(i,n);return[i]}const yF="http://www.w3.org/2000/svg";function bF(t,e=!1){return e?document.createElementNS(yF,t):document.createElement(t)}function Fb(t){const[e,n]=Bb(t,["component"]),r=jt(()=>e.component);return jt(()=>{const i=r();switch(typeof i){case"function":return Yr(()=>i(n));case"string":const o=oF.has(i),s=bF(i,o);return EC(s,n,o),s}})}let xF={data:""},wF=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||xF,_F=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,EF=/\/\*[^]*?\*\/|  +/g,N4=/\n+/g,$a=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?$a(s,o):o+"{"+$a(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=$a(s,e?e.replace(/([^,])+/g,a=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=$a.p?$a.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ts={},CC=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+CC(t[n]);return e}return t},CF=(t,e,n,r,i)=>{let o=CC(t),s=ts[o]||(ts[o]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(o));if(!ts[s]){let l=o!==t?t:(c=>{let u,f,d=[{}];for(;u=_F.exec(c.replace(EF,""));)u[4]?d.shift():u[3]?(f=u[3].replace(N4," ").trim(),d.unshift(d[0][f]=d[0][f]||{})):d[0][u[1]]=u[2].replace(N4," ").trim();return d[0]})(t);ts[s]=$a(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&ts.g?ts.g:null;return n&&(ts.g=ts[s]),((l,c,u,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(ts[s],e,r,a),s},AF=(t,e,n)=>t.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":$a(a,""):a===!1?"":a}return r+i+(s??"")},"");function ll(t){let e=this||{},n=t.call?t(e.p):t;return CF(n.unshift?n.raw?AF(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,wF(e.target),e.g,e.o,e.k)}ll.bind({g:1});let AC=ll.bind({k:1});const Lb=Tf();function SF(t){return he(Lb.Provider,{value:t.theme,get children(){return t.children}})}function dr(){return go(Lb)}function SC(t){let e=this||{};return(...n)=>{const r=i=>{const o=go(Lb),s=ws(i,{theme:o}),a=ws(s,{get class(){const p=s.class,h="class"in s&&/^go[0-9]+/.test(p);let m=ll.apply({target:e.target,o:h,p:s,g:e.g},n);return[p,m].filter(Boolean).join(" ")}}),[l,c]=Bb(a,["as","theme"]),u=c,f=l.as||t;let d;return typeof f=="function"?d=f(u):e.g==1?(d=document.createElement(f),EC(d,u)):d=Fb(ws({component:f},u)),d};return r.class=i=>Yr(()=>ll.apply({target:e.target,p:i,g:e.g},n)),r}}const Xe=new Proxy(SC,{get(t,e){return t(e)}});function OF(){const t=SC.call({g:1},"div").apply(null,arguments);return function(n){return t(n),null}}const cs="okxc-root",Ub="okxc-disable-scroll",kv="okxc-using-mouse",DF=()=>{document.body.addEventListener("mousedown",()=>document.body.classList.add(kv)),document.body.addEventListener("keydown",e=>{e.key==="Tab"&&document.body.classList.remove(kv)});const t=OF`
    ${cs} * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        
        font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, Tahoma, Verdana, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;        
        -webkit-tap-highlight-color: transparent;
    }
    
    ${cs} img {
      -webkit-user-select: none;
      -webkit-touch-callout: none;
    }   
 
    ${cs} *:focus {
        outline: #08f auto 2px;
    }
    
    ${cs} li {
        list-style: none;
    }
    
    ${cs} button {
        outline: none;
    }
    
    body.${Ub} {
        position: fixed; 
        overflow-y: scroll;
        right: 0;
        left: 0;
    }
    
    body.${kv} ${cs} *:focus {
        outline: none;
    }
`;return he(t,{})};function RF(t){t[0]==="#"&&(t=t.slice(1));const e=parseInt(t,16),n=e>>16&255,r=e>>8&255,i=e&255;return[n,r,i].join(",")}function Nf(t,e){return t[0]==="#"&&(t=RF(t)),`rgba(${t}, ${e})`}function Bo(t){return t.toString()+"px"}const e0=class{constructor(){gn(this,"storage",{})}static getInstance(){return e0.instance||(e0.instance=new e0),e0.instance}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(t){var e;return(e=this.storage[t])!=null?e:null}key(t){var e;const n=Object.keys(this.storage);return t<0||t>=n.length?null:(e=n[t])!=null?e:null}removeItem(t){delete this.storage[t]}setItem(t,e){this.storage[t]=e}};let OC=e0;gn(OC,"instance");function da(...t){fe.logDebug(t)}function TF(...t){fe.logError(t)}function NF(...t){fe.logWarning(t)}let el={};try{let t=location.hash.toString();el=MF(t)}catch{}let qc="unknown";el!=null&&el.tgWebAppPlatform&&(qc=(b4=el.tgWebAppPlatform)!=null?b4:"unknown");if(qc==="unknown"){const t=Ss();qc=(_4=(w4=(x4=t==null?void 0:t.Telegram)==null?void 0:x4.WebApp)==null?void 0:w4.platform)!=null?_4:"unknown"}let Ay="6.0";el!=null&&el.tgWebAppVersion&&(Ay=el.tgWebAppVersion);if(!Ay){const t=Ss();Ay=(A4=(C4=(E4=t==null?void 0:t.Telegram)==null?void 0:E4.WebApp)==null?void 0:C4.version)!=null?A4:"6.0"}function t0(...t){return t.includes(qc)}function Pf(){var t;return qc!=="unknown"||!!((t=Ss())!=null&&t.TelegramWebviewProxy)}function DC(){var t;const e=!!((t=Ss())!=null&&t.TelegramWebview);return(Pf()||e)&&qc==="unknown"}function PF(){IF("web_app_expand",{})}function kF(){try{const t=Ss();return t?t.parent!=null&&t!==t.parent:!1}catch{return!1}}function IF(t,e){try{const n=Ss();if(!n)throw new bs("Can't post event to parent window: window is not defined");if(n.TelegramWebviewProxy!==void 0)da("postEvent",t,e),n.TelegramWebviewProxy.postEvent(t,JSON.stringify(e));else if(n.external&&"notify"in n.external)da("postEvent",t,e),n.external.notify(JSON.stringify({eventType:t,eventData:e}));else if(kF()){const r="*",i=JSON.stringify({eventType:t,eventData:e});da("postEvent",t,e),n.parent.postMessage(i,r)}else throw new bs("Can't post event to TMA")}catch(n){TF(`Can't post event to parent window: ${n}`)}}function MF(t){t=t.replace(/^#/,"");let e={};if(!t.length)return e;if(t.indexOf("=")<0&&t.indexOf("?")<0)return e._path=qh(t),e;let n=t.indexOf("?");if(n>=0){let i=t.substr(0,n);e._path=qh(i),t=t.substr(n+1)}let r=BF(t);for(let i in r)e[i]=r[i];return e}function qh(t){try{return t=t.replace(/\+/g,"%20"),decodeURIComponent(t)}catch{return t}}function BF(t){let e={};if(!t.length)return e;let n=t.split("&"),r,i,o,s;for(r=0;r<n.length;r++)i=n[r].split("="),o=qh(i[0]),s=i[1]==null?null:qh(i[1]),e[o]=s;return e}const Va={mobile:440,tablet:1020};function Ja(t){var e;const n=Ss();if(!n)return t==="desktop";if(t0("weba"))return!0;const r=n.innerWidth;switch(t){case"desktop":return r>Va.tablet;case"tablet":return r>Va.mobile;default:case"mobile":let i=r<=Va.mobile||ds("ios","android","ipad");if(i){const o=!!((e=Ss())!=null&&e.TelegramWebviewProxy),s=navigator.maxTouchPoints||0;o&&s===0&&(i=!1),fe.logDebug("isDevice mobile isTelegram and maxTouchPoints:",i,o,s)}return i}}function ks(t){switch(t){case"mobile":return`@media (max-width: ${Va.mobile}px)`;case"tablet":return`@media (max-width: ${Va.tablet}px) (min-width: ${Va.mobile}px)`;default:case"desktop":return`@media (min-width: ${Va.tablet}px)`}}const p1="@media (hover: none)",g1="@media not all and (hover: none)",[ga,FF]=an(Ja("mobile")),Sy=()=>FF(Ja("mobile"));Ss()&&(window.addEventListener("resize",()=>Sy()),window.addEventListener("load",()=>Sy(),{once:!0}));function RC(t,e){return e?t.name.toLowerCase()===e.toLowerCase()||t.appName.toLowerCase()===e.toLowerCase():!1}function $b(){return DC()||Pf()}const LF=[fe.NameSpaceKeySui,fe.NameSpaceKeySOL,fe.NameSpaceKeyEip155,fe.NameSpaceKeyTON,fe.NameSpaceKeyBtc,fe.NameSpaceKeyAptos,fe.NameSpaceKeyTron,fe.NameSpaceKeyStarknet,fe.NameSpaceKeyCosmos];function TC(t,e){return $b()?Oy(t)&&Oy(e):!1}function UF(t){return $b()?Oy(t):!1}function Oy(t){try{return t?Object.keys(t).every(n=>LF.includes(n)):!0}catch{return!1}}function $F(t,e){return TC(t,e)?!1:ga()}function jb(t){return t?t.name===fe.creatOKXWalletInfo().name:!1}function jF(t,e,n){fe.logDebug("wallets openUniversalWallet"),UF(n)&&KF(t,e)}function KF(t,e){fe.logDebug("wallets openWallet"),t&&(jb(t)?(fe.logDebug(`wallets openWallet openOKXDeeplinkWithFallback ${t.universalLink}`),fe.openOKXDeeplink(t.deepLink)):(fe.logDebug(`wallets openWallet openOKXTMAWalletlinkWithFallback ${t.universalLink}`),fe.openOKXTMAWalletlinkWithFallback(fe.getTelegramWalletTWAUrl(void 0,e))))}function WF(t,e){return jb(t)?ga()&&e!=="qrcode":!0}function Dy(t,e="_self"){da("web-api  openLink",t,e),window.open(t,e,"noopener noreferrer")}function Pi(t){Dy(t,"_blank")}function n0(t,e){da(`web-api openDeeplinkWithFallback ${t}`);const n=()=>{On("safari")||ds("android")&&On("firefox")||e()},r=setTimeout(()=>n(),3e3);window.addEventListener("blur",()=>clearTimeout(r),{once:!0}),ds("android")&&$b()?Dy(t,"_blank"):Dy(t,"_self")}function HF(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?Xr.LIGHT:Xr.DARK}function XF(t){const e=n=>t(n.matches?Xr.DARK:Xr.LIGHT);return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e),()=>window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",e)}function zF(){document.documentElement.scrollHeight!==document.documentElement.clientHeight&&(document.body.style.top=Bo(-document.documentElement.scrollTop),document.body.classList.add(Ub))}function qF(){document.body.classList.remove(Ub),document.documentElement.scrollTo({top:-parseFloat(getComputedStyle(document.body).top)}),document.body.style.top="auto"}function VF(){document.body.hasAttribute("ontouchstart")||document.body.setAttribute("ontouchstart","")}function JF(){document.body.getElementsByTagName(cs)||customElements.define(cs,class extends HTMLElement{})}function GF(t){return si(this,null,function*(){yield new Promise(e=>requestAnimationFrame(e)),t()})}function Ss(){if(typeof window<"u")return window}function QF(){if(YF())return localStorage;if(ZF())throw new bs("`localStorage` is unavailable, but it is required for TonConnect");return OC.getInstance()}function YF(){try{return typeof localStorage<"u"}catch{return!1}}function ZF(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}function Kb(){var t,e,n;const r=new GT().getResult(),i=(t=r.os.name)==null?void 0:t.toLowerCase(),o=(e=r.device.model)==null?void 0:e.toLowerCase();let s;switch(!0){case o==="ipad":s="ipad";break;case i==="ios":s="ios";break;case i==="android":s="android";break;case i==="mac os":s="macos";break;case i==="linux":s="linux";break;case(i==null?void 0:i.includes("windows")):s="windows";break}const a=(n=r.browser.name)==null?void 0:n.toLowerCase();let l;switch(!0){case a==="chrome":l="chrome";break;case a==="firefox":l="firefox";break;case(a==null?void 0:a.includes("safari")):l="safari";break;case(a==null?void 0:a.includes("opera")):l="opera";break}return{os:s,browser:l}}function ds(...t){return t.includes(Kb().os)}function On(...t){return t.includes(Kb().browser)}function Rd(t,e){const n=new URL(t);return e+n.search}class Wb{constructor(){gn(this,"localStorage"),gn(this,"storageKey","okx_wallet_connect_ui_last-selected-wallet-info"),this.localStorage=QF()}setLastSelectedWalletInfo(e){this.localStorage.setItem(this.storageKey,JSON.stringify(e))}getLastSelectedWalletInfo(){const e=this.localStorage.getItem(this.storageKey);return e?JSON.parse(e):null}removeLastSelectedWalletInfo(){this.localStorage.removeItem(this.storageKey)}}const[eL,RZ]=an({status:"closed",closeReason:null});jt(()=>eL().status==="opened");const[NC,TZ]=an({status:"closed",closeReason:null});jt(()=>NC().status==="opened");jt(()=>{const t=NC();return t.status==="opened"?t.walletInfo:null});let P4=typeof window<"u"?new Wb:void 0;an((P4==null?void 0:P4.getLastSelectedWalletInfo())||null);an(null);const tL=Xe.div`
    background-color: ${t=>t.theme.colors.background.secondary};
`,kf=t=>{let e;const[n,r]=an(null);return Si(()=>{const i=new window.Image;return i.src=t.src,i.alt=t.alt||"",i.setAttribute("draggable","false"),t.class&&i.classList.add(t.class),i.complete?r(i):(i.addEventListener("load",()=>r(i)),()=>i.removeEventListener("load",()=>r(i)))}),[he(sn,{get when(){return n()},get children(){return n()}}),he(sn,{get when(){return!n()},get children(){return he(tL,{get class(){return t.class},ref(i){var o=e;typeof o=="function"?o(i):e=i}})}})]},nL={m:"100vh",s:"8px",none:"0"},Iv={s:.02,m:.04},rL=Xe.button`
    display: ${t=>t.leftIcon||t.rightIcon?"flex":"inline-block"};
    gap: ${t=>t.leftIcon||t.rightIcon?"6px":"unset"};
    align-items: ${t=>t.leftIcon||t.rightIcon?"center":"unset"};
    justify-content: ${t=>t.leftIcon||t.rightIcon?"space-between":"unset"};
    background-color: ${t=>t.appearance==="flat"?"transparent":t.appearance==="secondary"?t.theme.colors.background.tint:Nf(t.theme.colors.accent,.12)};
    color: ${t=>t.appearance==="secondary"?t.theme.colors.text.primary:t.theme.colors.accent};

    padding: ${t=>t.appearance==="flat"?"0":"9px 16px"};
    padding-left: ${t=>t.leftIcon&&t.appearance!=="flat"?"12px":"16px"};
    padding-right: ${t=>t.rightIcon&&t.appearance!=="flat"?"12px":"16px"};
    border: none;
    border-radius: ${t=>nL[t.theme.borderRadius]};
    cursor: ${t=>t.disabled?"not-allowed":"pointer"};

    font-size: 14px;
    font-weight: 510;
    line-height: 18px;

    transition: transform 0.125s ease-in-out;

    ${g1} {
        &:hover {
            transform: ${t=>t.disabled?"unset":`scale(${1+Iv[t.scale]})`};
        }
    }

    &:active {
        transform: ${t=>t.disabled?"unset":`scale(${1-Iv[t.scale]})`};
    }

    ${p1} {
        &:active {
            transform: ${t=>t.disabled?"unset":`scale(${1-Iv[t.scale]*2})`};
        }
    }
`;function v1(t){const e=Yr(()=>Object.keys(t).filter(r=>r.startsWith("data-"))),[n]=Bb(t,e);return n}const If=t=>{const e=v1(t);return he(rL,ws({get appearance(){return t.appearance||"primary"},get class(){return t.class},onClick:n=>{var r;return(r=t.onClick)==null?void 0:r.call(t,n)},onMouseEnter:n=>{var r;return(r=t.onMouseEnter)==null?void 0:r.call(t,n)},onMouseLeave:n=>{var r;return(r=t.onMouseLeave)==null?void 0:r.call(t,n)},ref(n){var r=t.ref;typeof r=="function"?r(n):t.ref=n},get disabled(){return t.disabled},get scale(){return t.scale||"m"},get leftIcon(){return!!t.leftIcon},get rightIcon(){return!!t.rightIcon},"data-tc-button":"true"},e,{get children(){return[jt(()=>t.leftIcon),jt(()=>t.children),jt(()=>t.rightIcon)]}}))};function k4(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}const PC=t=>{let e,n=!0;const[r,i]=an(),[o,s]=an(),a=Mb(()=>t.children),{onBeforeEnter:l,onEnter:c,onAfterEnter:u,onBeforeExit:f,onExit:d,onAfterExit:p}=t,h=jt(()=>{const x=t.name||"s";return{enterActiveClass:t.enterActiveClass||x+"-enter-active",enterClass:t.enterClass||x+"-enter",enterToClass:t.enterToClass||x+"-enter-to",exitActiveClass:t.exitActiveClass||x+"-exit-active",exitClass:t.exitClass||x+"-exit",exitToClass:t.exitToClass||x+"-exit-to"}});function m(x,y){if(!n||t.appear){let b=function(R){x&&(!R||R.target===x)&&(x.removeEventListener("transitionend",b),x.removeEventListener("animationend",b),x.classList.remove(...O),x.classList.remove(...N),hC(()=>{r()!==x&&i(x),o()===x&&s(void 0)}),u&&u(x),t.mode==="inout"&&w(x,y))};const E=h().enterClass.split(" "),O=h().enterActiveClass.split(" "),N=h().enterToClass.split(" ");l&&l(x),x.classList.add(...E),x.classList.add(...O),k4(()=>{x.classList.remove(...E),x.classList.add(...N),c&&c(x,()=>b()),(!c||c.length<2)&&(x.addEventListener("transitionend",b),x.addEventListener("animationend",b))})}y&&!t.mode?s(x):i(x)}function w(x,y){const b=h().exitClass.split(" "),E=h().exitActiveClass.split(" "),O=h().exitToClass.split(" ");if(!y.parentNode)return N();f&&f(y),y.classList.add(...b),y.classList.add(...E),k4(()=>{y.classList.remove(...b),y.classList.add(...O)}),d&&d(y,()=>N()),(!d||d.length<2)&&(y.addEventListener("transitionend",N),y.addEventListener("animationend",N));function N(R){(!R||R.target===y)&&(y.removeEventListener("transitionend",N),y.removeEventListener("animationend",N),y.classList.remove(...E),y.classList.remove(...O),r()===y&&i(void 0),p&&p(y),t.mode==="outin"&&m(x,y))}}return XB(x=>{for(e=a();typeof e=="function";)e=e();return Yr(()=>(e&&e!==x&&(t.mode!=="outin"?m(e,x):n&&i(e)),x&&x!==e&&t.mode!=="inout"&&w(e,x),n=!1,e))}),[r,o]};function iL(t,e){const n=r=>{var i;return!t.contains(r.target)&&((i=e())==null?void 0:i())};document.body.addEventListener("click",n),Ib(()=>document.body.removeEventListener("click",n))}function oL(t,e){const n=r=>{var i,o;r.key==="Escape"&&((i=document.activeElement)==null||i.blur(),(o=e())==null||o())};document.body.addEventListener("keydown",n),Ib(()=>document.body.removeEventListener("keydown",n))}function sL(t,e){const{isEnabled:n,onClose:r}=e();if(!n||!(Kb().os==="android"))return;window.history.pushState(aL,"");const o=s=>{s.preventDefault(),r()};window.addEventListener("popstate",o,{once:!0}),Ib(()=>{window.removeEventListener("popstate",o),GF(()=>{var s;((s=window.history.state)==null?void 0:s[kC])===!0&&window.history.back()})})}const kC="androidBackHandler",aL={[kC]:!0};var lL=Wn('<svg><path fill-rule=evenodd clip-rule=evenodd d="M10.2122 14.3407C10.5384 14.0854 10.5959 13.614 10.3406 13.2878L6.20237 8.00003L10.3406 2.71227C10.5959 2.38607 10.5384 1.91469 10.2122 1.6594C9.88604 1.40412 9.41465 1.46161 9.15937 1.7878L4.65937 7.5378C4.44688 7.80932 4.44688 8.19074 4.65937 8.46226L9.15937 14.2123C9.41465 14.5385 9.88604 14.5959 10.2122 14.3407Z"></svg>',!1,!0);const cL={left:0,top:90,right:180,bottom:270},IC=t=>{const e=dr(),n=()=>t.fill||e.colors.icon.secondary,r=()=>t.direction||"left",i=Xe("svg")`
        transform: rotate(${o=>cL[o.svgDirection]}deg);
        transition: transform 0.1s ease-in-out;
    `;return he(i,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",get svgDirection(){return r()},get children(){var o=lL();return Pn(()=>zt(o,"fill",n())),o}})};var uL=Wn('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M18.5303 6.53033C18.8232 6.23744 18.8232 5.76256 18.5303 5.46967C18.2374 5.17678 17.7626 5.17678 17.4697 5.46967L12 10.9393L6.53033 5.46967C6.23744 5.17678 5.76256 5.17678 5.46967 5.46967C5.17678 5.76256 5.17678 6.23744 5.46967 6.53033L10.9393 12L5.46967 17.4697C5.17678 17.7626 5.17678 18.2374 5.46967 18.5303C5.76256 18.8232 6.23744 18.8232 6.53033 18.5303L12 13.0607L17.4697 18.5303C17.7626 18.8232 18.2374 18.8232 18.5303 18.5303C18.8232 18.2374 18.8232 17.7626 18.5303 17.4697L13.0607 12L18.5303 6.53033Z">');const fL=t=>{const e=dr();da(`CloseIcon  ${e}`);const n=()=>t.fill||e.colors.icon.secondary;return(()=>{var r=uL(),i=r.firstChild;return Pn(()=>zt(i,"fill",n())),r})()};var dL=Wn('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><g clip-path=url(#clip0_3783_2045)><circle cx=8 cy=8.00098 r=8></circle><path d="M4.75 8.50098L7 10.751L11.75 6.00098"stroke-width=1.5 stroke-linecap=round stroke-linejoin=round></path></g><defs><clipPath id=clip0_3783_2045><rect width=16 height=16 fill=white transform="translate(0 0.000976562)">'),hL=Wn('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=11></circle><path d="M17.1364 9.6364C17.4879 9.28493 17.4879 8.71508 17.1364 8.36361C16.7849 8.01214 16.2151 8.01214 15.8636 8.36361L10 14.2272L8.1364 12.3636C7.78493 12.0121 7.21508 12.0121 6.86361 12.3636C6.51214 12.7151 6.51214 13.2849 6.86361 13.6364L9.36361 16.1364C9.71508 16.4879 10.2849 16.4879 10.6364 16.1364L17.1364 9.6364Z">'),pL=Wn('<svg width=72 height=72 viewBox="0 0 72 72"fill=none xmlns=http://www.w3.org/2000/svg><circle cx=36 cy=36 r=33></circle><path d="M50.9142 28.4142C51.6953 27.6332 51.6953 26.3668 50.9142 25.5858C50.1332 24.8047 48.8668 24.8047 48.0858 25.5858L30 43.6716L23.9142 37.5858C23.1332 36.8047 21.8668 36.8047 21.0858 37.5858C20.3047 38.3668 20.3047 39.6332 21.0858 40.4142L28.5858 47.9142C29.3668 48.6953 30.6332 48.6953 31.4142 47.9142L50.9142 28.4142Z">');const gL=t=>{const e=dr(),n=()=>t.size||"s",r=()=>t.fill||e.colors.icon.success;return jt(()=>jt(()=>n()==="xs")()?(()=>{var i=dL(),o=i.firstChild,s=o.firstChild,a=s.nextSibling;return Pn(l=>{var c=t.class,u=r(),f=e.colors.constant.white;return c!==l.e&&zt(i,"class",l.e=c),u!==l.t&&zt(s,"fill",l.t=u),f!==l.a&&zt(a,"stroke",l.a=f),l},{e:void 0,t:void 0,a:void 0}),i})():jt(()=>n()==="s")()?(()=>{var i=hL(),o=i.firstChild,s=o.nextSibling;return Pn(a=>{var l=t.class,c=r(),u=e.colors.constant.white;return l!==a.e&&zt(i,"class",a.e=l),c!==a.t&&zt(o,"fill",a.t=c),u!==a.a&&zt(s,"fill",a.a=u),a},{e:void 0,t:void 0,a:void 0}),i})():(()=>{var i=pL(),o=i.firstChild,s=o.nextSibling;return Pn(a=>{var l=t.class,c=r(),u=e.colors.constant.white;return l!==a.e&&zt(i,"class",a.e=l),c!==a.t&&zt(o,"fill",a.t=c),u!==a.a&&zt(s,"fill",a.a=u),a},{e:void 0,t:void 0,a:void 0}),i})())};var vL=Wn('<svg xmlns=http://www.w3.org/2000/svg width=103 height=102 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>'),mL=Wn('<svg xmlns=http://www.w3.org/2000/svg width=72 height=72 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>'),yL=Wn('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 103 102"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M51.5 14.8747C31.5487 14.8747 15.375 31.0485 15.375 50.9997C15.375 70.951 31.5487 87.1247 51.5 87.1247C71.4513 87.1247 87.625 70.951 87.625 50.9997C87.625 31.0485 71.4513 14.8747 51.5 14.8747ZM9 50.9997C9 27.5276 28.0279 8.49974 51.5 8.49974C74.9721 8.49974 94 27.5276 94 50.9997C94 74.4718 74.9721 93.4997 51.5 93.4997C28.0279 93.4997 9 74.4718 9 50.9997ZM65.0234 37.4765C66.2682 38.7213 66.2682 40.7395 65.0234 41.9843L56.0078 50.9999L65.0234 60.0155C66.2682 61.2603 66.2682 63.2785 65.0234 64.5233C63.7786 65.7681 61.7604 65.7681 60.5156 64.5233L51.5 55.5077L42.4844 64.5233C41.2396 65.7681 39.2214 65.7681 37.9766 64.5233C36.7318 63.2785 36.7318 61.2603 37.9766 60.0155L46.9922 50.9999L37.9766 41.9843C36.7318 40.7395 36.7318 38.7213 37.9766 37.4765C39.2214 36.2317 41.2396 36.2317 42.4844 37.4765L51.5 46.4921L60.5156 37.4765C61.7604 36.2317 63.7787 36.2317 65.0234 37.4765Z"fill=#909090>');const MC=t=>{dr();const e=()=>t.size||"m";return jt(()=>jt(()=>e()==="m")()?vL():jt(()=>e()==="s")()?mL():yL())};var bL=Wn('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path d="M15.55 5.85123C18.9459 7.81184 20.1094 12.1541 18.1488 15.55C16.1882 18.9459 11.8459 20.1094 8.44998 18.1488C8.01952 17.9003 7.46909 18.0478 7.22056 18.4782C6.97203 18.9087 7.11952 19.4591 7.54998 19.7076C11.8068 22.1653 17.2499 20.7068 19.7076 16.45C22.1653 12.1932 20.7068 6.75005 16.45 4.29239C12.1932 1.83472 6.75003 3.29321 4.29236 7.55001C4.04383 7.98047 4.19132 8.53091 4.62178 8.77943C5.05224 9.02796 5.60268 8.88048 5.8512 8.45001C7.81181 5.05413 12.1541 3.89062 15.55 5.85123Z">'),xL=Wn('<svg xmlns=http://www.w3.org/2000/svg width=44 height=44 viewBox="0 0 44 44"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M22 2.99951C11.5066 2.99951 3 11.5061 3 21.9995C3 32.4929 11.5066 40.9995 22 40.9995C22.8284 40.9995 23.5 41.6711 23.5 42.4995C23.5 43.3279 22.8284 43.9995 22 43.9995C9.84974 43.9995 0 34.1498 0 21.9995C0 9.84925 9.84974 -0.000488281 22 -0.000488281C34.1503 -0.000488281 44 9.84925 44 21.9995C44 22.8279 43.3284 23.4995 42.5 23.4995C41.6716 23.4995 41 22.8279 41 21.9995C41 11.5061 32.4934 2.99951 22 2.99951Z">'),wL=Wn('<svg width=72 height=72 viewBox="0 0 72 72"fill=none xmlns=http://www.w3.org/2000/svg><path d="M24 56.7846C35.479 63.412 50.1572 59.479 56.7846 47.9999C63.412 36.5209 59.479 21.8427 48 15.2153C36.521 8.58791 21.8428 12.5209 15.2154 23.9999"stroke-width=4 stroke-linecap=round stroke-linejoin=round>');const BC=t=>{const e=dr(),n=()=>t.size||"xs",r=()=>t.fill||e.colors.icon.tertiary,i=AC`
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
    `,o=ll`
        animation: ${i} 1s linear infinite;
    `;return jt(()=>jt(()=>n()==="xs")()?(()=>{var s=bL(),a=s.firstChild;return Pn(l=>{var c=nh(o,t.class),u=r();return c!==l.e&&zt(s,"class",l.e=c),u!==l.t&&zt(a,"fill",l.t=u),l},{e:void 0,t:void 0}),s})():jt(()=>n()==="s")()?(()=>{var s=xL(),a=s.firstChild;return Pn(l=>{var c=nh(o,t.class),u=r();return c!==l.e&&zt(s,"class",l.e=c),u!==l.t&&zt(a,"fill",l.t=u),l},{e:void 0,t:void 0}),s})():(()=>{var s=wL(),a=s.firstChild;return Pn(l=>{var c=nh(o,t.class),u=r();return c!==l.e&&zt(s,"class",l.e=c),u!==l.t&&zt(a,"stroke",l.t=u),l},{e:void 0,t:void 0}),s})())};var _L=Wn('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M5.56608 4.42584C5.82527 3.32158 6.8176 2.5 8.00001 2.5C9.38072 2.5 10.5 3.61929 10.5 5C10.5 5.63026 10.3391 6.0386 10.1264 6.34455C9.90018 6.66993 9.58561 6.92478 9.18864 7.20877C9.12579 7.25372 9.05873 7.30025 8.9887 7.34883C8.27392 7.84472 7.25001 8.55507 7.25001 10V10.25C7.25001 10.6642 7.5858 11 8.00001 11C8.41422 11 8.75001 10.6642 8.75001 10.25V10C8.75001 9.36502 9.10777 9.1096 9.94554 8.51149L10.0614 8.42873C10.4769 8.13147 10.9748 7.75194 11.358 7.20076C11.7547 6.63015 12 5.91973 12 5C12 2.79086 10.2091 1 8.00001 1C6.10564 1 4.5205 2.31615 4.10577 4.08308C4.01112 4.48634 4.26129 4.88997 4.66454 4.98462C5.0678 5.07927 5.47143 4.8291 5.56608 4.42584ZM8.00001 15C8.60752 15 9.10001 14.5075 9.10001 13.9C9.10001 13.2925 8.60752 12.8 8.00001 12.8C7.39249 12.8 6.90001 13.2925 6.90001 13.9C6.90001 14.5075 7.39249 15 8.00001 15Z">');const EL=t=>{const e=dr(),n=()=>t.fill||e.colors.icon.secondary;return(()=>{var r=_L(),i=r.firstChild;return Pn(()=>zt(i,"fill",n())),r})()};var CL=Wn('<svg xmlns=http://www.w3.org/2000/svg width=16 height=16 viewBox="0 0 16 16"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M3.56176 1.87482C3.8379 1.87482 4.06176 2.09867 4.06176 2.37482V3.69674C5.09916 2.7469 6.48174 2.16666 7.99996 2.16666C11.2216 2.16666 13.8333 4.77834 13.8333 8C13.8333 11.2217 11.2216 13.8333 7.99996 13.8333C4.7783 13.8333 2.16663 11.2217 2.16663 8C2.16663 7.72385 2.39048 7.5 2.66663 7.5C2.94277 7.5 3.16663 7.72385 3.16663 8C3.16663 10.6694 5.33058 12.8333 7.99996 12.8333C10.6693 12.8333 12.8333 10.6694 12.8333 8C12.8333 5.33062 10.6693 3.16666 7.99996 3.16666C6.68645 3.16666 5.49513 3.69037 4.62354 4.54148H6.22843C6.50457 4.54148 6.72843 4.76534 6.72843 5.04148C6.72843 5.31763 6.50457 5.54148 6.22843 5.54148H3.56176C3.28562 5.54148 3.06176 5.31763 3.06176 5.04148V2.37482C3.06176 2.09867 3.28562 1.87482 3.56176 1.87482Z">');const AL=t=>{const e=dr();return(()=>{var n=CL(),r=n.firstChild;return Pn(()=>zt(r,"fill",e.colors.text.primary)),n})()};var SL=Wn('<svg xmlns=http://www.w3.org/2000/svg width=16 height=17 viewBox="0 0 16 17"fill=none><path fill-rule=evenodd clip-rule=evenodd d="M1 4.12695C1 3.07754 1 2.55284 1.19202 2.14684C1.38986 1.72856 1.7266 1.39181 2.14489 1.19397C2.55088 1.00195 3.07559 1.00195 4.125 1.00195C5.17441 1.00195 5.69912 1.00195 6.10511 1.19397C6.5234 1.39181 6.86014 1.72856 7.05798 2.14684C7.25 2.55284 7.25 3.07754 7.25 4.12695C7.25 5.17636 7.25 5.70107 7.05798 6.10706C6.86014 6.52535 6.5234 6.8621 6.10511 7.05993C5.69912 7.25195 5.17441 7.25195 4.125 7.25195C3.07559 7.25195 2.55088 7.25195 2.14489 7.05993C1.7266 6.8621 1.38986 6.52535 1.19202 6.10706C1 5.70107 1 5.17636 1 4.12695ZM2.5 3.30195C2.5 3.02193 2.5 2.88191 2.5545 2.77496C2.60243 2.68088 2.67892 2.60439 2.773 2.55645C2.87996 2.50195 3.01997 2.50195 3.3 2.50195H4.95C5.23003 2.50195 5.37004 2.50195 5.477 2.55645C5.57108 2.60439 5.64757 2.68088 5.6955 2.77496C5.75 2.88191 5.75 3.02193 5.75 3.30195V4.95195C5.75 5.23198 5.75 5.37199 5.6955 5.47895C5.64757 5.57303 5.57108 5.64952 5.477 5.69746C5.37004 5.75195 5.23003 5.75195 4.95 5.75195H3.3C3.01997 5.75195 2.87996 5.75195 2.773 5.69746C2.67892 5.64952 2.60243 5.57303 2.5545 5.47895C2.5 5.37199 2.5 5.23198 2.5 4.95195V3.30195ZM1 11.877C1 10.8275 1 10.3028 1.19202 9.89684C1.38986 9.47856 1.7266 9.14181 2.14489 8.94397C2.55088 8.75195 3.07559 8.75195 4.125 8.75195C5.17441 8.75195 5.69912 8.75195 6.10511 8.94397C6.5234 9.14181 6.86014 9.47856 7.05798 9.89684C7.25 10.3028 7.25 10.8275 7.25 11.877C7.25 12.9264 7.25 13.4511 7.05798 13.8571C6.86014 14.2753 6.5234 14.6121 6.10511 14.8099C5.69912 15.002 5.17441 15.002 4.125 15.002C3.07559 15.002 2.55088 15.002 2.14489 14.8099C1.7266 14.6121 1.38986 14.2753 1.19202 13.8571C1 13.4511 1 12.9264 1 11.877ZM2.5 11.052C2.5 10.7719 2.5 10.6319 2.5545 10.525C2.60243 10.4309 2.67892 10.3544 2.773 10.3064C2.87996 10.252 3.01997 10.252 3.3 10.252H4.95C5.23003 10.252 5.37004 10.252 5.477 10.3064C5.57108 10.3544 5.64757 10.4309 5.6955 10.525C5.75 10.6319 5.75 10.7719 5.75 11.052V12.702C5.75 12.982 5.75 13.122 5.6955 13.2289C5.64757 13.323 5.57108 13.3995 5.477 13.4475C5.37004 13.502 5.23003 13.502 4.95 13.502H3.3C3.01997 13.502 2.87996 13.502 2.773 13.4475C2.67892 13.3995 2.60243 13.323 2.5545 13.2289C2.5 13.122 2.5 12.982 2.5 12.702V11.052ZM8.94202 2.14684C8.75 2.55284 8.75 3.07754 8.75 4.12695C8.75 5.17636 8.75 5.70107 8.94202 6.10706C9.13986 6.52535 9.4766 6.8621 9.89489 7.05993C10.3009 7.25195 10.8256 7.25195 11.875 7.25195C12.9244 7.25195 13.4491 7.25195 13.8551 7.05993C14.2734 6.8621 14.6101 6.52535 14.808 6.10706C15 5.70107 15 5.17636 15 4.12695C15 3.07754 15 2.55284 14.808 2.14684C14.6101 1.72856 14.2734 1.39181 13.8551 1.19397C13.4491 1.00195 12.9244 1.00195 11.875 1.00195C10.8256 1.00195 10.3009 1.00195 9.89489 1.19397C9.4766 1.39181 9.13986 1.72856 8.94202 2.14684ZM10.3045 2.77496C10.25 2.88191 10.25 3.02193 10.25 3.30195V4.95195C10.25 5.23198 10.25 5.37199 10.3045 5.47895C10.3524 5.57303 10.4289 5.64952 10.523 5.69746C10.63 5.75195 10.77 5.75195 11.05 5.75195H12.7C12.98 5.75195 13.12 5.75195 13.227 5.69746C13.3211 5.64952 13.3976 5.57303 13.4455 5.47895C13.5 5.37199 13.5 5.23198 13.5 4.95195V3.30195C13.5 3.02193 13.5 2.88191 13.4455 2.77496C13.3976 2.68088 13.3211 2.60439 13.227 2.55645C13.12 2.50195 12.98 2.50195 12.7 2.50195H11.05C10.77 2.50195 10.63 2.50195 10.523 2.55645C10.4289 2.60439 10.3524 2.68088 10.3045 2.77496ZM8.80727 9.13518C8.75 9.26242 8.75 9.4256 8.75 9.75195C8.75 10.0783 8.75 10.2415 8.80727 10.3687C8.87245 10.5136 8.9884 10.6295 9.13323 10.6947C9.26047 10.752 9.42365 10.752 9.75 10.752C10.0764 10.752 10.2395 10.752 10.3668 10.6947C10.5116 10.6295 10.6276 10.5136 10.6927 10.3687C10.75 10.2415 10.75 10.0783 10.75 9.75195C10.75 9.4256 10.75 9.26242 10.6927 9.13518C10.6276 8.99035 10.5116 8.8744 10.3668 8.80922C10.2395 8.75195 10.0764 8.75195 9.75 8.75195C9.42365 8.75195 9.26047 8.75195 9.13323 8.80922C8.9884 8.8744 8.87245 8.99035 8.80727 9.13518ZM10.87 11.8771C10.87 11.546 10.87 11.3805 10.9289 11.2517C10.9938 11.1098 11.1077 10.9959 11.2497 10.931C11.3784 10.8721 11.5439 10.8721 11.875 10.8721C12.2061 10.8721 12.3716 10.8721 12.5003 10.931C12.6423 10.9959 12.7562 11.1098 12.8211 11.2517C12.88 11.3805 12.88 11.546 12.88 11.8771C12.88 12.2081 12.88 12.3737 12.8211 12.5024C12.7562 12.6444 12.6423 12.7583 12.5003 12.8232C12.3716 12.8821 12.2061 12.8821 11.875 12.8821C11.5439 12.8821 11.3784 12.8821 11.2497 12.8232C11.1077 12.7583 10.9938 12.6444 10.9289 12.5024C10.87 12.3737 10.87 12.2081 10.87 11.8771ZM8.80727 13.3852C8.75 13.5124 8.75 13.6756 8.75 14.002C8.75 14.3283 8.75 14.4915 8.80727 14.6187C8.87245 14.7636 8.9884 14.8795 9.13323 14.9447C9.26047 15.002 9.42365 15.002 9.75 15.002C10.0764 15.002 10.2395 15.002 10.3668 14.9447C10.5116 14.8795 10.6276 14.7636 10.6927 14.6187C10.75 14.4915 10.75 14.3283 10.75 14.002C10.75 13.6756 10.75 13.5124 10.6927 13.3852C10.6276 13.2404 10.5116 13.1244 10.3668 13.0592C10.2395 13.002 10.0764 13.002 9.75 13.002C9.42365 13.002 9.26047 13.002 9.13323 13.0592C8.9884 13.1244 8.87245 13.2404 8.80727 13.3852ZM13 9.75195C13 9.4256 13 9.26242 13.0573 9.13518C13.1224 8.99035 13.2384 8.8744 13.3832 8.80922C13.5105 8.75195 13.6736 8.75195 14 8.75195C14.3264 8.75195 14.4895 8.75195 14.6168 8.80922C14.7616 8.8744 14.8776 8.99035 14.9427 9.13518C15 9.26242 15 9.4256 15 9.75195C15 10.0783 15 10.2415 14.9427 10.3687C14.8776 10.5136 14.7616 10.6295 14.6168 10.6947C14.4895 10.752 14.3264 10.752 14 10.752C13.6736 10.752 13.5105 10.752 13.3832 10.6947C13.2384 10.6295 13.1224 10.5136 13.0573 10.3687C13 10.2415 13 10.0783 13 9.75195ZM13.0573 13.3852C13 13.5124 13 13.6756 13 14.002C13 14.3283 13 14.4915 13.0573 14.6187C13.1224 14.7636 13.2384 14.8795 13.3832 14.9447C13.5105 15.002 13.6736 15.002 14 15.002C14.3264 15.002 14.4895 15.002 14.6168 14.9447C14.7616 14.8795 14.8776 14.7636 14.9427 14.6187C15 14.4915 15 14.3283 15 14.002C15 13.6756 15 13.5124 14.9427 13.3852C14.8776 13.2404 14.7616 13.1244 14.6168 13.0592C14.4895 13.002 14.3264 13.002 14 13.002C13.6736 13.002 13.5105 13.002 13.3832 13.0592C13.2384 13.1244 13.1224 13.2404 13.0573 13.3852Z">');const OL=t=>{const e=dr(),n=()=>t.fill||e.colors.icon.secondary;return(()=>{var r=SL(),i=r.firstChild;return Pn(()=>zt(i,"fill",n())),r})()},DL=Xe.button`
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background-color: transparent;
    border: none;
    cursor: pointer;

    transition: transform 0.125s ease-in-out;

    ${g1} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${p1} {
        &:active {
            transform: scale(0.92);
        }
    }
`,Hb=t=>{const e=v1(t),n=()=>t.icon||"close";return he(DL,ws({get class(){return t.class},onClick:()=>t.onClick(),"data-tc-icon-button":"true"},e,{get children(){return[he(sn,{get when(){return!!t.children},get children(){return t.children}}),he(sn,{get when(){return!t.children},get children(){return he(wC,{get children(){return[he(qa,{get when(){return n()==="close"},get children(){return he(fL,{get fill(){return t.fill}})}}),he(qa,{get when(){return n()==="arrow"},get children(){return he(IC,{get fill(){return t.fill}})}}),he(qa,{get when(){return n()==="question"},get children(){return he(EL,{get fill(){return t.fill}})}}),he(qa,{get when(){return typeof n()!="string"},get children(){return n()}})]}})}})]}}))},Rc={m:"24px",s:"16px",none:"0"},RL=Xe.div`
  display: flex;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
  padding: 20px 0;
  overflow-y: auto;

  ${ks("mobile")} {
    padding-bottom: 0;
  }
`,TL=ll`
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 16px 64px rgba(0, 0, 0, 0.16);
  width: fit-content;
  margin: auto;

  ${ks("mobile")} {
    width: 100%;
    height: fit-content;
    margin: auto 0 0 0;
  }
`,NL=Xe.div`
  position: relative;
  min-height: 100px;
  width: 416px;
  padding: 44px 56px 24px;

  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.04);

  background-color: ${t=>t.theme.colors.background.primary};
  border-radius: ${t=>Rc[t.theme.borderRadius]};

  ${ks("mobile")} {
    width: 100%;
    border-radius: 24px 24px 0px 0px;
  }
`,PL=Xe(Hb)`
  position: absolute;
  right: 16px;
  top: 12px;
`;Xe.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 16px 16px 18px;
  border-radius: 0 0 ${t=>Rc[t.theme.borderRadius]}
    ${t=>Rc[t.theme.borderRadius]};
`;Xe(Hb)`
  background-color: ${t=>Nf(t.theme.colors.icon.secondary,.12)};
`;class kL{constructor(){gn(this,"currentTime",0)}}const r0=class{constructor(){gn(this,"currentTime",0),gn(this,"playbackRate",1),gn(this,"startTime",null),gn(this,"timeline",new kL),gn(this,"finished",Promise.resolve(this)),gn(this,"effect",null),gn(this,"id",""),gn(this,"pending",!1),gn(this,"playState","finished"),gn(this,"replaceState","active"),gn(this,"ready",Promise.resolve(this)),gn(this,"oncancel",null),gn(this,"onfinish",null),gn(this,"onremove",null)}static create(){return r0._instance||(NF("Animation is not supported in this environment: please consider using the `web-animations-js` polyfill to provide a fallback implementation of the Web Animations API."),r0._instance=new r0),r0._instance}cancel(){}finish(){}pause(){}play(){}reverse(){}addEventListener(t,e,n){}dispatchEvent(t){return!1}removeEventListener(t,e,n){}updatePlaybackRate(t){}commitStyles(){}persist(){}};let FC=r0;gn(FC,"_instance",null);function vc(t,e,n){return"animate"in t?t.animate(e,n):FC.create()}var IL=Wn("<div>");const ML=iL,BL=oL,FL=sL,LC=t=>{const e=dr(),n=v1(t);return Si(()=>{t.opened?zF():qF()}),he(PC,{onBeforeEnter:r=>{const i=Ja("mobile")?200:100;vc(r,[{opacity:0},{opacity:1}],{duration:i}),Ja("mobile")&&vc(r.firstElementChild,[{transform:"translateY(390px)"},{transform:"translateY(0)"}],{duration:i})},onExit:(r,i)=>{const o=Ja("mobile")?200:100,s=vc(r,[{opacity:1},{opacity:0}],{duration:o});if(Ja("mobile")){const a=vc(r.firstElementChild,[{transform:"translateY(0)"},{transform:"translateY(390px)"}],{duration:o});Promise.all([s.finished,a.finished]).then(i)}else s.finished.then(i)},get children(){return he(sn,{get when(){return t.opened},get children(){return he(RL,ws({"data-tc-modal":"true"},n,{get children(){var r=IL();return m0(FL,r,()=>({isEnabled:!0,onClose:()=>t.onClose()})),m0(BL,r,()=>()=>t.onClose()),m0(ML,r,()=>()=>t.onClose()),zh(r,he(NL,{get class(){return t.class},get children(){return[he(PL,{icon:"close",onClick:()=>t.onClose()}),jt(()=>t.children)]}})),Pn(()=>_C(r,nh(TL,ll`
                                border-radius: ${Rc[e.borderRadius]};
                                background-color: ${e.colors.background.tint};

                                ${ks("mobile")} {
                                    border-radius: ${Rc[e.borderRadius]}
                                        ${Rc[e.borderRadius]} 0 0;
                                }
                            `))),r}}))}})}})},LL={m:"16px",s:"12px",none:"0"},UL={m:"12px",s:"8px",none:"0"},UC=263,Ry=56,I4=54,M4=0,Mv=Xe.div`
    width: 52px;
    height: 52px;
    background: transparent;
    position: absolute;
    right: 0;
    bottom: 0;

    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.125s ease-in-out;
`,$L=Xe.button`
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background-color: ${t=>t.theme.colors.background.qr};
    border-radius: ${t=>LL[t.theme.borderRadius]};
    padding: ${Bo(M4)} 0;
    height: ${Bo(UC+M4*2)};
    width: 100%;

    overflow: hidden;
    cursor: pointer;
    border: none;

    ${g1} {
        &:hover {
            ${Mv.class} {
                transform: scale(1.04);
            }
        }
    }

    &:active {
        ${Mv.class} {
            transform: scale(0.96);
        }
    }

    ${p1} {
        &:active {
            ${Mv.class} {
                transform: scale(0.92);
            }
        }
    }
`,jL=Xe.div`
    position: relative;
  
    width: fit-content;
    margin: 0 auto;

    > div:first-child {
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    rect {
        fill: transparent;
    }
    
    path {
        fill: ${t=>t.theme.colors.qrFill};
    }
`,KL=Xe.div`
    position: absolute;
    width: ${Bo(Ry)};
    height: ${Bo(Ry)};
    background: ${t=>t.theme.colors.background.qr};

    display: flex;
    align-items: center;
    justify-content: center;
`,WL=Xe(kf)`
    width: ${t=>Bo(t.size)};
    height: ${t=>Bo(t.size)};
    border-radius: ${t=>UL[t.theme.borderRadius]};
    background-color: ${t=>t.theme.colors.background.qr};
`;Xe.div`
    position: absolute;
    bottom: 14px;
    left: 50%;
    transform: translate(-50%, 0);

    display: flex;
    gap: 6px;
    align-items: center;
    border-radius: 18px;
    min-width: 126px;
    padding: 9px 16px 9px 10px;

    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));
    background-color: ${t=>t.theme.colors.background.segment};
`;var $C={exports:{}};(function(t,e){var n=function(){var r=function(O,N){var R=236,L=17,W=O,M=o[N],F=null,$=0,P=null,v=[],g={},_=function(z,G){$=W*4+17,F=function(S){for(var J=new Array(S),re=0;re<S;re+=1){J[re]=new Array(S);for(var me=0;me<S;me+=1)J[re][me]=null}return J}($),T(0,0),T($-7,0),T(0,$-7),j(),I(),C(z,G),W>=7&&B(z),P==null&&(P=U(W,M,v)),H(P,G)},T=function(z,G){for(var S=-1;S<=7;S+=1)if(!(z+S<=-1||$<=z+S))for(var J=-1;J<=7;J+=1)G+J<=-1||$<=G+J||(0<=S&&S<=6&&(J==0||J==6)||0<=J&&J<=6&&(S==0||S==6)||2<=S&&S<=4&&2<=J&&J<=4?F[z+S][G+J]=!0:F[z+S][G+J]=!1)},D=function(){for(var z=0,G=0,S=0;S<8;S+=1){_(!0,S);var J=a.getLostPoint(g);(S==0||z>J)&&(z=J,G=S)}return G},I=function(){for(var z=8;z<$-8;z+=1)F[z][6]==null&&(F[z][6]=z%2==0);for(var G=8;G<$-8;G+=1)F[6][G]==null&&(F[6][G]=G%2==0)},j=function(){for(var z=a.getPatternPosition(W),G=0;G<z.length;G+=1)for(var S=0;S<z.length;S+=1){var J=z[G],re=z[S];if(F[J][re]==null)for(var me=-2;me<=2;me+=1)for(var ge=-2;ge<=2;ge+=1)me==-2||me==2||ge==-2||ge==2||me==0&&ge==0?F[J+me][re+ge]=!0:F[J+me][re+ge]=!1}},B=function(z){for(var G=a.getBCHTypeNumber(W),S=0;S<18;S+=1){var J=!z&&(G>>S&1)==1;F[Math.floor(S/3)][S%3+$-8-3]=J}for(var S=0;S<18;S+=1){var J=!z&&(G>>S&1)==1;F[S%3+$-8-3][Math.floor(S/3)]=J}},C=function(z,G){for(var S=M<<3|G,J=a.getBCHTypeInfo(S),re=0;re<15;re+=1){var me=!z&&(J>>re&1)==1;re<6?F[re][8]=me:re<8?F[re+1][8]=me:F[$-15+re][8]=me}for(var re=0;re<15;re+=1){var me=!z&&(J>>re&1)==1;re<8?F[8][$-re-1]=me:re<9?F[8][15-re-1+1]=me:F[8][15-re-1]=me}F[$-8][8]=!z},H=function(z,G){for(var S=-1,J=$-1,re=7,me=0,ge=a.getMaskFunction(G),xe=$-1;xe>0;xe-=2)for(xe==6&&(xe-=1);;){for(var qe=0;qe<2;qe+=1)if(F[J][xe-qe]==null){var Fe=!1;me<z.length&&(Fe=(z[me]>>>re&1)==1);var Se=ge(J,xe-qe);Se&&(Fe=!Fe),F[J][xe-qe]=Fe,re-=1,re==-1&&(me+=1,re=7)}if(J+=S,J<0||$<=J){J-=S,S=-S;break}}},ae=function(z,G){for(var S=0,J=0,re=0,me=new Array(G.length),ge=new Array(G.length),xe=0;xe<G.length;xe+=1){var qe=G[xe].dataCount,Fe=G[xe].totalCount-qe;J=Math.max(J,qe),re=Math.max(re,Fe),me[xe]=new Array(qe);for(var Se=0;Se<me[xe].length;Se+=1)me[xe][Se]=255&z.getBuffer()[Se+S];S+=qe;var lt=a.getErrorCorrectPolynomial(Fe),Qe=c(me[xe],lt.getLength()-1),tt=Qe.mod(lt);ge[xe]=new Array(lt.getLength()-1);for(var Se=0;Se<ge[xe].length;Se+=1){var xt=Se+tt.getLength()-ge[xe].length;ge[xe][Se]=xt>=0?tt.getAt(xt):0}}for(var ze=0,Se=0;Se<G.length;Se+=1)ze+=G[Se].totalCount;for(var Ye=new Array(ze),Dt=0,Se=0;Se<J;Se+=1)for(var xe=0;xe<G.length;xe+=1)Se<me[xe].length&&(Ye[Dt]=me[xe][Se],Dt+=1);for(var Se=0;Se<re;Se+=1)for(var xe=0;xe<G.length;xe+=1)Se<ge[xe].length&&(Ye[Dt]=ge[xe][Se],Dt+=1);return Ye},U=function(z,G,S){for(var J=u.getRSBlocks(z,G),re=f(),me=0;me<S.length;me+=1){var ge=S[me];re.put(ge.getMode(),4),re.put(ge.getLength(),a.getLengthInBits(ge.getMode(),z)),ge.write(re)}for(var xe=0,me=0;me<J.length;me+=1)xe+=J[me].dataCount;if(re.getLengthInBits()>xe*8)throw"code length overflow. ("+re.getLengthInBits()+">"+xe*8+")";for(re.getLengthInBits()+4<=xe*8&&re.put(0,4);re.getLengthInBits()%8!=0;)re.putBit(!1);for(;!(re.getLengthInBits()>=xe*8||(re.put(R,8),re.getLengthInBits()>=xe*8));)re.put(L,8);return ae(re,J)};g.addData=function(z,G){G=G||"Byte";var S=null;switch(G){case"Numeric":S=d(z);break;case"Alphanumeric":S=p(z);break;case"Byte":S=h(z);break;case"Kanji":S=m(z);break;default:throw"mode:"+G}v.push(S),P=null},g.isDark=function(z,G){if(z<0||$<=z||G<0||$<=G)throw z+","+G;return F[z][G]},g.getModuleCount=function(){return $},g.make=function(){if(W<1){for(var z=1;z<40;z++){for(var G=u.getRSBlocks(z,M),S=f(),J=0;J<v.length;J++){var re=v[J];S.put(re.getMode(),4),S.put(re.getLength(),a.getLengthInBits(re.getMode(),z)),re.write(S)}for(var me=0,J=0;J<G.length;J++)me+=G[J].dataCount;if(S.getLengthInBits()<=me*8)break}W=z}_(!1,D())},g.createTableTag=function(z,G){z=z||2,G=typeof G>"u"?z*4:G;var S="";S+='<table style="',S+=" border-width: 0px; border-style: none;",S+=" border-collapse: collapse;",S+=" padding: 0px; margin: "+G+"px;",S+='">',S+="<tbody>";for(var J=0;J<g.getModuleCount();J+=1){S+="<tr>";for(var re=0;re<g.getModuleCount();re+=1)S+='<td style="',S+=" border-width: 0px; border-style: none;",S+=" border-collapse: collapse;",S+=" padding: 0px; margin: 0px;",S+=" width: "+z+"px;",S+=" height: "+z+"px;",S+=" background-color: ",S+=g.isDark(J,re)?"#000000":"#ffffff",S+=";",S+='"/>';S+="</tr>"}return S+="</tbody>",S+="</table>",S},g.createSvgTag=function(z,G,S,J){var re={};typeof arguments[0]=="object"&&(re=arguments[0],z=re.cellSize,G=re.margin,S=re.alt,J=re.title),z=z||2,G=typeof G>"u"?z*4:G,S=typeof S=="string"?{text:S}:S||{},S.text=S.text||null,S.id=S.text?S.id||"qrcode-description":null,J=typeof J=="string"?{text:J}:J||{},J.text=J.text||null,J.id=J.text?J.id||"qrcode-title":null;var me=g.getModuleCount()*z+G*2,ge,xe,qe,Fe,Se="",lt;for(lt="l"+z+",0 0,"+z+" -"+z+",0 0,-"+z+"z ",Se+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',Se+=re.scalable?"":' width="'+me+'px" height="'+me+'px"',Se+=' viewBox="0 0 '+me+" "+me+'" ',Se+=' preserveAspectRatio="xMinYMin meet"',Se+=J.text||S.text?' role="img" aria-labelledby="'+ce([J.id,S.id].join(" ").trim())+'"':"",Se+=">",Se+=J.text?'<title id="'+ce(J.id)+'">'+ce(J.text)+"</title>":"",Se+=S.text?'<description id="'+ce(S.id)+'">'+ce(S.text)+"</description>":"",Se+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',Se+='<path d="',qe=0;qe<g.getModuleCount();qe+=1)for(Fe=qe*z+G,ge=0;ge<g.getModuleCount();ge+=1)g.isDark(qe,ge)&&(xe=ge*z+G,Se+="M"+xe+","+Fe+lt);return Se+='" stroke="transparent" fill="black"/>',Se+="</svg>",Se},g.createDataURL=function(z,G){z=z||2,G=typeof G>"u"?z*4:G;var S=g.getModuleCount()*z+G*2,J=G,re=S-G;return E(S,S,function(me,ge){if(J<=me&&me<re&&J<=ge&&ge<re){var xe=Math.floor((me-J)/z),qe=Math.floor((ge-J)/z);return g.isDark(qe,xe)?0:1}else return 1})},g.createImgTag=function(z,G,S){z=z||2,G=typeof G>"u"?z*4:G;var J=g.getModuleCount()*z+G*2,re="";return re+="<img",re+=' src="',re+=g.createDataURL(z,G),re+='"',re+=' width="',re+=J,re+='"',re+=' height="',re+=J,re+='"',S&&(re+=' alt="',re+=ce(S),re+='"'),re+="/>",re};var ce=function(z){for(var G="",S=0;S<z.length;S+=1){var J=z.charAt(S);switch(J){case"<":G+="&lt;";break;case">":G+="&gt;";break;case"&":G+="&amp;";break;case'"':G+="&quot;";break;default:G+=J;break}}return G},te=function(z){var G=1;z=typeof z>"u"?G*2:z;var S=g.getModuleCount()*G+z*2,J=z,re=S-z,me,ge,xe,qe,Fe,Se={"██":"█","█ ":"▀"," █":"▄","  ":" "},lt={"██":"▀","█ ":"▀"," █":" ","  ":" "},Qe="";for(me=0;me<S;me+=2){for(xe=Math.floor((me-J)/G),qe=Math.floor((me+1-J)/G),ge=0;ge<S;ge+=1)Fe="█",J<=ge&&ge<re&&J<=me&&me<re&&g.isDark(xe,Math.floor((ge-J)/G))&&(Fe=" "),J<=ge&&ge<re&&J<=me+1&&me+1<re&&g.isDark(qe,Math.floor((ge-J)/G))?Fe+=" ":Fe+="█",Qe+=z<1&&me+1>=re?lt[Fe]:Se[Fe];Qe+=`
`}return S%2&&z>0?Qe.substring(0,Qe.length-S-1)+Array(S+1).join("▀"):Qe.substring(0,Qe.length-1)};return g.createASCII=function(z,G){if(z=z||1,z<2)return te(G);z-=1,G=typeof G>"u"?z*2:G;var S=g.getModuleCount()*z+G*2,J=G,re=S-G,me,ge,xe,qe,Fe=Array(z+1).join("██"),Se=Array(z+1).join("  "),lt="",Qe="";for(me=0;me<S;me+=1){for(xe=Math.floor((me-J)/z),Qe="",ge=0;ge<S;ge+=1)qe=1,J<=ge&&ge<re&&J<=me&&me<re&&g.isDark(xe,Math.floor((ge-J)/z))&&(qe=0),Qe+=qe?Fe:Se;for(xe=0;xe<z;xe+=1)lt+=Qe+`
`}return lt.substring(0,lt.length-1)},g.renderTo2dContext=function(z,G){G=G||2;for(var S=g.getModuleCount(),J=0;J<S;J++)for(var re=0;re<S;re++)z.fillStyle=g.isDark(J,re)?"black":"white",z.fillRect(J*G,re*G,G,G)},g};r.stringToBytesFuncs={default:function(O){for(var N=[],R=0;R<O.length;R+=1){var L=O.charCodeAt(R);N.push(L&255)}return N}},r.stringToBytes=r.stringToBytesFuncs.default,r.createStringToBytes=function(O,N){var R=function(){for(var W=y(O),M=function(){var I=W.read();if(I==-1)throw"eof";return I},F=0,$={};;){var P=W.read();if(P==-1)break;var v=M(),g=M(),_=M(),T=String.fromCharCode(P<<8|v),D=g<<8|_;$[T]=D,F+=1}if(F!=N)throw F+" != "+N;return $}(),L=63;return function(W){for(var M=[],F=0;F<W.length;F+=1){var $=W.charCodeAt(F);if($<128)M.push($);else{var P=R[W.charAt(F)];typeof P=="number"?(P&255)==P?M.push(P):(M.push(P>>>8),M.push(P&255)):M.push(L)}}return M}};var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},o={L:1,M:0,Q:3,H:2},s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a=function(){var O=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],N=1335,R=7973,L=21522,W={},M=function(F){for(var $=0;F!=0;)$+=1,F>>>=1;return $};return W.getBCHTypeInfo=function(F){for(var $=F<<10;M($)-M(N)>=0;)$^=N<<M($)-M(N);return(F<<10|$)^L},W.getBCHTypeNumber=function(F){for(var $=F<<12;M($)-M(R)>=0;)$^=R<<M($)-M(R);return F<<12|$},W.getPatternPosition=function(F){return O[F-1]},W.getMaskFunction=function(F){switch(F){case s.PATTERN000:return function($,P){return($+P)%2==0};case s.PATTERN001:return function($,P){return $%2==0};case s.PATTERN010:return function($,P){return P%3==0};case s.PATTERN011:return function($,P){return($+P)%3==0};case s.PATTERN100:return function($,P){return(Math.floor($/2)+Math.floor(P/3))%2==0};case s.PATTERN101:return function($,P){return $*P%2+$*P%3==0};case s.PATTERN110:return function($,P){return($*P%2+$*P%3)%2==0};case s.PATTERN111:return function($,P){return($*P%3+($+P)%2)%2==0};default:throw"bad maskPattern:"+F}},W.getErrorCorrectPolynomial=function(F){for(var $=c([1],0),P=0;P<F;P+=1)$=$.multiply(c([1,l.gexp(P)],0));return $},W.getLengthInBits=function(F,$){if(1<=$&&$<10)switch(F){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;case i.MODE_KANJI:return 8;default:throw"mode:"+F}else if($<27)switch(F){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw"mode:"+F}else if($<41)switch(F){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw"mode:"+F}else throw"type:"+$},W.getLostPoint=function(F){for(var $=F.getModuleCount(),P=0,v=0;v<$;v+=1)for(var g=0;g<$;g+=1){for(var _=0,T=F.isDark(v,g),D=-1;D<=1;D+=1)if(!(v+D<0||$<=v+D))for(var I=-1;I<=1;I+=1)g+I<0||$<=g+I||D==0&&I==0||T==F.isDark(v+D,g+I)&&(_+=1);_>5&&(P+=3+_-5)}for(var v=0;v<$-1;v+=1)for(var g=0;g<$-1;g+=1){var j=0;F.isDark(v,g)&&(j+=1),F.isDark(v+1,g)&&(j+=1),F.isDark(v,g+1)&&(j+=1),F.isDark(v+1,g+1)&&(j+=1),(j==0||j==4)&&(P+=3)}for(var v=0;v<$;v+=1)for(var g=0;g<$-6;g+=1)F.isDark(v,g)&&!F.isDark(v,g+1)&&F.isDark(v,g+2)&&F.isDark(v,g+3)&&F.isDark(v,g+4)&&!F.isDark(v,g+5)&&F.isDark(v,g+6)&&(P+=40);for(var g=0;g<$;g+=1)for(var v=0;v<$-6;v+=1)F.isDark(v,g)&&!F.isDark(v+1,g)&&F.isDark(v+2,g)&&F.isDark(v+3,g)&&F.isDark(v+4,g)&&!F.isDark(v+5,g)&&F.isDark(v+6,g)&&(P+=40);for(var B=0,g=0;g<$;g+=1)for(var v=0;v<$;v+=1)F.isDark(v,g)&&(B+=1);var C=Math.abs(100*B/$/$-50)/5;return P+=C*10,P},W}(),l=function(){for(var O=new Array(256),N=new Array(256),R=0;R<8;R+=1)O[R]=1<<R;for(var R=8;R<256;R+=1)O[R]=O[R-4]^O[R-5]^O[R-6]^O[R-8];for(var R=0;R<255;R+=1)N[O[R]]=R;var L={};return L.glog=function(W){if(W<1)throw"glog("+W+")";return N[W]},L.gexp=function(W){for(;W<0;)W+=255;for(;W>=256;)W-=255;return O[W]},L}();function c(O,N){if(typeof O.length>"u")throw O.length+"/"+N;var R=function(){for(var W=0;W<O.length&&O[W]==0;)W+=1;for(var M=new Array(O.length-W+N),F=0;F<O.length-W;F+=1)M[F]=O[F+W];return M}(),L={};return L.getAt=function(W){return R[W]},L.getLength=function(){return R.length},L.multiply=function(W){for(var M=new Array(L.getLength()+W.getLength()-1),F=0;F<L.getLength();F+=1)for(var $=0;$<W.getLength();$+=1)M[F+$]^=l.gexp(l.glog(L.getAt(F))+l.glog(W.getAt($)));return c(M,0)},L.mod=function(W){if(L.getLength()-W.getLength()<0)return L;for(var M=l.glog(L.getAt(0))-l.glog(W.getAt(0)),F=new Array(L.getLength()),$=0;$<L.getLength();$+=1)F[$]=L.getAt($);for(var $=0;$<W.getLength();$+=1)F[$]^=l.gexp(l.glog(W.getAt($))+M);return c(F,0).mod(W)},L}var u=function(){var O=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],N=function(W,M){var F={};return F.totalCount=W,F.dataCount=M,F},R={},L=function(W,M){switch(M){case o.L:return O[(W-1)*4+0];case o.M:return O[(W-1)*4+1];case o.Q:return O[(W-1)*4+2];case o.H:return O[(W-1)*4+3];default:return}};return R.getRSBlocks=function(W,M){var F=L(W,M);if(typeof F>"u")throw"bad rs block @ typeNumber:"+W+"/errorCorrectionLevel:"+M;for(var $=F.length/3,P=[],v=0;v<$;v+=1)for(var g=F[v*3+0],_=F[v*3+1],T=F[v*3+2],D=0;D<g;D+=1)P.push(N(_,T));return P},R}(),f=function(){var O=[],N=0,R={};return R.getBuffer=function(){return O},R.getAt=function(L){var W=Math.floor(L/8);return(O[W]>>>7-L%8&1)==1},R.put=function(L,W){for(var M=0;M<W;M+=1)R.putBit((L>>>W-M-1&1)==1)},R.getLengthInBits=function(){return N},R.putBit=function(L){var W=Math.floor(N/8);O.length<=W&&O.push(0),L&&(O[W]|=128>>>N%8),N+=1},R},d=function(O){var N=i.MODE_NUMBER,R=O,L={};L.getMode=function(){return N},L.getLength=function(F){return R.length},L.write=function(F){for(var $=R,P=0;P+2<$.length;)F.put(W($.substring(P,P+3)),10),P+=3;P<$.length&&($.length-P==1?F.put(W($.substring(P,P+1)),4):$.length-P==2&&F.put(W($.substring(P,P+2)),7))};var W=function(F){for(var $=0,P=0;P<F.length;P+=1)$=$*10+M(F.charAt(P));return $},M=function(F){if("0"<=F&&F<="9")return F.charCodeAt(0)-48;throw"illegal char :"+F};return L},p=function(O){var N=i.MODE_ALPHA_NUM,R=O,L={};L.getMode=function(){return N},L.getLength=function(M){return R.length},L.write=function(M){for(var F=R,$=0;$+1<F.length;)M.put(W(F.charAt($))*45+W(F.charAt($+1)),11),$+=2;$<F.length&&M.put(W(F.charAt($)),6)};var W=function(M){if("0"<=M&&M<="9")return M.charCodeAt(0)-48;if("A"<=M&&M<="Z")return M.charCodeAt(0)-65+10;switch(M){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+M}};return L},h=function(O){var N=i.MODE_8BIT_BYTE,R=r.stringToBytes(O),L={};return L.getMode=function(){return N},L.getLength=function(W){return R.length},L.write=function(W){for(var M=0;M<R.length;M+=1)W.put(R[M],8)},L},m=function(O){var N=i.MODE_KANJI,R=r.stringToBytesFuncs.SJIS;if(!R)throw"sjis not supported.";(function(M,F){var $=R(M);if($.length!=2||($[0]<<8|$[1])!=F)throw"sjis not supported."})("友",38726);var L=R(O),W={};return W.getMode=function(){return N},W.getLength=function(M){return~~(L.length/2)},W.write=function(M){for(var F=L,$=0;$+1<F.length;){var P=(255&F[$])<<8|255&F[$+1];if(33088<=P&&P<=40956)P-=33088;else if(57408<=P&&P<=60351)P-=49472;else throw"illegal char at "+($+1)+"/"+P;P=(P>>>8&255)*192+(P&255),M.put(P,13),$+=2}if($<F.length)throw"illegal char at "+($+1)},W},w=function(){var O=[],N={};return N.writeByte=function(R){O.push(R&255)},N.writeShort=function(R){N.writeByte(R),N.writeByte(R>>>8)},N.writeBytes=function(R,L,W){L=L||0,W=W||R.length;for(var M=0;M<W;M+=1)N.writeByte(R[M+L])},N.writeString=function(R){for(var L=0;L<R.length;L+=1)N.writeByte(R.charCodeAt(L))},N.toByteArray=function(){return O},N.toString=function(){var R="";R+="[";for(var L=0;L<O.length;L+=1)L>0&&(R+=","),R+=O[L];return R+="]",R},N},x=function(){var O=0,N=0,R=0,L="",W={},M=function($){L+=String.fromCharCode(F($&63))},F=function($){if(!($<0)){if($<26)return 65+$;if($<52)return 97+($-26);if($<62)return 48+($-52);if($==62)return 43;if($==63)return 47}throw"n:"+$};return W.writeByte=function($){for(O=O<<8|$&255,N+=8,R+=1;N>=6;)M(O>>>N-6),N-=6},W.flush=function(){if(N>0&&(M(O<<6-N),O=0,N=0),R%3!=0)for(var $=3-R%3,P=0;P<$;P+=1)L+="="},W.toString=function(){return L},W},y=function(O){var N=O,R=0,L=0,W=0,M={};M.read=function(){for(;W<8;){if(R>=N.length){if(W==0)return-1;throw"unexpected end of file./"+W}var $=N.charAt(R);if(R+=1,$=="=")return W=0,-1;if($.match(/^\s$/))continue;L=L<<6|F($.charCodeAt(0)),W+=6}var P=L>>>W-8&255;return W-=8,P};var F=function($){if(65<=$&&$<=90)return $-65;if(97<=$&&$<=122)return $-97+26;if(48<=$&&$<=57)return $-48+52;if($==43)return 62;if($==47)return 63;throw"c:"+$};return M},b=function(O,N){var R=O,L=N,W=new Array(O*N),M={};M.setPixel=function(v,g,_){W[g*R+v]=_},M.write=function(v){v.writeString("GIF87a"),v.writeShort(R),v.writeShort(L),v.writeByte(128),v.writeByte(0),v.writeByte(0),v.writeByte(0),v.writeByte(0),v.writeByte(0),v.writeByte(255),v.writeByte(255),v.writeByte(255),v.writeString(","),v.writeShort(0),v.writeShort(0),v.writeShort(R),v.writeShort(L),v.writeByte(0);var g=2,_=$(g);v.writeByte(g);for(var T=0;_.length-T>255;)v.writeByte(255),v.writeBytes(_,T,255),T+=255;v.writeByte(_.length-T),v.writeBytes(_,T,_.length-T),v.writeByte(0),v.writeString(";")};var F=function(v){var g=v,_=0,T=0,D={};return D.write=function(I,j){if(I>>>j)throw"length over";for(;_+j>=8;)g.writeByte(255&(I<<_|T)),j-=8-_,I>>>=8-_,T=0,_=0;T=I<<_|T,_=_+j},D.flush=function(){_>0&&g.writeByte(T)},D},$=function(v){for(var g=1<<v,_=(1<<v)+1,T=v+1,D=P(),I=0;I<g;I+=1)D.add(String.fromCharCode(I));D.add(String.fromCharCode(g)),D.add(String.fromCharCode(_));var j=w(),B=F(j);B.write(g,T);var C=0,H=String.fromCharCode(W[C]);for(C+=1;C<W.length;){var ae=String.fromCharCode(W[C]);C+=1,D.contains(H+ae)?H=H+ae:(B.write(D.indexOf(H),T),D.size()<4095&&(D.size()==1<<T&&(T+=1),D.add(H+ae)),H=ae)}return B.write(D.indexOf(H),T),B.write(_,T),B.flush(),j.toByteArray()},P=function(){var v={},g=0,_={};return _.add=function(T){if(_.contains(T))throw"dup key:"+T;v[T]=g,g+=1},_.size=function(){return g},_.indexOf=function(T){return v[T]},_.contains=function(T){return typeof v[T]<"u"},_};return M},E=function(O,N,R){for(var L=b(O,N),W=0;W<N;W+=1)for(var M=0;M<O;M+=1)L.setPixel(M,W,R(M,W));var F=w();L.write(F);for(var $=x(),P=F.toByteArray(),v=0;v<P.length;v+=1)$.writeByte(P[v]);return $.flush(),"data:image/gif;base64,"+$};return r}();(function(){n.stringToBytesFuncs["UTF-8"]=function(r){function i(o){for(var s=[],a=0;a<o.length;a++){var l=o.charCodeAt(a);l<128?s.push(l):l<2048?s.push(192|l>>6,128|l&63):l<55296||l>=57344?s.push(224|l>>12,128|l>>6&63,128|l&63):(a++,l=65536+((l&1023)<<10|o.charCodeAt(a)&1023),s.push(240|l>>18,128|l>>12&63,128|l>>6&63,128|l&63))}return s}return i(r)}})(),function(r){t.exports=r()}(function(){return n})})($C);const HL=$C.exports;var XL=Wn("<div>");const zL=t=>{let e,n,r;an(!1);const[i,o]=an(I4);return Si(()=>{const l=HL(0,"L");l.addData(t.sourceUrl),l.make(),e.innerHTML=l.createSvgTag(4,0);const c=e.firstElementChild.clientWidth,u=Math.round(UC/c*1e5)/1e5;if(r){const f=Math.ceil(Ry/(u*4))*4,d=Bo(Math.ceil((c-f)/(2*4))*4);r.style.top=d,r.style.left=d,r.style.height=Bo(f),r.style.width=Bo(f),o(Math.round(I4/u))}n.style.transform=`scale(${u})`}),he($L,{get class(){return t.class},get children(){return[he(jL,{ref(s){var a=n;typeof a=="function"?a(s):n=s},get children(){return[(()=>{var s=XL(),a=e;return typeof a=="function"?m0(a,s):e=s,s})(),he(sn,{get when(){return t.imageUrl},get children(){return he(KL,{ref(s){var a=r;typeof a=="function"?a(s):r=s},get children(){return he(WL,{get src(){return t.imageUrl},alt:"",get size(){return i()}})}})}})]}}),he(PC,{onBeforeEnter:s=>{vc(s,[{opacity:0,transform:"translate(-50%, 44px)"},{opacity:1,transform:"translate(-50%, 0)"}],{duration:150,easing:"ease-out"})},onExit:(s,a)=>{vc(s,[{opacity:1,transform:"translate(-50%, 0)"},{opacity:0,transform:"translate(-50%, 44px)"}],{duration:150,easing:"ease-out"}).finished.then(()=>{a()})}})]}})},Ty=Symbol("store-raw"),Tc=Symbol("store-node"),us=Symbol("store-has"),jC=Symbol("store-self");function KC(t){let e=t[po];if(!e&&(Object.defineProperty(t,po,{value:e=new Proxy(t,JL)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let i=0,o=n.length;i<o;i++){const s=n[i];r[s].get&&Object.defineProperty(t,s,{enumerable:r[s].enumerable,get:r[s].get.bind(e)})}}return e}function Vh(t){let e;return t!=null&&typeof t=="object"&&(t[po]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Vc(t,e=new Set){let n,r,i,o;if(n=t!=null&&t[Ty])return n;if(!Vh(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let s=0,a=t.length;s<a;s++)i=t[s],(r=Vc(i,e))!==i&&(t[s]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const s=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let l=0,c=s.length;l<c;l++)o=s[l],!a[o].get&&(i=t[o],(r=Vc(i,e))!==i&&(t[o]=r))}return t}function Jh(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function Y0(t,e,n){if(t[e])return t[e];const[r,i]=an(n,{equals:!1,internal:!0});return r.$=i,t[e]=r}function qL(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===po||e===Tc||(delete n.value,delete n.writable,n.get=()=>t[po][e]),n}function WC(t){wy()&&Y0(Jh(t,Tc),jC)()}function VL(t){return WC(t),Reflect.ownKeys(t)}const JL={get(t,e,n){if(e===Ty)return t;if(e===po)return n;if(e===S4)return WC(t),n;const r=Jh(t,Tc),i=r[e];let o=i?i():t[e];if(e===Tc||e===us||e==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(t,e);wy()&&(typeof o!="function"||t.hasOwnProperty(e))&&!(s&&s.get)&&(o=Y0(r,e,o)())}return Vh(o)?KC(o):o},has(t,e){return e===Ty||e===po||e===S4||e===Tc||e===us||e==="__proto__"?!0:(wy()&&Y0(Jh(t,us),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:VL,getOwnPropertyDescriptor:qL};function Gh(t,e,n,r=!1){if(!r&&t[e]===n)return;const i=t[e],o=t.length;n===void 0?(delete t[e],t[us]&&t[us][e]&&i!==void 0&&t[us][e].$()):(t[e]=n,t[us]&&t[us][e]&&i===void 0&&t[us][e].$());let s=Jh(t,Tc),a;if((a=Y0(s,e,i))&&a.$(()=>n),Array.isArray(t)&&t.length!==o){for(let l=t.length;l<o;l++)(a=s[l])&&a.$();(a=Y0(s,"length",o))&&a.$(t.length)}(a=s[jC])&&a.$()}function HC(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const i=n[r];Gh(t,i,e[i])}}function GL(t,e){if(typeof e=="function"&&(e=e(t)),e=Vc(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const i=e[n];t[n]!==i&&Gh(t,n,i)}Gh(t,"length",r)}else HC(t,e)}function i0(t,e,n=[]){let r,i=t;if(e.length>1){r=e.shift();const s=typeof r,a=Array.isArray(t);if(Array.isArray(r)){for(let l=0;l<r.length;l++)i0(t,[r[l]].concat(e),n);return}else if(a&&s==="function"){for(let l=0;l<t.length;l++)r(t[l],l)&&i0(t,[l].concat(e),n);return}else if(a&&s==="object"){const{from:l=0,to:c=t.length-1,by:u=1}=r;for(let f=l;f<=c;f+=u)i0(t,[f].concat(e),n);return}else if(e.length>1){i0(t[r],e,[r].concat(n));return}i=t[r],n=[r].concat(n)}let o=e[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=Vc(o),r===void 0||Vh(i)&&Vh(o)&&!Array.isArray(o)?HC(i,o):Gh(t,r,o))}function Mf(...[t,e]){const n=Vc(t||{}),r=Array.isArray(n),i=KC(n);function o(...s){hC(()=>{r&&s.length===1?GL(n,s[0]):i0(n,s)})}return[i,o]}function Ny(t,e,n){const r=t[e]||e.trim().split(".").reduce((i,o)=>i?i[o]:void 0,t);return r!==void 0?r:n}var QL=(t,e,n=/{{([^{}]+)}}/g)=>t.replace(n,(r,i)=>Ny(e,i,"")),YL=(t={},e=typeof navigator<"u"&&navigator.language in t?navigator.language:(n=>(n=Object.keys(t)[0])!=null?n:"")())=>{const[n,r]=an(e),[i,o]=Mf(t);return[(l,c,u)=>{const f=Ny(i[n()],l,u||"");return typeof f=="function"?f(c):typeof f=="string"?QL(f,c||{}):f},{add(l,c){o(l,u=>Object.assign(u||{},c))},locale:l=>l?r(l):n(),dict:l=>Ny(i,l)}]},XC=Tf({}),Al=()=>go(XC);const ZL=Xe.div`
    font-style: normal;
    font-weight: ${t=>t.fontWeight};
    font-size: ${t=>t.fontSize};
    line-height: ${t=>t.lineHeight};

    color: ${t=>t.color};
`,Os=t=>{const e=dr(),[n]=Al();let r;const i=()=>t.color||e.colors.text.primary,o=ws({fontSize:"14px",fontWeight:"510",lineHeight:"130%"},t);return Si(()=>{r&&o.cursor!=="unset"&&getComputedStyle(r).cursor!=="pointer"&&(r.style.cursor="default")}),he(ZL,{get fontSize(){return o.fontSize},get fontWeight(){return o.fontWeight},get lineHeight(){return o.lineHeight},get color(){return i()},get class(){return o.class},ref(s){var a=r;typeof a=="function"?a(s):r=s},"data-tc-text":"true",get children(){var s;return jt(()=>!!o.translationKey)()?n(o.translationKey,o.translationValues,(s=o.children)==null?void 0:s.toString()):o.children}})},eU=Xe.div`
    position: relative;

    &::after {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border: 0.5px solid rgba(0, 0, 0, 0.08);

        border-radius: inherit;
    }
`,tU=Xe(kf)`
    width: 100%;
    height: 100%;
    border-radius: inherit;
`,zC=t=>he(eU,{get class(){return t.class},get children(){return he(tU,{get src(){return t.src}})}}),nU={m:"16px",s:"12px",none:"0"},rU={m:"6px",s:"6px",none:"0"};Xe.button`
    position: relative;
    cursor: pointer;
    border: none;
    background-color: unset;
    padding: 8px 4px;
    width: 92px;
    display: flex;
    flex-direction: column;
    align-items: center;

    transition: transform 0.125s ease-in-out;

    ${g1} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${ks("mobile")} {
        padding: 8px 4px;
        width: 82px;
    }

    ${p1} {
        &:active {
            transform: scale(0.92);
        }
    }
`;Xe(zC)`
    width: 60px;
    height: 60px;
    border-radius: ${t=>nU[t.theme.borderRadius]};

    margin-bottom: 8px;
`;Xe(kf)`
    position: absolute;
    right: 10px;
    top: 50px;
    width: 24px;
    height: 24px;
    border-radius: ${t=>rU[t.theme.borderRadius]};
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08);
`;Xe(Os)`
    max-width: 90px;
    font-weight: 510;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;

    ${ks("mobile")} {
        max-width: 80px;
    }
`;Xe(Os)`
    font-weight: ${t=>t.colorPrimary?"510":"400"};
    max-width: 90px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    color: ${t=>t.colorPrimary?t.theme.colors.text.primary:t.theme.colors.text.secondary};

    ${ks("mobile")} {
        max-width: 80px;
    }
`;const iU=Xe.h1`
    font-style: normal;
    font-weight: 590;
    font-size: 20px;
    line-height: 28px;

    text-align: center;

    color: ${t=>t.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,m1=t=>{const[e]=Al();return he(iU,{get class(){return t.class},"data-tc-h1":"true",get children(){var n;return jt(()=>!!t.translationKey)()?e(t.translationKey,t.translationValues,(n=t.children)==null?void 0:n.toString()):t.children}})},oU=Xe.h2`
    font-style: normal;
    font-weight: 400;
    font-size: 16px;
    line-height: 22px;

    text-align: center;

    color: ${t=>t.theme.colors.text.secondary};

    margin-top: 0;
    margin-bottom: 32px;

    cursor: default;
`,sU=t=>{const[e]=Al();return he(oU,{get class(){return t.class},"data-tc-h2":"true",get children(){var n;return jt(()=>!!t.translationKey)()?e(t.translationKey,t.translationValues,(n=t.children)==null?void 0:n.toString()):t.children}})},aU=Xe.h3`
    font-style: normal;
    font-weight: 510;
    font-size: 16px;
    line-height: 20px;

    color: ${t=>t.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,lU=t=>{const[e]=Al();return he(aU,{"data-tc-h3":"true",get class(){return t.class},get children(){var n;return jt(()=>!!t.translationKey)()?e(t.translationKey,t.translationValues,(n=t.children)==null?void 0:n.toString()):t.children}})},cU={m:"16px",s:"12px",none:"0"},uU={m:"6px",s:"6px",none:"0"};Xe.div`
    width: 60px;
    height: 60px;
    padding: 8px;
    margin-bottom: 8px;
    border-radius: ${t=>cU[t.theme.borderRadius]};
    background-color: ${t=>t.theme.colors.background.tint};
    display: grid;
    grid-template: 1fr 1fr / 1fr 1fr;
    gap: 4px;
`;Xe(zC)`
    width: 20px;
    height: 20px;
    border-radius: ${t=>uU[t.theme.borderRadius]};
`;const fU=Xe.a`
    display: block;
    text-decoration: unset;
`,dU=t=>he(fU,ws({get href(){return t.href},get target(){return t.blank?"_blank":"_self"},get class(){return t.class},get onClick(){return t.onClick}},()=>t.blank?{rel:"noreferrer noopener"}:{},{get children(){return t.children}}));var hU=Wn('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd clip-rule=evenodd d="M7.76228 2.09998H10.2378C11.0458 2.09997 11.7067 2.09996 12.2438 2.14384C12.7997 2.18926 13.3017 2.28614 13.7706 2.52505C14.5045 2.89896 15.1011 3.49558 15.475 4.22941C15.7139 4.6983 15.8108 5.20038 15.8562 5.75629C15.9001 6.29337 15.9001 6.95422 15.9001 7.76227V8.1H16.2377C17.0457 8.09999 17.7066 8.09998 18.2437 8.14386C18.7996 8.18928 19.3017 8.28616 19.7705 8.52507C20.5044 8.89898 21.101 9.4956 21.4749 10.2294C21.7138 10.6983 21.8107 11.2004 21.8561 11.7563C21.9 12.2934 21.9 12.9542 21.9 13.7623V16.2377C21.9 17.0458 21.9 17.7066 21.8561 18.2437C21.8107 18.7996 21.7138 19.3017 21.4749 19.7706C21.101 20.5044 20.5044 21.101 19.7705 21.4749C19.3017 21.7138 18.7996 21.8107 18.2437 21.8561C17.7066 21.9 17.0458 21.9 16.2378 21.9H13.7623C12.9543 21.9 12.2934 21.9 11.7563 21.8561C11.2004 21.8107 10.6983 21.7138 10.2294 21.4749C9.49561 21.101 8.89898 20.5044 8.52508 19.7706C8.28616 19.3017 8.18928 18.7996 8.14386 18.2437C8.09998 17.7066 8.09999 17.0458 8.1 16.2377V15.9H7.76227C6.95426 15.9 6.29335 15.9 5.75629 15.8561C5.20038 15.8107 4.6983 15.7138 4.22941 15.4749C3.49558 15.101 2.89896 14.5044 2.52505 13.7705C2.28614 13.3017 2.18926 12.7996 2.14384 12.2437C2.09996 11.7066 2.09997 11.0458 2.09998 10.2377V7.76228C2.09997 6.95424 2.09996 6.29336 2.14384 5.75629C2.18926 5.20038 2.28614 4.6983 2.52505 4.22941C2.89896 3.49558 3.49558 2.89896 4.22941 2.52505C4.6983 2.28614 5.20038 2.18926 5.75629 2.14384C6.29336 2.09996 6.95425 2.09997 7.76228 2.09998ZM8.1 14.1V13.7623C8.09999 12.9542 8.09998 12.2934 8.14386 11.7563C8.18928 11.2004 8.28616 10.6983 8.52508 10.2294C8.89898 9.4956 9.49561 8.89898 10.2294 8.52507C10.6983 8.28616 11.2004 8.18928 11.7563 8.14386C12.2934 8.09998 12.9542 8.09999 13.7623 8.1H14.1001V7.79998C14.1001 6.94505 14.0994 6.35798 14.0622 5.90287C14.0259 5.45827 13.9593 5.21944 13.8712 5.0466C13.6699 4.65146 13.3486 4.3302 12.9535 4.12886C12.7806 4.04079 12.5418 3.97419 12.0972 3.93786C11.6421 3.90068 11.055 3.89998 10.2001 3.89998H7.79998C6.94505 3.89998 6.35798 3.90068 5.90287 3.93786C5.45827 3.97419 5.21944 4.04079 5.0466 4.12886C4.65146 4.3302 4.3302 4.65146 4.12886 5.0466C4.04079 5.21944 3.97419 5.45827 3.93786 5.90287C3.90068 6.35798 3.89998 6.94505 3.89998 7.79998V10.2C3.89998 11.0549 3.90068 11.642 3.93786 12.0971C3.97419 12.5417 4.04079 12.7805 4.12886 12.9534C4.3302 13.3485 4.65146 13.6698 5.0466 13.8711C5.21944 13.9592 5.45827 14.0258 5.90287 14.0621C6.35798 14.0993 6.94505 14.1 7.79998 14.1H8.1ZM11.0466 10.1289C11.2195 10.0408 11.4583 9.97421 11.9029 9.93788C12.358 9.9007 12.9451 9.9 13.8 9.9H16.2C17.0549 9.9 17.642 9.9007 18.0971 9.93788C18.5417 9.97421 18.7805 10.0408 18.9534 10.1289C19.3485 10.3302 19.6698 10.6515 19.8711 11.0466C19.9592 11.2195 20.0258 11.4583 20.0621 11.9029C20.0993 12.358 20.1 12.9451 20.1 13.8V16.2C20.1 17.0549 20.0993 17.642 20.0621 18.0971C20.0258 18.5417 19.9592 18.7805 19.8711 18.9534C19.6698 19.3485 19.3485 19.6698 18.9534 19.8711C18.7805 19.9592 18.5417 20.0258 18.0971 20.0621C17.642 20.0993 17.0549 20.1 16.2 20.1H13.8C12.9451 20.1 12.358 20.0993 11.9029 20.0621C11.4583 20.0258 11.2195 19.9592 11.0466 19.8711C10.6515 19.6698 10.3302 19.3485 10.1289 18.9534C10.0408 18.7805 9.97421 18.5417 9.93788 18.0971C9.9007 17.642 9.9 17.0549 9.9 16.2V13.8C9.9 12.9451 9.9007 12.358 9.93788 11.9029C9.97421 11.4583 10.0408 11.2195 10.1289 11.0466C10.3302 10.6515 10.6515 10.3302 11.0466 10.1289Z">');const pU=t=>{const e=dr(),n=()=>t.fill||e.colors.icon.primary;return(()=>{var r=hU(),i=r.firstChild;return Pn(o=>{var s=t.class,a=n();return s!==o.e&&zt(r,"class",o.e=s),a!==o.t&&zt(i,"fill",o.t=a),o},{e:void 0,t:void 0}),r})()};var gU=Wn('<svg width=24 height=24 viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg><path d="M8.7624 3.10001C7.95435 3.1 7.29349 3.09999 6.75642 3.14387C6.2005 3.18929 5.69842 3.28617 5.22954 3.52508C4.4957 3.89899 3.89908 4.49561 3.52517 5.22944C3.28626 5.69833 3.18938 6.20041 3.14396 6.75632C3.10008 7.2934 3.10009 7.95424 3.1001 8.76229V15.2377C3.10009 16.0458 3.10008 16.7066 3.14396 17.2437C3.18938 17.7996 3.28626 18.3017 3.52517 18.7706C3.89908 19.5044 4.4957 20.101 5.22954 20.4749C5.69842 20.7138 6.2005 20.8107 6.75642 20.8561C7.29349 20.9 7.95434 20.9 8.76239 20.9H12.0001C12.4972 20.9 12.9001 20.4971 12.9001 20C12.9001 19.503 12.4972 19.1 12.0001 19.1H8.8001C7.94517 19.1 7.3581 19.0993 6.90299 19.0621C6.45839 19.0258 6.21956 18.9592 6.04672 18.8711C5.65158 18.6698 5.33032 18.3485 5.12898 17.9534C5.04092 17.7805 4.97431 17.5417 4.93798 17.0971C4.9008 16.642 4.9001 16.0549 4.9001 15.2V8.80001C4.9001 7.94508 4.9008 7.35801 4.93798 6.9029C4.97431 6.4583 5.04092 6.21947 5.12898 6.04663C5.33032 5.65149 5.65158 5.33023 6.04672 5.12889C6.21956 5.04082 6.45839 4.97422 6.90299 4.93789C7.3581 4.90071 7.94517 4.90001 8.8001 4.90001H12.0001C12.4972 4.90001 12.9001 4.49706 12.9001 4.00001C12.9001 3.50295 12.4972 3.10001 12.0001 3.10001H8.7624Z"></path><path d="M17.6364 7.3636C17.2849 7.01212 16.7151 7.01212 16.3636 7.3636C16.0121 7.71507 16.0121 8.28492 16.3636 8.63639L18.8272 11.1H9.00001C8.50295 11.1 8.10001 11.5029 8.10001 12C8.10001 12.497 8.50295 12.9 9.00001 12.9H18.8272L16.3636 15.3636C16.0121 15.7151 16.0121 16.2849 16.3636 16.6364C16.7151 16.9879 17.2849 16.9879 17.6364 16.6364L21.6364 12.6364C21.9879 12.2849 21.9879 11.7151 21.6364 11.3636L17.6364 7.3636Z">');const vU=t=>{const e=dr(),n=()=>t.fill||e.colors.icon.primary;return(()=>{var r=gU(),i=r.firstChild,o=i.nextSibling;return Pn(s=>{var a=n(),l=n();return a!==s.e&&zt(i,"fill",s.e=a),l!==s.t&&zt(o,"fill",s.t=l),s},{e:void 0,t:void 0}),r})()};function mU(t){return si(this,null,function*(){try{if(!(navigator!=null&&navigator.clipboard))throw new bs("Clipboard API not available");return yield navigator.clipboard.writeText(t)}catch{}yU(t)})}function yU(t){const e=document.createElement("textarea");e.value=t,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")}finally{document.body.removeChild(e)}}const bU={m:"8px",s:"4px",none:"0"},xU={m:"16px",s:"8px",none:"0"},wU=Xe.div`
    width: 256px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
    border-radius: ${t=>xU[t.theme.borderRadius]};

    background-color: ${t=>t.theme.colors.background.primary}
           
    color: ${t=>t.theme.colors.text.primary}
`,_U=Xe.ul`
    background-color: ${t=>t.theme.colors.background.primary};
    padding: 8px;
`,B4=Xe.button`
    display: flex;
    align-items: center;
    gap: 8px;
    height: 40px;
    padding-left: 8px;
    width: 100%;

    background-color: ${t=>t.theme.colors.background.primary};
    border: none;
    border-radius: ${t=>bU[t.theme.borderRadius]};
    cursor: pointer;

    transition: background-color, transform 0.1s ease-in-out;

    &:hover {
        background-color: ${t=>t.theme.colors.background.secondary};
    }

    &:active {
        transform: scale(0.96);
    }
`,Sl=Tf();var F4=Wn("<li>");const Bv=t=>he(Os,{get translationKey(){return t.translationKey},fontSize:"15px",fontWeight:"590",get children(){return t.children}}),EU=t=>{const e=go(Sl),[n,r]=an(!1),i=()=>si(void 0,null,function*(){const s=q8.toUserFriendlyAddress(e.account.address);yield mU(s),r(!0),setTimeout(()=>r(!1),1e3)}),o=()=>{e.disconnect(),t.onClose()};return he(wU,{ref(s){var a=t.ref;typeof a=="function"?a(s):t.ref=s},get class(){return t.class},"data-tc-dropdown":"true",get children(){return he(_U,{get children(){return[(()=>{var s=F4();return zh(s,he(B4,{onClick:()=>i(),get children(){return[he(pU,{}),he(sn,{get when(){return!n()},get children(){return he(Bv,{translationKey:"button.dropdown.copy",children:"Copy address"})}}),he(sn,{get when(){return n()},get children(){return he(Bv,{translationKey:"button.dropdown.copied",children:"Address copied!"})}})]}})),s})(),(()=>{var s=F4();return zh(s,he(B4,{onClick:()=>o(),get children(){return[he(vU,{}),he(Bv,{translationKey:"button.dropdown.disconnect",children:"Disconnect"})]}})),s})()]}})}})},CU=Xe(If)`
    background-color: ${t=>t.theme.colors.connectButton.background};
    color: ${t=>t.theme.colors.connectButton.foreground};
    box-shadow: ${t=>`0 4px 24px ${Nf(t.theme.colors.constant.black,.16)}`};
    padding: 8px 16px 8px 12px;

    display: flex;
    align-items: center;
    gap: 4px;
    height: 40px;
`;Xe(CU)`
    padding: 12px 16px;
    min-width: 148px;
    justify-content: center;
    background-color: ${t=>t.theme.colors.background.primary};
`;Xe(If)`
    min-width: 148px;
    height: 40px;

    background-color: ${t=>t.theme.colors.background.primary};
    color: ${t=>t.theme.colors.connectButton.foreground};
    box-shadow: ${t=>`0 4px 24px ${Nf(t.theme.colors.constant.black,.16)}`};

    display: flex;
    align-items: center;
    justify-content: center;
`;Xe(BC)`
    height: 18px;
    width: 18px;
`;Xe.div`
    width: fit-content;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
`;Xe(EU)`
    box-sizing: border-box;
    overflow: hidden;
    margin-top: 12px;
`;const qC=Tf();Mf({buttonRootId:null,language:"en_US"});const AU=Xe(LC)`
  padding-left: 0;
  padding-right: 0;
  padding-top: 0;

  ${ks("mobile")} {
    padding-left: 0;
    padding-right: 0;
    min-height: 364px;
  }
`,Z0=Xe(m1)`
  padding: 12px 64px;
`,SU=Xe.div``,OU=Xe.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: ${t=>t.isDeclined?"200px":"325px"};;
  gap: 24px;
`,DU=Xe(Hb)`
  position: absolute;
  top: 12px;
  left: 16px;
`,RU=Xe(sU)`
  margin-bottom: 0;
  padding: 16px 24px 24px 24px;
  min-height: 44px;
`,TU=Xe.div`
  margin-top: 24px;
  margin-left: 24px;
  margin-right: 24px;
`,NU=Xe.div`
  display: flex;
  justify-content: center;
  align-items: center;
`;function Ws(t,e){let n;typeof e=="string"?n=e:n=e.returnStrategy;const r=kU(t,"ret",n);if(!fe.isTelegramUrl(t))return r;const i=r.slice(r.lastIndexOf("&")+1);return r.slice(0,r.lastIndexOf("&"))+"-"+fe.encodeTelegramUrlParameters(i)}function $u(t,e){ds("android")?n0(e,()=>{}):Pi(t)}function PU(t,e,n,r){if(n=lr({},n),DC())if(ds("ios","android"))n.returnStrategy==="back"&&(n.returnStrategy="tg://resolve"),$u(t,e);else{const i=Ws(t,n.returnStrategy);Pi(i)}else if(Pf())if(t0("ios","android"))n.returnStrategy==="back"&&(n.returnStrategy="tg://resolve"),$u(t,e);else if(t0("macos","tdesktop")){n.returnStrategy==="back"&&(n.returnStrategy="tg://resolve");const i=Ws(t,n.returnStrategy);!n.forceRedirect?n0(Rd(i,e),()=>{Pi(i)}):Pi(i)}else if(t0("weba")){n.returnStrategy==="back"&&(On("safari")?n.returnStrategy=location.href:On("chrome")?n.returnStrategy="googlechrome://":On("firefox")?n.returnStrategy="firefox://":On("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href);const i=Ws(t,n.returnStrategy);!n.forceRedirect?n0(Rd(i,e),()=>{Pi(i)}):Pi(i)}else if(t0("web")){n.returnStrategy==="back"&&(On("safari")?n.returnStrategy=location.href:On("chrome")?n.returnStrategy="googlechrome://":On("firefox")?n.returnStrategy="firefox://":On("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href);const i=Ws(t,n.returnStrategy);!n.forceRedirect?n0(Rd(i,e),()=>{Pi(i)}):Pi(i)}else{const i=Ws(t,n.returnStrategy);Pi(i)}else if(ds("ios"))n.returnStrategy==="back"&&(On("safari")?n.returnStrategy="none":On("chrome")?n.returnStrategy="googlechrome://":On("firefox")?n.returnStrategy="firefox://":On("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href),$u(t,e);else if(ds("android"))n.returnStrategy==="back"&&(On("chrome")?n.returnStrategy="googlechrome://":On("firefox")?n.returnStrategy="firefox://":On("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href),fe.logDebug("url-strategy-helpers 489"),$u(t,e);else if(ds("ipad"))n.returnStrategy==="back"&&(On("safari")?n.returnStrategy="none":On("chrome")?n.returnStrategy="googlechrome://":On("firefox")?n.returnStrategy="firefox://":On("opera")?n.returnStrategy="opera-http://":n.returnStrategy=location.href),$u(t,e);else if(ds("macos","windows","linux")){n.returnStrategy==="back"&&(On("safari")?n.returnStrategy="none":On("chrome")?n.returnStrategy="googlechrome://":On("firefox")?n.returnStrategy="firefox://":On("opera")?n.returnStrategy="opera-http://":n.returnStrategy="none");const i=Ws(t,n.returnStrategy);!n.forceRedirect?n0(Rd(i,e),()=>{Pi(i)}):Pi(i)}else Pi(Ws(t,n.returnStrategy))}function kU(t,e,n){const r=new URL(t);return r.searchParams.append(e,n),r.toString()}const y1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAleSURBVHgB7V27chNJFG3LPGweLhkDZV7l2S9Yk5FhZ2TY4UaGbDPwFxhHSwZkZLa/wHZGJpGx0Wq/YIcqMK7iJYN5G7TnNH1Fe/TW9IzGUp+qUc+MJXl0T/e5/bw9pDKKIAjye3t705VKZRqXU0gD3saRHxoayuM6b78f98q4V0YaSorbT5GWDh06VArDsKwyiCGVEdDg3759m8PpVRhwRv00tkuUSAbSx4cPHy6CkFBlAD0lwBj9Bk6vG6NXgWv1/ft3hb/r48ePHzrlfZ7zsJHL5fQxPDxcTXnA2OrIkSM1/xtkFJGs9ZqMnhBw8eLFGRhyyTY6DUsDf/78WX358kWfu8TRo0c1GSMjI/UI2cCxtrW1taFSRmoESG6HoW8pIy9i9A8fPmijR3N1UmAJISGjo6OaEAshSsby8+fPV1VKSIUA5PhbMPYdcZyUlo8fP2rDp2X0RqBMkYyTJ0/qc4PUiEiUAEoNDLyiTI7/+vWrev/+vc7tWcSxY8dSJyIRAiA3AYx9D6es1egcXy6XM2v4KKJEgIRV+I/lJJz1sHKMCxcuLCDX05mxDq92d3fVmzdvNAkHBeKX+PzGYU/j+efGxsZ2UIJLyiGcEUAne/z48b/w0HdxOUK5ef36ta7VHFTwN3z69Ek7bZQA+i+SkJ+YmPgbJdrJD3MiQUZyCjxlrnn37p3OQf2EEydOaFmCHPEyRMmYdSFJsQmA5LCroMAaDmXm1atXB0puOgF9wunTp8U30EHPw0HHkqRYEkS9h+Ef4XSEUkOt73W1MkmwdFOS0LfEg5L0JyQphF/4V3WJrgkwdfuHPGfVcmdnRz9gv0NIINh+AOYgTzuobDxRXaArAmh85PT7PKfxeQwa6KAJkgAputYtCR0TYGSnmvMH0fiCKAndyFFHTpgOF8b/h+eDbnwbrB3xIEDE5U4cc67dN7KqCeOv89wbfz9se8BGBdqq3c+2RQAbWVLPZ23HG78WtIlpdGpb0WbtfK4tAtA0X0ISSJ+OR33QNqYNFBibtURLJwzdZx/+XVa/Xr582df1/LigjVgK0CXDyyvtOOWmJcDovmaS3QvttnDX19f1w8Q5+B2ukObz0EaWP7jfyh80rQUh96/gS25w8KQT6XHVIDP9LrHRi+dhl4XpSd3AUOd8o/c1LAFGenh4p9sF3r59K8TPcWCq0fsaEtCN9Hj8Am3GsRDCjArWRV0CmPuVqfX0W7dymqBySK3o3Llzt+u9py4Bkvu99MSH+E74j6V6bYMaAuzcT+frEQ8cBzd9Rnmc34j+vYYAn/vdQ2yJUnAr+rd9BFy6dImzGHzudwyWAvEF0RrRPgKQ+xeY+tzvHpKhRWEEVQLYYkN1Sc/jOSjzdw4SZJoL58PazrhKADqPZpiyL8PX+91DZncTtjO2JUjLj9f+5CBtqlwud13uaQJMp9sMz2WYzcM9KO1RGdIEiPzQ+L67OTnYMmRWA1Ul6CpfZLqFR3KQqZooBdrmQgBnt6m9vT3lkSwsiZ/hS45aZFYiOqt+bmzEX+nj4jtcfper5yEBpps60H6ALbPz589XMIDAu5k6VlY4HhQPhUIhc7/r7NmzFdqcth9C59ttPOc9VpE4vTBLyNrImivk83m9CAS/b5E+IOBNr//pQWyN9kCQQ+6Y4oVv/aYHqeqjBAS5ilm56Kq4e7SGpTZTJCCI3PRIGJba5ClBvgSkDMvW+aoE+S6I9GDZOt/27GiPZOAJ6DE8AT0GnbCeuMLFyB7pwLJ1mU5YE5C15no/w7J12ZeAHoDrjAnGtcuZ4HY6mpRHOpDMDvXZoQQ95YWXoPRghcEJSUXIC18C0oMQgAaZliC9pjWLBKytram4KBaLKmsQW4OIkl6CytGZyclJZyM+6+vrlbjgd/Tr89DePGh7Lfy4+A9JwFWQLsJFVvwasYZgWIOJiQmelra2ti5L3fMxX+oFOPVwC0vqtfRrAkwUWR1H0yNZSJxS2Fxnek0AWNFzLthA8A2y5EDbispgUKao7/GFkcVZCuw3eLiHCfCkFWd7ezvkuZ3dN/nC4HQeyYBTUQyq9esqAZChVaZehpIB7SolQOSHqFraliETbMLDISxp3xT5IfZldcZJZmoVFQ9HkIhawKp9fx8Bz549KyIJJaK4hxswQ0us0egeBTVij1LwgKnFmEdMWPHklqN/qyGAzpiDNNQsXwriw8799cLg1xBgdhvSTHEWr0c8NMv9+n6jD0oHXTcREn1n3E+wTTU2NsZTav9v9d7TsMKP6uhNpqySyhimR/ugzVrlfqIhAaZGtMF2gZeizmGFul9ttgVK0yYvhswWxSF30jgb9DVilB7TsxzChsvN3ttS1EzsuBVOKOXeAH4ae3NQes6cOaNzP46brTYAahk3lHumwJGM48uusC+ba4krfip7XVCuGS2RKdtTMP7dlp9RbQBtgzvKtJC9P2gM2kbq/MZmLdEWAWwbQIJm6Q9YCnwruRa0iRntou7Ptrt7a9v9zqYHb1b+mSfhFyLh6+ft3s5W6GgDB/iDbfgDzqSbk26KQY+uEjE+ne6jTj7f8Q4axilzRfe1QSfBNj4qJoto7T5UHaKrPWRAwpNBJyFq/BcvXtxXXaDrXZQMCVU54nwXCUjUz2AVc3x8vNowpex0k/MFTjZyq/zc2kSHu+T2hf3aWGMji7PaWNU06ypm427k5qS7cXJyMkDOKOCUkRd172m/b2XIqmYntZ1GcLKZ5+7ubhk5Yw0PNSotZuYWloSDvv6Yv+PUqVN6YMV0LzxA39gf6KzcVg7gfFWG6TtaUn1QGpjjmfON4Sk5i643d3a+nzCrqXBQm3hg9h9NszSY2DhOZl6nAVYq2KfDZzeSs4HMNI+aTlE5RqLrkuzSwGvZXyWrsUllb3lrDk/IgSkzNpIIUlkY1ogIth16XWOSiWjW4LmWG/bjd1u37wSprsyLEkEwjCNLRJoxS2USMvWd7RdrrJd7BD/gzJB2O9PioidLIxkmH6VgAadz9n2SQELoK1wHEKehKTHU9YjR9WxljtsmKTWN0NO1qWw/oNjP4HShYkIn2yAhJIOSRamiI+c5S0q0tDBXm4EQbWCzD7xsvlwzo8EsStlMM7fXQ2YWBwsZJALG+b1iYpk6RGiM/pgLUnppdBuZXZ3NFYTI9dOGCAYXn2J0L6SBSfcNzdFx4l7ZpDQ2+6mYllACSlkxeBT/A6Mt6rTZ7SrDAAAAAElFTkSuQmCC";var IU=Wn('<svg><path fill-rule=evenodd clip-rule=evenodd d="M96 51C96 75.8528 75.8528 96 51 96C26.1472 96 6 75.8528 6 51C6 26.1472 26.1472 6 51 6C75.8528 6 96 26.1472 96 51ZM102 51C102 79.1665 79.1665 102 51 102C22.8335 102 0 79.1665 0 51C0 22.8335 22.8335 0 51 0C79.1665 0 102 22.8335 102 51Z"fill-opacity=0.2></svg>',!1,!0),MU=Wn('<svg><path fill-rule=evenodd clip-rule=evenodd d="M6 51H0C0 79.1665 22.8335 102 51 102V96C26.1472 96 6 75.8528 6 51Z"></svg>',!1,!0);const b1=t=>he(VC,{get children(){return[he(LU,{}),he(JC,{src:y1})]}}),BU=t=>he(VC,{get children(){return he(JC,{src:y1})}}),FU=t=>{const e=dr(),n=AC`
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    `,r=Xe.svg`
    animation: ${n} 2s linear infinite;
    transform-origin: center;
  `;return he(r,{xmlns:"http://www.w3.org/2000/svg",width:"102",height:"102",viewBox:"0 0 102 102",fill:"none",get children(){return[(()=>{var i=IU();return Pn(()=>zt(i,"fill",e.colors.text.primary)),i})(),(()=>{var i=MU();return Pn(()=>zt(i,"fill",e.colors.text.primary)),i})()]}})},VC=Xe.div`
  position: relative;
  height: 102px;
  width: 102px;
`,LU=Xe(FU)`
  height: 102px;
  width: 102px;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,JC=Xe(kf)`
  position: absolute;
  width: 86px;
  height: 86px;
  border-radius: 44px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,GC=t=>[he(Z0,{translationKey:"walletModal.mobileConnectionModal.OKXConnect"}),he(TU,{get children(){return[he(sn,{get when(){return t.sessionConnecting()},get children(){return he(NU,{get children(){return he(b1,{})}})}}),he(sn,{get when(){return jt(()=>t.universalLink!==null)()&&!t.sessionConnecting()},get children(){return he(zL,{imageUrl:y1,get sourceUrl(){return Ws(t.universalLink,"none")},disableCopy:!0})}})]}}),he(RU,{translationKey:"walletModal.mobileConnectionModal.scanQR",get translationValues(){return{name:t.walletInfo.name}},get children(){return["Scan the QR code below with your phone’s or ",jt(()=>t.walletInfo.name),"’s camera"]}})];Xe(m1)`
  padding: 12px 64px;
`;const pu=Xe(m1)`
  max-width: 262px;
`,UU=Xe(pu)`
  font-size: 14px;
  color: ${t=>t.theme.colors.text.primary};
`,$U=Xe(If)`
  background-color: transparent;
  color: ${t=>t.theme.colors.text.primary};
  padding: 0px;
`,jU=Xe.div`
  margin: 30px 0;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 16px;

  ${ks("mobile")} {
    height: 160px;
    align-items: center;
  }
`,KU=Xe(MC)`
  margin-bottom: 16px;
`,ef=Xe.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 12px;
`,WU=Xe.div`
  background-color: ${t=>t.theme.colors.text.primary};
  height: 48px;
  width: 262px;
  justify-content: center;
  border-radius: 24px;
  display: flex;
  align-items: center;
  gap: 8px;
`,HU=Xe(Os)`
  max-width: 262px;
  font-weight: 400;
  font-size: 16px;
  line-height: 20px;
  text-align: center;
  margin-top: 10px;
  color: ${t=>t.theme.colors.text.contrast};
`,QC=Xe(If)`
  height: 48px;
  width: 262px;
  border-radius: 999px;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 12px 24px;
`,L4=Xe(QC)`
  background-color: ${t=>t.theme.colors.text.primary};
`;Xe(QC)`
  background-color: transparent;
  border-color: ${t=>t.theme.colors.border.secondary};
  border-width: 0.5px;
  border-style: solid;
`;const Py=Xe(pu)`
  font-size: 14px;
  color: ${t=>t.theme.colors.background.primary};
`;Xe(pu)`
  font-size: 14px;
  color: ${t=>t.theme.colors.text.primary};
`;const XU=Xe.div`
  padding: 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  border-top: 0.5px solid
    ${t=>Nf(t.theme.colors.icon.secondary,.2)};
  margin-top: 32px;
`,zU=Xe(kf)`
  width: 32px;
  height: 32px;
  border-radius: 16px;
`,qU=Xe(dU)`
  margin-left: auto;
  display: flex;
`,VU=Xe.div`
  display: flex;
  gap: 8px;
  align-items: center;
  justify-content: center;
`,YC=t=>[he(ef,{get children(){return[he(BU,{}),he(HU,{translationKey:"walletModal.mobileConnectionModal.appAndTelegram.text",children:"OKX Wallet supports OKX app and Telegram Mini Apps"})]}}),he(ef,{get children(){return[he(L4,{get onClick(){return t.onConnectApp},get children(){return he(Py,{translationKey:"walletModal.mobileConnectionModal.connectApp",children:"Connect to OKX app"})}}),he(L4,{get onClick(){return t.onConnectMini},get children(){return he(Py,{translationKey:"walletModal.mobileConnectionModal.connectMini",children:"Connect to Mini Apps"})}})]}})],Xb=t=>he(jU,{get children(){return[he(b1,{}),he(sn,{get when(){return t.loadingTextTranslationKey||t.loadingTextTranslationKey},get children(){return he(pu,{get translationKey(){return t.loadingTextTranslationKey},get children(){return t.loadingText}})}})]}}),Qh=t=>{const[e]=Al();return jt(()=>{var n;return e(t.translationKey,t.translationValues,(n=t.children)==null?void 0:n.toString())})};var JU=Wn('<svg width=40 height=12 viewBox="0 0 40 12"fill=none xmlns=http://www.w3.org/2000/svg><g clip-path=url(#clip0_4356_43883)><path d="M11.7336 0H0.269322C0.198282 0 0.130151 0.0282212 0.0799182 0.0784542C0.0296852 0.128687 0.00146484 0.196817 0.00146484 0.267857V11.7321C0.00146484 11.8032 0.0296852 11.8713 0.0799182 11.9215C0.130151 11.9718 0.198282 12 0.269322 12H11.7336C11.8046 12 11.8728 11.9718 11.923 11.9215C11.9732 11.8713 12.0015 11.8032 12.0015 11.7321V0.267857C12.0015 0.196817 11.9732 0.128687 11.923 0.0784542C11.8728 0.0282212 11.8046 0 11.7336 0ZM8.00129 7.73303C8.00129 7.80407 7.97307 7.87221 7.92283 7.92244C7.8726 7.97267 7.80447 8.00089 7.73343 8.00089H4.26736C4.19632 8.00089 4.12819 7.97267 4.07795 7.92244C4.02772 7.87221 3.9995 7.80407 3.9995 7.73303V4.26643C3.9995 4.19539 4.02772 4.12726 4.07795 4.07702C4.12819 4.02679 4.19632 3.99857 4.26736 3.99857H7.73343C7.80447 3.99857 7.8726 4.02679 7.92283 4.07702C7.97307 4.12726 8.00129 4.19539 8.00129 4.26643V7.73303Z"></path><path d="M35.7391 4.00018H32.2725C32.2015 4.00018 32.1333 4.0284 32.0831 4.07864C32.0329 4.12887 32.0046 4.197 32.0046 4.26804V7.73465C32.0046 7.80569 32.0329 7.87382 32.0831 7.92405C32.1333 7.97428 32.2015 8.0025 32.2725 8.0025H35.7391C35.8101 8.0025 35.8783 7.97428 35.9285 7.92405C35.9787 7.87382 36.007 7.80569 36.007 7.73465V4.26697C36.0067 4.19611 35.9783 4.12826 35.9281 4.07826C35.8779 4.02825 35.81 4.00018 35.7391 4.00018Z"></path><path d="M31.7379 0H28.2713C28.2002 0 28.1321 0.0282212 28.0819 0.0784542C28.0316 0.128687 28.0034 0.196817 28.0034 0.267857V3.73446C28.0034 3.8055 28.0316 3.87364 28.0819 3.92387C28.1321 3.9741 28.2002 4.00232 28.2713 4.00232H31.7379C31.8089 4.00232 31.8771 3.9741 31.9273 3.92387C31.9775 3.87364 32.0057 3.8055 32.0057 3.73446V0.267857C32.0057 0.196817 31.9775 0.128687 31.9273 0.0784542C31.8771 0.0282212 31.8089 0 31.7379 0Z"></path><path d="M39.7376 0H36.271C36.2 0 36.1319 0.0282212 36.0816 0.0784542C36.0314 0.128687 36.0032 0.196817 36.0032 0.267857V3.73446C36.0032 3.8055 36.0314 3.87364 36.0816 3.92387C36.1319 3.9741 36.2 4.00232 36.271 4.00232H39.7376C39.8087 4.00232 39.8768 3.9741 39.927 3.92387C39.9773 3.87364 40.0055 3.8055 40.0055 3.73446V0.267857C40.0055 0.232682 39.9986 0.19785 39.9851 0.165352C39.9716 0.132854 39.9519 0.103327 39.927 0.0784542C39.9022 0.0535813 39.8726 0.0338512 39.8401 0.0203901C39.8076 0.00692902 39.7728 0 39.7376 0Z"></path><path d="M31.7379 7.99982H28.2713C28.2002 7.99982 28.1321 8.02804 28.0819 8.07827C28.0316 8.1285 28.0034 8.19663 28.0034 8.26767V11.7321C28.0034 11.8032 28.0316 11.8713 28.0819 11.9215C28.1321 11.9718 28.2002 12 28.2713 12H31.7379C31.8089 12 31.8771 11.9718 31.9273 11.9215C31.9775 11.8713 32.0057 11.8032 32.0057 11.7321V8.2666C32.0055 8.19575 31.9771 8.12789 31.9269 8.07789C31.8767 8.02789 31.8087 7.99982 31.7379 7.99982Z"></path><path d="M39.7376 7.99982H36.271C36.2 7.99982 36.1319 8.02804 36.0816 8.07827C36.0314 8.1285 36.0032 8.19663 36.0032 8.26767V11.7321C36.0032 11.8032 36.0314 11.8713 36.0816 11.9215C36.1319 11.9718 36.2 12 36.271 12H39.7376C39.8087 12 39.8768 11.9718 39.927 11.9215C39.9773 11.8713 40.0055 11.8032 40.0055 11.7321V8.2666C40.0052 8.19575 39.9769 8.12789 39.9267 8.07789C39.8765 8.02789 39.8085 7.99982 39.7376 7.99982Z"></path><path d="M25.733 0H22.2664C22.1954 0 22.1272 0.0282212 22.077 0.0784542C22.0268 0.128687 21.9985 0.196817 21.9985 0.267857V3.73446C21.9985 3.8055 22.0268 3.87364 22.077 3.92387C22.1272 3.9741 22.1954 4.00232 22.2664 4.00232H25.733C25.804 4.00232 25.8722 3.9741 25.9224 3.92387C25.9726 3.87364 26.0009 3.8055 26.0009 3.73446V0.267857C26.0009 0.196817 25.9726 0.128687 25.9224 0.0784542C25.8722 0.0282212 25.804 0 25.733 0Z"></path><path d="M25.733 7.99982H22.2664C22.1954 7.99982 22.1272 8.02804 22.077 8.07827C22.0268 8.1285 21.9985 8.19663 21.9985 8.26767V11.7321C21.9985 11.8032 22.0268 11.8713 22.077 11.9215C22.1272 11.9718 22.1954 12 22.2664 12H25.733C25.804 12 25.8722 11.9718 25.9224 11.9215C25.9726 11.8713 26.0009 11.8032 26.0009 11.7321V8.2666C26.0006 8.19575 25.9722 8.12789 25.922 8.07789C25.8718 8.02789 25.8039 7.99982 25.733 7.99982Z"></path><path d="M21.9996 4.26375C21.9996 4.19271 21.9714 4.12458 21.9212 4.07435C21.8709 4.02411 21.8028 3.99589 21.7317 3.99589H17.9994V0.267857C17.9994 0.196817 17.9712 0.128687 17.921 0.0784542C17.8707 0.0282212 17.8026 0 17.7316 0H14.2687C14.1977 0 14.1295 0.0282212 14.0793 0.0784542C14.0291 0.128687 14.0009 0.196817 14.0009 0.267857V11.7273C14.0009 11.7984 14.0291 11.8665 14.0793 11.9167C14.1295 11.967 14.1977 11.9952 14.2687 11.9952H17.7353C17.8064 11.9952 17.8745 11.967 17.9247 11.9167C17.975 11.8665 18.0032 11.7984 18.0032 11.7273V7.99661H21.7366C21.8076 7.99661 21.8757 7.96839 21.926 7.91815C21.9762 7.86792 22.0044 7.79979 22.0044 7.72875L21.9996 4.26375Z"></path></g><defs><clipPath id=clip0_4356_43883><rect width=40.0039 height=12 fill=white>');const GU=t=>{const e=dr(),n=()=>t.fill||e.colors.disable;return(()=>{var r=JU(),i=r.firstChild,o=i.firstChild,s=o.nextSibling,a=s.nextSibling,l=a.nextSibling,c=l.nextSibling,u=c.nextSibling,f=u.nextSibling,d=f.nextSibling,p=d.nextSibling;return Pn(h=>{var m=n(),w=n(),x=n(),y=n(),b=n(),E=n(),O=n(),N=n(),R=n();return m!==h.e&&zt(o,"fill",h.e=m),w!==h.t&&zt(s,"fill",h.t=w),x!==h.a&&zt(a,"fill",h.a=x),y!==h.o&&zt(l,"fill",h.o=y),b!==h.i&&zt(c,"fill",h.i=b),E!==h.n&&zt(u,"fill",h.n=E),O!==h.s&&zt(f,"fill",h.s=O),N!==h.h&&zt(d,"fill",h.h=N),R!==h.r&&zt(p,"fill",h.r=R),h},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),r})()},Yh=t=>{const e=dr(),n=()=>{fe.reportEvent(fe.OKXReportType.CLICK,fe.Report_ChooseType_Download_Click,"")};return[he(XU,{get children(){return[he(zU,{src:y1}),he(lU,{get children(){return t.wallet.name}}),he(qU,{get href(){return t.wallet.aboutUrl},onClick:n,blank:!0,get children(){return[he(Os,{get color(){return e.colors.text.contrast},get children(){return he(Qh,{translationKey:"common.get",children:"GET"})}}),he(IC,{direction:"right"})]}})]}}),he(VU,{get children(){return[he(Os,{get color(){return e.colors.disable},get children(){return he(Qh,{translationKey:"walletModal.mobileConnectionModal.PoweredBy",children:"PoweredBy"})}}),he(GU,{})]}})]},ZC=t=>he($U,{get leftIcon(){return he(AL,{})},get onClick(){return t.onRetry},get children(){return he(UU,{translationKey:"common.retry",children:"Retry"})}}),eA=t=>[he(KU,{size:"s"}),he(pu,{translationKey:"walletModal.mobileConnectionModal.connectionDeclined",children:"Connection declined"}),he(sn,{get when(){return t.showRetry},get children(){return he(ef,{get children(){return he(ZC,{get onRetry(){return t.onRetry}})}})}})],QU=t=>{const e=dr();return[he(ef,{get children(){return[he(b1,{}),he(pu,{translationKey:"walletModal.mobileConnectionModal.continueIn",children:"Continue the transaction in OKX Wallet"})]}}),he(ef,{get children(){return[he(WU,{get onClick(){return t.onOpenQR},get children(){return[he(OL,{get fill(){return e.colors.background.primary}}),he(Py,{translationKey:"walletModal.mobileConnectionModal.showQR",children:"Show QR Codes"})]}}),he(ZC,{get onRetry(){return t.onRetry}})]}})]},YU=t=>{dr();const[e,n]=an(!0),[r,i]=an(!1),[o,s]=an(!1),a=jt(()=>!t.isSingleWallet&&!o()),[l,c]=an(null),[u,f]=an(null),[d,p]=an(null),h=go(Sl);var m,w;let x=()=>t.universalLinkParams()===null&&!t.connectError();var y;Si(()=>{var W,M,F=t.universalLinkParams();const $=a(),P=r(),v=x();if($!=m&&!P&&!v&&($?(fe.reportEvent(fe.OKXReportType.PAGE_IN,fe.Report_Proceed_Proceed_View,""),fe.reportEvent(fe.OKXReportType.PAGE_OUT,fe.Report_ChooseType_ConnectWallet_View,"")):(fe.reportEvent(fe.OKXReportType.PAGE_OUT,fe.Report_Proceed_Proceed_View,""),fe.reportEvent(fe.OKXReportType.PAGE_IN,fe.Report_ChooseType_ConnectWallet_View,"")),m=$),P!=w&&!v&&(P?fe.reportEvent(fe.OKXReportType.PAGE_IN,fe.Report_Proceed_QRCode_View,""):fe.reportEvent(fe.OKXReportType.PAGE_OUT,fe.Report_Proceed_QRCode_View,""),w=P),v!=y&&(v?fe.reportEvent(fe.OKXReportType.PAGE_IN,fe.Report_Loading_ConnectWallet_View,""):fe.reportEvent(fe.OKXReportType.PAGE_OUT,fe.Report_Loading_ConnectWallet_View,""),y=v),F){t.setLastSelectedWalletInfo(Vr(lr({},t.wallet),{openMethod:"universal-link"})),fe.logDebug(`createEffect  ${JSON.stringify(F)}`);var g=F.connectRequest,_="",T="";if(g){if(fe.useShortLink()){var D=fe.getOKXLink(g);p(D),c(D)}else{var I=fe.encodeConnectParams(Vr(lr({},g),{redirect:"none"}));_=fe.getUniversalLink(fe.getAppWalletDeepLink(I),!0),p(_);var j=fe.encodeConnectParams(Vr(lr({},g),{redirect:(W=F.redirect)!=null?W:"none"}));T=fe.getAppWalletDeepLink(j),c(T)}var B=fe.encodeTWAConnectURLParams(Vr(lr({},g),{redirect:"none"})),C=fe.getTelegramWalletTWAUrl(B,(M=F.tmaReturnUrl)!=null?M:"back");f(C),fe.logDebug(`setUniversalLink  ${T}   tgUrl  ${C}    qrLink ${_}`)}}t.connectError()&&i(!1)}),pC(()=>si(void 0,null,function*(){try{yield t.connect().catch(W=>fe.logDebug(`MobileConnectionModal onMount error ${JSON.stringify(W)}`))}catch(W){console.error("Error while connecting:",W)}}));const b=()=>{s(!1),e(),n(!1),fe.reportEvent(fe.OKXReportType.CLICK,fe.Report_Proceed_Retry_Click,"");try{t.connect()}catch(W){console.error("Error while connecting:",W)}},E=()=>{fe.reportEvent(fe.OKXReportType.CLICK,fe.Report_Proceed_QRCode_Click,""),i(!0),t.setLastSelectedWalletInfo(Vr(lr({},t.wallet),{openMethod:"qrcode"}))},O=()=>{i(!1),t.setLastSelectedWalletInfo(Vr(lr({},t.wallet),{openMethod:"universal-link"}))},N=()=>{r()?O():t.onBackClick()},R=()=>{fe.reportEvent(fe.OKXReportType.CLICK,fe.Report_ChooseType_ConnectWallet_Click,JSON.stringify({Report_WalletType_Key:"app"})),s(!0),fe.useShortLink()?fe.openOKXUniversalLink(l()):fe.openOKXDeeplinkWithFallback(l())},L=()=>{fe.reportEvent(fe.OKXReportType.CLICK,fe.Report_ChooseType_ConnectWallet_Click,JSON.stringify({Report_WalletType_Key:"tgminiwallet"})),h==null||h.closeModal(),fe.openOKXTMAWalletlinkWithFallback(u())};return he(SU,{"data-tc-wallets-modal-connection-mobile":"true",get children(){return[he(sn,{get when(){return!t.backDisabled||r()},get children(){return he(DU,{icon:"arrow",onClick:N})}}),he(sn,{get when(){return jt(()=>t.universalLinkParams()===null)()&&!t.connectError()},get children(){return[he(Z0,{children:"OKX Connect"}),he(Xb,{}),he(Yh,{get wallet(){return t.wallet}})]}}),he(sn,{get when(){return t.universalLinkParams()!==null||t.connectError()},get children(){return[he(sn,{get when(){return jt(()=>!!r())()&&!t.connectError()},get children(){return he(GC,{get universalLink(){return d()},get walletInfo(){return t.wallet},get sessionConnecting(){return t.sessionConnecting}})}}),he(sn,{get when(){return!r()},get children(){return[he(Z0,{children:"OKX Connect"}),he(OU,{get isDeclined(){return t.connectError()},get children(){return[he(sn,{get when(){return t.connectError()},get children(){return he(eA,{onRetry:b,get showRetry(){return t.showRetry}})}}),he(sn,{get when(){return!t.connectError()},get children(){return[he(sn,{get when(){return a()},get children(){return he(YC,{onConnectApp:R,onConnectMini:L})}}),he(sn,{get when(){return!a()},get children(){return he(QU,{onOpenQR:E,onRetry:b})}})]}})]}}),he(Yh,{get wallet(){return t.wallet}})]}})]}})]}})},ZU=Xe.div``,U4=Xe.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 200px;
  gap: 24px;
`,e$=t=>{dr();const[e,n]=an(!0),[r,i]=an(!1),[o,s]=an(null),a=jt(()=>!t.isSingleWallet&&o()===null),[l,c]=an(null),u=go(Sl);var f;let d=()=>t.universalLinkParams()===null&&!t.connectError();var p;Si(()=>{var E;fe.logDebug("TON customEvent.detail  :::",Si);var O=t.universalLinkParams();fe.logDebug("TON customEvent.detail  :::",JSON.stringify(O));const N=a(),R=d();if(N!=f&&!R&&(N?(fe.reportEvent(fe.OKXReportType.PAGE_IN,fe.Report_ChooseType_ConnectWallet_View,""),fe.reportEvent(fe.OKXReportType.PAGE_OUT,fe.Report_Proceed_QRCode_View,"")):(fe.reportEvent(fe.OKXReportType.PAGE_OUT,fe.Report_ChooseType_ConnectWallet_View,""),fe.reportEvent(fe.OKXReportType.PAGE_IN,fe.Report_Proceed_QRCode_View,"")),f=N),R!=p&&(R?fe.reportEvent(fe.OKXReportType.PAGE_IN,fe.Report_Loading_ConnectWallet_View,""):fe.reportEvent(fe.OKXReportType.PAGE_OUT,fe.Report_Loading_ConnectWallet_View,""),p=R),O){t.setLastSelectedWalletInfo(Vr(lr({},t.wallet),{openMethod:"universal-link"}));var L=O.connectRequest;if(L){var W="";if(fe.useShortLink())W=fe.getOKXLink(L);else{var M=fe.encodeConnectParams(Vr(lr({},L),{redirect:"none"}));W=fe.getUniversalLink(fe.getAppWalletDeepLink(M),!0)}m(W);var F=fe.encodeTWAConnectURLParams(L),$=fe.getTelegramWalletTWAUrl(F,(E=O.tmaReturnUrl)!=null?E:"back");c($),fe.logDebug(`DesktopConnectionModal  setUniversalLink  tgUrl  ${$}    qrLink ${W}`)}}t.connectError()&&i(!1)});const[h,m]=an(null);pC(()=>si(void 0,null,function*(){try{yield t.connect().catch(E=>fe.logDebug("DesktopConnectionModal connect catch error ",JSON.stringify(E)))}catch(E){fe.logDebug("DesktopConnectionModal connect  error ",JSON.stringify(E))}}));const w=()=>{s(null),e(),n(!1),fe.reportEvent(fe.OKXReportType.CLICK,fe.Report_Proceed_Retry_Click,"");try{t.connect()}catch(E){console.error("Error while connecting:",E)}},x=()=>{fe.reportEvent(fe.OKXReportType.CLICK,fe.Report_Proceed_QRCode_Click,""),i(!0),t.setLastSelectedWalletInfo(Vr(lr({},t.wallet),{openMethod:"qrcode"}))},y=()=>{fe.reportEvent(fe.OKXReportType.CLICK,fe.Report_ChooseType_ConnectWallet_Click,btoa(JSON.stringify({Report_WalletType_Key:"app"}))),m(h()),s("app"),x()},b=()=>{fe.logDebug("desktop on connect mini"),fe.reportEvent(fe.OKXReportType.CLICK,fe.Report_ChooseType_ConnectWallet_Click,btoa(JSON.stringify({Report_WalletType_Key:"tgminiwallet"}))),u==null||u.closeModal(),fe.openOKXTMAWalletlinkWithFallback(l())};return he(ZU,{"data-tc-wallets-modal-connection-mobile":"true",get children(){return[he(sn,{get when(){return t.universalLinkParams()===null||t.connectError()||a()},get children(){return he(Z0,{children:"OKX Connect"})}}),he(sn,{get when(){return jt(()=>t.universalLinkParams()===null)()&&!t.connectError()},get children(){return[he(Xb,{}),he(Yh,{get wallet(){return t.wallet}})]}}),he(sn,{get when(){return t.universalLinkParams()!==null||t.connectError()},get children(){return[he(sn,{get when(){return t.connectError()},get children(){return he(U4,{get children(){return he(eA,{onRetry:w,get showRetry(){return t.showRetry}})}})}}),he(sn,{get when(){return!t.connectError()},get children(){return[he(sn,{get when(){return!a()},get children(){return he(GC,{get universalLink(){return h()},get walletInfo(){return t.wallet},get sessionConnecting(){return t.sessionConnecting}})}}),he(sn,{get when(){return a()},get children(){return he(U4,{get children(){return he(YC,{onConnectApp:y,onConnectMini:b})}})}})]}}),he(Yh,{get wallet(){return t.wallet}})]}})]}})},t$=t=>{const{locale:e}=Al()[1];return Si(()=>e(t.language)),Si(()=>{t.opened&&Sy()}),he(AU,{get opened(){return t.opened},onClose:()=>t.onClose("action-cancelled"),"data-tc-wallets-modal-container":"true",get children(){return[he(sn,{get when(){return t.loadingBeforeConnect()},get children(){return[he(Z0,{get children(){var n;return(n=t.walletInfo)==null?void 0:n.name}}),he(Xb,{})]}}),he(sn,{get when(){return!t.loadingBeforeConnect()},get children(){return he(Fb,{get component(){return ga()?YU:e$},get wallet(){return t.walletInfo},onBackClick:()=>{},backDisabled:!0,get connect(){return t.connect},get isSingleWallet(){return t.isSingleWallet},get universalLinkParams(){return t.universalLinkParams},get lastSelectedWalletInfo(){return t.lastSelectedWalletInfo},get setLastSelectedWalletInfo(){return t.setLastSelectedWalletInfo},get connectError(){return t.connectError},get showRetry(){return t.showRetry},get sessionConnecting(){return t.sessionConnecting}})}})]}})},n$={openWallet:"Open wallet",get:"Get",close:"Close",retry:"Retry"},r$={connectWallet:"Connect wallet",dropdown:{copy:"Copy address",copied:"Address copied",disconnect:"Disconnect"}},i$={confirm:{header:"Open {{ name }} to confirm."},transactionSent:{header:"Sent",text:"This action will be completed in a few seconds."},transactionCanceled:{header:"Canceled",text:"There’ll be no changes to your account."}},o$={mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"Show QR Code",scanQR:"Scan the QR code below with your phone’s or {{ name }}’s camera",continueIn:"Proceed in OKX Wallet",connectionDeclined:"Connection failed",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet is available on OKX App and Telegram"},connectApp:"Connect to OKX App",connectMini:"Connect to OKX Mini Wallet"}},s$={confirmTransaction:{header:"Confirm in {{ name }}",text:"It’ll only take a moment."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},a$={common:n$,button:r$,notifications:i$,walletModal:o$,actionModal:s$},l$={openWallet:"Открыть кошелек",get:"ПОЛУЧИТЬ",close:"Закрыть",retry:"Повторить попытку"},c$={connectWallet:"Подключить кошелек",dropdown:{copy:"Скопировать адрес",copied:"Адрес скопирован.",disconnect:"Отключить"}},u$={confirm:{header:"Откройте {{ name }} для подтверждения транзакции."},transactionSent:{header:"Транзакция отправлена",text:"Транзакция будет обработана через несколько секунд."},transactionCanceled:{header:"Транзакция отменена",text:"Изменений в аккаунте не будет."}},f$={mobileConnectionModal:{showQR:"Показать QR-код",scanQR:"Отсканируйте QR-код ниже с помощью камеры на телефоне или {{ name }}",continueIn:"Продолжить выполнение транзакции в Кошельке OKX",connectionDeclined:"Подключение отклонено",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"Кошелек OKX доступен в приложении OKX и в Telegram"},connectApp:"Подключиться к приложению OKX",connectMini:"Подключиться к мини-Кошельку OKX"}},d$={confirmTransaction:{header:"Подтвердите транзакцию в {{ name }}",text:"Это займет всего несколько секунд."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},h$={common:l$,button:c$,notifications:u$,walletModal:f$,actionModal:d$},p$={openWallet:"打开钱包",get:"获取",close:"关闭",retry:"再试一次"},g$={connectWallet:"连接钱包",dropdown:{copy:"复制地址",copied:"地址已复制",disconnect:"断开连接"}},v$={confirm:{header:"打开 {{ name }} 进行确认"},transactionSent:{header:"已发送",text:"即将完成，请稍候"},transactionCanceled:{header:"已取消",text:"账户未发生任何更改"}},m$={mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"展示二维码",scanQR:"使用手机或欧易钱包的相机扫描下方二维码",continueIn:"在欧易钱包中继续完成",connectionDeclined:"连接失败",PoweredBy:"Powered by",appAndTelegram:{header:"连接欧易钱包",text:"欧易钱包可在欧易 App 和 Telegram 使用"},connectApp:"连接欧易 App",connectMini:"连接欧易 Mini Wallet"}},y$={confirmTransaction:{header:"在 {{ name }} 中确认",text:"请稍候"},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},$4={common:p$,button:g$,notifications:v$,walletModal:m$,actionModal:y$},b$={openWallet:"فتح محفظة",get:"حصول",close:"إغلاق",retry:"إعادة المحاولة"},x$={connectWallet:"ربط المحفظة",dropdown:{copy:"نسخ العنوان",copied:"تم نسخ العنوان",disconnect:"إلغاء الربط"}},w$={confirm:{header:"افتح {{ name }} لتأكيد المعاملة."},transactionSent:{header:"أُرسلت المعاملة",text:"ستتم معالجة معاملتك في غضون ثوانٍ قليلة."},transactionCanceled:{header:"أُلغيت المعاملة",text:"لن تطرأ أية تغييرات على حسابك."}},_$={mobileConnectionModal:{showQR:"عرض رمز QR",scanQR:"امسح رمز QR أدناه باستخدام كاميرا هاتفك أو كاميرا هاتف {{ name }}",continueIn:"متابعة المعاملة في محفظة OKX",connectionDeclined:"فشل الاتصال",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"محفظة OKX متاحة على تطبيق OKX وTelegram"},connectApp:"الربط بتطبيق OKX",connectMini:"الربط بمحفظة OKX المصغرة"}},E$={confirmTransaction:{header:"تأكيد المعاملة في {{ name }}",text:"لن يستغرق الأمر سوى لحظات."}},C$={common:b$,button:x$,notifications:w$,walletModal:_$,actionModal:E$},A$={openWallet:"Otevřít peněženku",get:"Získat",close:"Zavřít",retry:"Zkusit znovu"},S$={connectWallet:"Připojit peněženku",dropdown:{copy:"Kopírovat adresu",copied:"Adresa zkopírována",disconnect:"Odpojit"}},O$={confirm:{header:"Otevřete {{ name }} a potvrďte transakci."},transactionSent:{header:"Transakce odeslána",text:"Vaše transakce bude zrušena během několika sekund."},transactionCanceled:{header:"Transakce zrušena",text:"Na vašem účtu nedojde k žádným změnám."}},D$={mobileConnectionModal:{showQR:"Zobrazit QR kód",scanQR:"Naskenujte níže uvedený QR kód pomocí kamery telefonu nebo {{ name }}",continueIn:"Potvrďte transakci v OKX Peněžence.",connectionDeclined:"Připojení selhalo",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Peněženka je k dispozici v aplikaci OKX a na síti Telegram."},connectApp:"Připojit k aplikaci OKX",connectMini:"Připojit k minipeněžence OKX"}},R$={confirmTransaction:{header:"Potvrďte transakci na {{ name }}.",text:"Zabere to jen chvilku."}},T$={common:A$,button:S$,notifications:O$,walletModal:D$,actionModal:R$},N$={openWallet:"Wallet öffnen",get:"Erhalten",close:"Schließen",retry:"Wiederholen"},P$={connectWallet:"Wallet verknüpfen",dropdown:{copy:"Adresse kopieren",copied:"Adresse kopiert",disconnect:"Trennen"}},k$={confirm:{header:"{{ name }} öffnen und Transaktion bestätigen."},transactionSent:{header:"Transaktion gesendet",text:"Ihre Transaktion wird in wenigen Sekunden bearbeitet."},transactionCanceled:{header:"Transaktion storniert",text:"Es werden keine Änderungen an Ihrem Konto vorgenommen."}},I$={mobileConnectionModal:{showQR:"QR-Code anzeigen",scanQR:"Scannen Sie den QR-Code unten mit der Kamera Ihres Telefons oder {{ name }}",continueIn:"Setzen Sie die Transaktion in der OKX Wallet fort",connectionDeclined:"Verbindung fehlgeschlagen",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet ist in der OKX App und auf Telegram verfügbar"},connectApp:"Mit der OKX-App verbinden",connectMini:"Mit der OKX-Mini-Wallet verbinden"}},M$={confirmTransaction:{header:"Transaktion in {{ name }} bestätigen",text:"Es dauert nur einen Augenblick."}},B$={common:N$,button:P$,notifications:k$,walletModal:I$,actionModal:M$},F$={openWallet:"Abrir wallet",get:"Consigue",close:"Cerrar",retry:"Volver a intentar"},L$={connectWallet:"Conectar billetera",dropdown:{copy:"Copiar dirección",copied:"Dirección copiada",disconnect:"Desconectar"}},U$={confirm:{header:"Abre {{ name }} para confirmar la transacción."},transactionSent:{header:"Transacción enviada",text:"Tu transacción se procesará en unos segundos."},transactionCanceled:{header:"Transacción cancelada",text:"No se realizarán cambios en tu cuenta."}},$$={mobileConnectionModal:{showQR:"Mostrar código QR",scanQR:"Escanea el siguiente código QR con la cámara de tu teléfono o de tu {{ name }}",continueIn:"Continuar con la transacción en OKX Wallet",connectionDeclined:"Error de conexión",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet está disponible en la OKX app y en Telegram"},connectApp:"Conectarse a la OKX app",connectMini:"Conectarse a la OKX Mini Wallet"}},j$={confirmTransaction:{header:"Confirma la transacción de {{ name }}",text:"Solo te llevará un momento."}},K$={common:F$,button:L$,notifications:U$,walletModal:$$,actionModal:j$},W$={openWallet:"Abrir billetera",get:"Obtener",close:"Cerrar",retry:"Reintentar"},H$={connectWallet:"Conectar billetera",dropdown:{copy:"Copiar dirección",copied:"Dirección copiada",disconnect:"Desconectar"}},X$={confirm:{header:"Abre {{ name }} para confirmar la transacción."},transactionSent:{header:"Transacción enviada",text:"Tu transacción se procesará en unos segundos."},transactionCanceled:{header:"Transacción cancelada",text:"No habrá cambios en tu cuenta."}},z$={mobileConnectionModal:{showQR:"Mostrar código QR",scanQR:"Escanea el siguiente código QR con la cámara de tu teléfono o {{ name }}",continueIn:"Continúa la transacción en OKX Wallet",connectionDeclined:"Error de conexión",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet está disponible en la aplicación de OKX y Telegram"},connectApp:"Conéctate a la aplicación de OKX",connectMini:"Conéctate a la OKX Mini Wallet"}},q$={confirmTransaction:{header:"Confirmar la transacción en {{ name }}",text:"Solo tomará un momento."}},V$={common:W$,button:H$,notifications:X$,walletModal:z$,actionModal:q$},J$={openWallet:"Portefeuille ouvert",get:"Obtenir",close:"Fermer",retry:"Réessayer"},G$={connectWallet:"Connecter le portefeuille",dropdown:{copy:"Copier l’adresse",copied:"Adresse copiée",disconnect:"Déconnecter"}},Q$={confirm:{header:"Ouvrir {{ name }} pour confirmer la transaction."},transactionSent:{header:"Transaction envoyée",text:"Votre transaction sera traitée en quelques secondes."},transactionCanceled:{header:"Transaction annulée",text:"Aucun changement ne sera apporté à votre compte."}},Y$={mobileConnectionModal:{showQR:"Afficher le code QR",scanQR:"Scannez le code QR ci-dessous avec la caméra de votre téléphone ou de votre {{ name }}.",continueIn:"Poursuivre la transaction dans OKX Wallet",connectionDeclined:"Échec de la connexion",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet est disponible sur OKX App et Telegram"},connectApp:"Se connecter à l’appli OKX",connectMini:"Se connecter à OKX Mini Wallet"}},Z$={confirmTransaction:{header:"Confirmer la transaction dans {{ name }}",text:"Cela ne prendra qu'un instant."}},ej={common:J$,button:G$,notifications:Q$,walletModal:Y$,actionModal:Z$},tj={openWallet:"Buka wallet",get:"Dapatkan",close:"Tutup",retry:"Coba lagi"},nj={connectWallet:"Hubungkan wallet",dropdown:{copy:"Salin alamat",copied:"Alamat disalin",disconnect:"Putuskan sambungan"}},rj={confirm:{header:"Buka {{ name }} untuk mengonfirmasi transaksi."},transactionSent:{header:"Transaksi terkirim",text:"Transaksi Anda akan diproses dalam beberapa detik."},transactionCanceled:{header:"Transaksi dibatalkan",text:"Tidak akan ada perubahan pada akun Anda."}},ij={mobileConnectionModal:{showQR:"Tampilkan Kode QR",scanQR:"Pindai kode QR di bawah dengan kamera ponsel atau {{ name }} Anda",continueIn:"Lanjutkan transaksi di OKX Wallet",connectionDeclined:"Koneksi gagal",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet tersedia di OKX App dan Telegram"},connectApp:"Hubungkan ke OKX App",connectMini:"Hubungkan ke OKX Mini Wallet"}},oj={confirmTransaction:{header:"Konfirmasi transaksi pada {{ name }}",text:"Hanya perlu beberapa saat."}},sj={common:tj,button:nj,notifications:rj,walletModal:ij,actionModal:oj},aj={openWallet:"Apri portafoglio",get:"Ottieni",close:"Chiudi",retry:"Riprova"},lj={connectWallet:"Connetti il portafoglio",dropdown:{copy:"Copia indirizzo",copied:"Indirizzo copiato",disconnect:"Disconnetti"}},cj={confirm:{header:"Apri {{ name }} per confermare la transazione."},transactionSent:{header:"Transazione inviata",text:"La transazione verrà elaborata in pochi secondi."},transactionCanceled:{header:"Transazione annullata",text:"Il tuo conto non subirà modifiche."}},uj={mobileConnectionModal:{showQR:"Mostra il codice QR",scanQR:"Scansiona il codice QR di seguito con la fotocamera del tuo smartphone o {{ name }}",continueIn:"Continua la transazione in OKX Wallet",connectionDeclined:"Collegamento non riuscito",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet è disponibile sull'app OKX e Telegram"},connectApp:"Connettiti all'app OKX",connectMini:"Connettiti a OKX Mini Wallet"}},fj={confirmTransaction:{header:"Conferma la transazione in {{ name }}",text:"Ci vorrà solo un secondo."}},dj={common:aj,button:lj,notifications:cj,walletModal:uj,actionModal:fj},hj={openWallet:"Wallet openen",get:"Krijgen",close:"Sluiten",retry:"Opnieuw proberen"},pj={connectWallet:"Wallet koppelen",dropdown:{copy:"Adres kopiëren",copied:"Adres gekopieerd",disconnect:"Verbinding verbreken"}},gj={confirm:{header:"Open {{ name }} om de transactie te bevestigen."},transactionSent:{header:"Transactie verstuurd",text:"Je transactie wordt binnen een paar seconden verwerkt."},transactionCanceled:{header:"Transactie geannuleerd",text:"Er verandert niets aan je account."}},vj={mobileConnectionModal:{showQR:"QR-code weergeven",scanQR:"Scan de QR-code hieronder met de camera van je telefoon of de camera van{{ name }}",continueIn:"Ga verder met de transactie in OKX Wallet",connectionDeclined:"Koppelen mislukt",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet is beschikbaar op OKX App en Telegram"},connectApp:"Koppelen met de OKX-app",connectMini:"Koppelen met OKX Mini Wallet"}},mj={confirmTransaction:{header:"De transactie in {{ name }} bevestigen",text:"Het is zo gebeurd."}},yj={common:hj,button:pj,notifications:gj,walletModal:vj,actionModal:mj},bj={openWallet:"Otwórz portfel",get:"Otrzymaj",close:"Zamknij",retry:"Spróbuj ponownie"},xj={connectWallet:"Połącz portfel",dropdown:{copy:"Kopiuj adres",copied:"Adres skopiowany",disconnect:"Rozłącz"}},wj={confirm:{header:"Otwórz {{ name }}, aby potwierdzić transakcję."},transactionSent:{header:"Wysłano transakcję",text:"Transakcja zostanie przetworzona w ciągu kilku sekund."},transactionCanceled:{header:"Anulowano transakcję",text:"Na koncie nie zostaną wprowadzone żadne zmiany."}},_j={mobileConnectionModal:{showQR:"Pokaż kod QR",scanQR:"Zeskanuj poniższy kod QR za pomocą aparatu w telefonie lub {{ name }}",continueIn:"Kontynuuj transakcję w OKX Wallet",connectionDeclined:"Połączenie nieudane",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet jest dostępny w aplikacji OKX i Telegramie"},connectApp:"Połącz z aplikacją OKX",connectMini:"Połącz z OKX Mini Wallet"}},Ej={confirmTransaction:{header:"Potwierdź transakcję w {{ name }}",text:"To zajmie tylko chwilę."}},Cj={common:bj,button:xj,notifications:wj,walletModal:_j,actionModal:Ej},Aj={openWallet:"Abrir carteira",get:"Receber",close:"Fechar",retry:"Tentar novamente"},Sj={connectWallet:"Conectar carteira",dropdown:{copy:"Copiar endereço",copied:"Endereço copiado",disconnect:"Desconectar"}},Oj={confirm:{header:"Abrir {{ name }} para confirmar a transação."},transactionSent:{header:"Transação enviada",text:"Sua transação será processada em alguns segundos."},transactionCanceled:{header:"Transação cancelada",text:"Não haverá alterações em sua conta."}},Dj={mobileConnectionModal:{showQR:"Mostrar Código QR",scanQR:"Digitalize o código QR abaixo com a câmera do seu telefone ou do {{ name }}",continueIn:"Continuar a transação na OKX Wallet",connectionDeclined:"Falha na conexão",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"A OKX Wallet está disponível na OKX App e no Telegram"},connectApp:"Conecte-se à OKX App",connectMini:"Conecte-se à OKX Mini Wallet"}},Rj={confirmTransaction:{header:"Confirmar a transação em {{ name }}",text:"Isso levará apenas um momento."}},Tj={common:Aj,button:Sj,notifications:Oj,walletModal:Dj,actionModal:Rj},Nj={openWallet:"Abrir carteira",get:"Receber",close:"Fechar",retry:"Tentar novamente"},Pj={connectWallet:"Associar carteira",dropdown:{copy:"Copiar endereço",copied:"Endereço copiado",disconnect:"Desassociar"}},kj={confirm:{header:"Abra {{ name }} para confirmar a transação."},transactionSent:{header:"Transação efetuada",text:"A sua transação será processada dentro de poucos segundos."},transactionCanceled:{header:"Transação cancelada",text:"Não serão feitas alterações à sua conta."}},Ij={mobileConnectionModal:{showQR:"Mostrar código QR",scanQR:"Leia o código QR abaixo com a câmara do seu telemóvel ou {{ name }}",continueIn:"Continuar a transação na OKX Wallet",connectionDeclined:"Falha na ligação",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"A OKX Wallet está disponível na Aplicação da OKX e no Telegram"},connectApp:"Associar à Aplicação da OKX",connectMini:"Associar à OKX Mini Wallet"}},Mj={confirmTransaction:{header:"Confirmar a transação na {{ name }}",text:"Demora apenas um momento."}},Bj={common:Nj,button:Pj,notifications:kj,walletModal:Ij,actionModal:Mj},Fj={openWallet:"Deschideți portofelul",get:"Primiți",close:"Închideți",retry:"Reîncercați"},Lj={connectWallet:"Conectați portofelul",dropdown:{copy:"Copiați adresa",copied:"Adresă copiată",disconnect:"Deconectați"}},Uj={confirm:{header:"Deschideți {{ name }} pentru a confirma tranzacția."},transactionSent:{header:"Tranzacție trimisă",text:"Tranzacția dvs. va fi procesată în câteva secunde."},transactionCanceled:{header:"Tranzacție anulată",text:"Nu va exista nicio modificare în cont."}},$j={mobileConnectionModal:{showQR:"Scanați codul QR",scanQR:"Scanați codul QR mai jos cu camera telefonului sau a {{ name }}",continueIn:"Continuați tranzacția în OKX Wallet",connectionDeclined:"Conexiunea a eșuat",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Wallet este disponibil din aplicația OKX și Telegram"},connectApp:"Conectați-vă la aplicația OKX",connectMini:"Conectați-vă la OKX Mini Wallet"}},jj={confirmTransaction:{header:"Confirmați tranzacția în {{ name }}",text:"Va dura doar un moment."}},Kj={common:Fj,button:Lj,notifications:Uj,walletModal:$j,actionModal:jj},Wj={openWallet:"Cüzdanı aç",get:"Al",close:"Kapat",retry:"Tekrar Dene"},Hj={connectWallet:"Cüzdanı bağla",dropdown:{copy:"Adresi kopyala",copied:"Adres kopyalandı!",disconnect:"Bağlantıyı kes"}},Xj={confirm:{header:"İşlemi onaylamak için {{ name }} ögesini açın."},transactionSent:{header:"İşlem gönderildi.",text:"İşleminiz birkaç saniye içinde gerçekleştirilecek."},transactionCanceled:{header:"İşlem iptal edildi!",text:"Hesabınızda değişiklik olmayacak."}},zj={mobileConnectionModal:{showQR:"QR Kodunu Göster",scanQR:"Aşağıdaki QR kodunu telefonunuzun veya {{ name }} cihazınızın kamerasıyla tarayın.",continueIn:"İşleme OKX Web3 Cüzdan’da devam edin.",connectionDeclined:"Bağlantı başarısız.",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Web3 Cüzdan, OKX Uygulamasında ve Telegram’da kullanıma sunuldu"},connectApp:"OKX Uygulamasına Bağlan",connectMini:"OKX Mini Cüzdanına Bağlan"}},qj={confirmTransaction:{header:"{{ name }} Konumunda İşlemi Onaylayın",text:"Bu yalnızca bir dakikanızı alacak."}},Vj={common:Wj,button:Hj,notifications:Xj,walletModal:zj,actionModal:qj},Jj={openWallet:"Відкритий гаманець",get:"Отримати",close:"Закрити",retry:"Повторити спробу"},Gj={connectWallet:"Підключити гаманець",dropdown:{copy:"Копіювати адресу",copied:"Адресу скопійовано",disconnect:"Відключити"}},Qj={confirm:{header:"Відкрийте {{ name }}, щоб підтвердити транзакцію."},transactionSent:{header:"Транзакцію надіслано",text:"Вашу транзакцію буде оброблено через кілька секунд."},transactionCanceled:{header:"Транзакцію скасовано",text:"У вашому акаунті не буде змін."}},Yj={mobileConnectionModal:{showQR:"Показати QR-код",scanQR:"Відскануйте наведений нижче QR-код за допомогою камери свого телефона або {{ name }}",continueIn:"Продовжте транзакцію в OKX Wallet",connectionDeclined:"Помилка підключення",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"OKX Гаманець доступний у застосунку OKX і Telegram"},connectApp:"Підключитися до застосунка OKX",connectMini:"Підключитися до мінігаманця OKX"}},Zj={confirmTransaction:{header:"Підтвердьте транзакцію в {{ name }}",text:"Це займе лише мить."}},eK={common:Jj,button:Gj,notifications:Qj,walletModal:Yj,actionModal:Zj},tK={openWallet:"Mở ví",get:"Nhận",close:"Đóng",retry:"Thử lại"},nK={connectWallet:"Kết nối ví",dropdown:{copy:"Sao chép địa chỉ",copied:"Đã sao chép địa chỉ",disconnect:"Ngắt kết nối"}},rK={confirm:{header:"Mở {{ name }} để xác nhận giao dịch."},transactionSent:{header:"Đã gửi giao dịch",text:"Giao dịch của bạn sẽ được xử lý trong vài giây."},transactionCanceled:{header:"Đã hủy giao dịch",text:"Không có thay đổi nào với tài khoản của bạn."}},iK={mobileConnectionModal:{showQR:"Hiển thị mã QR",scanQR:"Quét mã QR bên dưới bằng máy ảnh điện thoại hoặc {{ name }} của bạn",continueIn:"Tiếp tục giao dịch trên Ví Web3 OKX",connectionDeclined:"Kết nối không thành công",PoweredBy:"Powered by",appAndTelegram:{header:"Connect to OKX Wallet",text:"Ví Web3 OKX hiện có trên cả Ứng dụng OKX và Telegram"},connectApp:"Kết nối Ứng dụng OKX",connectMini:"Kết nối Ví Web3 OKX Mini"}},oK={confirmTransaction:{header:"Xác nhận giao dịch trong {{ name }}",text:"Nó chỉ mất chút thời gian."}},sK={common:tK,button:nK,notifications:rK,walletModal:iK,actionModal:oK},aK={openWallet:"打開錢包",get:"獲取",close:"關閉",retry:"重試"},lK={connectWallet:"連接錢包",dropdown:{copy:"複製地址",copied:"地址已複製",disconnect:"斷開連接"}},cK={confirm:{header:"打開 {{ name }} 以確認交易"},transactionSent:{header:"交易已發送",text:"交易即將完成，請稍候"},transactionCanceled:{header:"交易已取消",text:"賬戶未發生任何更改"}},uK={mobileConnectionModal:{OKXConnect:"OKX Connect",showQR:"展示二維碼",scanQR:"使用手機或 OKX 錢包的相機掃描下方二維碼",continueIn:"在 OKX 錢包中繼續完成",connectionDeclined:"連接失敗",PoweredBy:"Powered by",appAndTelegram:{header:"連接 OKX 錢包",text:" OKX 錢包可在 OKX App 和 Telegram 使用"},connectApp:"連接 OKX App",connectMini:"連接 OKX Mini Wallet"}},fK={confirmTransaction:{header:"在 {{ name }} 中確認交易",text:"請稍候"}},dK={common:aK,button:lK,notifications:cK,walletModal:uK,actionModal:fK},hK={en_US:zn(a$),ru_RU:zn(h$),zh_CN:zn($4),zh:zn($4),ar_AE:zn(C$),cs_CZ:zn(T$),de_DE:zn(B$),es_ES:zn(K$),es_LAT:zn(V$),fr_FR:zn(ej),id_ID:zn(sj),it_IT:zn(dj),nl_NL:zn(yj),pl_PL:zn(Cj),pt_BR:zn(Tj),pt_PT:zn(Bj),ro_RO:zn(Kj),tr_TR:zn(Vj),uk_UA:zn(eK),vi_VN:zn(sK),zh_TW:zn(dK)};function zn(t){const e="$",n=r=>{Object.entries(r).forEach(([i,o])=>{if(typeof o=="object"&&o)return n(o);if(typeof o=="string"){if(o[0]===e){const s=o.slice(1).split(".");let a=t;s.forEach(l=>{if(l in a)a=a[l];else throw new Error(`Cannot parse translations: there is no property ${l} in translation`)}),r[i]=a}o.slice(0,2)===`\\${e}`&&(r[i]=o.slice(1))}})};return n(t),t}const pK=Xe.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: 8px;
`,gK=Xe(m1)`
    margin-top: 16px;
`,vK=Xe(Os)`
    font-weight: 400;
    font-size: 16px;
    line-height: 20px;
    text-align: center;
    max-width: 250px;
    margin-top: 10px;
    color: ${t=>t.theme.colors.text.contrast};
`;Xe(If)`
    min-width: 112px;
    margin-top: 32px;
`;Xe(BC)`
    height: 16px;
    width: 16px;
`;const j4=Xe.div`
    margin-top: 24px;
  background-color: ${t=>t.theme.colors.text.primary};
  height: 48px;
  width: 262px;
  justify-content: center;
  border-radius: 24px;
  display: flex;
  align-items: center;
  gap: 8px;
`,zb=t=>{const e=v1(t),n=go(Sl),[r,i]=an(!0),[o,s]=an(!1),a=dr(),{action:l}=go(tA);Si(()=>{const f=l;s(!!f&&"sent"in f&&f.sent)});let c=n==null?void 0:n.universalLink;const u=()=>{fe.logDebug("ActionModal ====> onOpenWallet "),r(),i(!1),PU(c,"okx://web3?stack=true",{returnStrategy:"none",forceRedirect:!1})};return he(pK,ws(e,{get children(){return[jt(()=>t.icon),he(gK,{get translationKey(){return t.headerTranslationKey},get translationValues(){return t.headerTranslationValues}}),he(vK,{get translationKey(){return t.textTranslationKey},get translationValues(){return t.textTranslationValues}}),he(sn,{get when(){return n==null?void 0:n.showActionButton()},get children(){return[he(sn,{get when(){return t.showButton==="close"},get children(){return he(j4,{onClick:()=>t.onClose(),get children(){return he(Os,{fontWeight:700,fontSize:"16px",get color(){return a.colors.background.primary},get children(){return he(Qh,{translationKey:"common.close",children:"Close"})}})}})}}),he(sn,{get when(){return t.showButton==="open-wallet"},get children(){return he(j4,{onClick:u,get children(){return he(Os,{fontWeight:700,fontSize:"16px",get color(){return a.colors.background.primary},get children(){return he(Qh,{translationKey:"common.openWallet",children:"Open wallet"})}})}})}})]}})]}}))},mK=t=>{const e=go(Sl),[n]=Al(),r=()=>e.walletName?e.walletName:n("common.yourWallet",{},"Your wallet");return he(zb,{headerTranslationKey:"actionModal.confirmTransaction.header",get headerTranslationValues(){return{name:r()}},textTranslationKey:"actionModal.confirmTransaction.text",get icon(){return he(b1,{})},onClose:()=>t.onClose(),get showButton(){return ga()?"open-wallet":void 0},"data-tc-confirm-modal":"true"})},yK=t=>he(zb,{headerTranslationKey:"actionModal.transactionCanceled.header",textTranslationKey:"actionModal.transactionCanceled.text",get icon(){return he(MC,{size:"m"})},onClose:()=>t.onClose(),get showButton(){return ga()?"close":void 0},"data-tc-transaction-canceled-modal":"true"}),bK=t=>he(zb,{headerTranslationKey:"actionModal.transactionSent.header",textTranslationKey:"actionModal.transactionSent.text",get icon(){return he(gL,{size:"m"})},onClose:()=>t.onClose(),get showButton(){return ga()?"close":void 0},"data-tc-transaction-sent-modal":"true"}),tA=Tf({action:null}),xK=t=>(Si(()=>{console.log("ActionsModal",t.action)}),he(tA.Provider,{get value(){return{action:t.action}},get children(){return he(LC,{get opened(){var e;return t.action!==null&&((e=t.action)==null?void 0:e.openModal)===!0},onClose:()=>t.setAction(null),"data-tc-actions-modal-container":"true",get children(){return he(wC,{get children(){return[he(qa,{get when(){return t.action.name==="transaction-sent"},get children(){return he(bK,{onClose:()=>t.setAction(null)})}}),he(qa,{get when(){return t.action.name==="transaction-canceled"},get children(){return he(yK,{onClose:()=>t.setAction(null)})}}),he(qa,{get when(){return t.action.name==="confirm-transaction"},get children(){return he(mK,{onClose:()=>t.setAction(null)})}})]}})}})}})),x1={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#0098EA",telegramButton:"#0098EA",qrFill:"#000000",icon:{primary:"#0F0F0F",secondary:"#7A8999",tertiary:"#C1CAD2",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#FFFFFF",secondary:"#F1F3F5",segment:"#FFFFFF",tint:"#F1F3F5",qr:"#FFFFFF"},text:{primary:"#000000",secondary:"#6A7785",contrast:"#909090"},border:{primary:"#00000014",secondary:"#00000024"},disable:"#B3B3B3"},nA={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#E5E5EA",telegramButton:"#31A6F5",qrFill:"#FFFFFF",icon:{primary:"#E5E5EA",secondary:"#909099",tertiary:"#434347",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#121214",secondary:"#18181A",segment:"#262629",tint:"#222224",qr:"#121214"},text:{primary:"#FFFFFF",secondary:"#7D7D85",contrast:"#909090"},border:{primary:"#FFFFFF1F",secondary:"#FFFFFF30"},disable:"#5B5B5B"};Mf({theme:Xr.LIGHT,colors:x1,borderRadius:"m"});Xr.LIGHT+"",Xr.DARK+"";Xr.LIGHT+"",Xr.DARK+"";/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function K4(t){return Object.prototype.toString.call(t)==="[object Object]"}function wK(t){var e,n;return K4(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(K4(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function W4(t,e){return t?eM(e,t,{arrayMerge:(r,i,o)=>i,isMergeableObject:wK}):e}const _K=["en_US","ru_RU","zh_CN","zh","ar_AE","cs_CZ","de_DE","es_ES","es_LAT","fr_FR","id_ID","it_IT","nl_NL","pl_PL","pt_BR","pt_PT","ro_RO","tr_TR","uk_UA","vi_VN","zh_TW"];function EK(t){return _K.includes(t)}const[CK,NZ]=an({status:"closed",closeReason:null});jt(()=>CK().status==="opened");const[Zh,H4]=an({status:"closed",closeReason:null}),AK=jt(()=>Zh().status==="opened"),SK=jt(()=>{const t=Zh();return t.status==="opened"?t.walletInfo:null});let mc=typeof window<"u"?new Wb:void 0;const[y0,OK]=an((mc==null?void 0:mc.getLastSelectedWalletInfo())||null),rA=t=>{mc||(mc=new Wb),t?(da(`modals-state.ts: setLastSelectedWalletInfo ${JSON.stringify(t)}`),mc.setLastSelectedWalletInfo(t)):(da("modals-state.ts: setLastSelectedWalletInfo    removeLastSelectedWalletInfo"),mc.removeLastSelectedWalletInfo()),OK(t)},[DK,ky]=an(null),[rs,Iy]=Mf({language:"en_US"}),RK=()=>{const t=go(Sl),e=go(qC),[n,r]=an(null),[i,o]=an(!1),[s,a]=an(!1),l=c=>{t.closeModal(c)};return e==null||e.on("okx_engine_connect_params",c=>{fe.logDebug(`UniversalSigneWalletModal  okx_engine_connect_params  ${JSON.stringify(c)}`),r(c)}),e==null||e.on("session_connecting",()=>{fe.logDebug("UniversalSigneWalletModal  session_connecting  }"),a(!0)}),he(t$,{get opened(){return AK()},get walletInfo(){return SK()},loadingBeforeConnect:()=>!1,connect:()=>new Promise((c,u)=>{var f,d;rs.connectRequestParameters&&new bs("connect params is nil");let p=lr({},JSON.parse(JSON.stringify(rs.connectRequestParameters)));p.sessionConfig={},p.sessionConfig.openUniversalUrl=$F((f=rs.connectRequestParameters)==null?void 0:f.namespaces,(d=rs.connectRequestParameters)==null?void 0:d.optionalNamespaces),o(!1),r(null),a(!1),t.handleConnect(h=>(p.sessionConfig.tmaReturnUrl=h==null?void 0:h.tmaReturnUrl,p.sessionConfig.redirect=h==null?void 0:h.returnStrategy,e.connect(p))).then(h=>{h?(l("wallet-selected"),c(h)):(o(!0),l("action-cancelled"))}).catch(h=>{o(!0),fe.logDebug("UniversalSingleWalletModal connect  error",JSON.stringify(h)),u(h)})}),onClose:l,universalLinkParams:n,get isSingleWallet(){var c,u;return!TC((c=rs.connectRequestParameters)==null?void 0:c.namespaces,(u=rs.connectRequestParameters)==null?void 0:u.optionalNamespaces)},get lastSelectedWalletInfo(){return y0()},setLastSelectedWalletInfo:rA,connectError:i,showRetry:!1,get language(){return rs.language},sessionConnecting:s})},[TK,NK]=Mf({theme:Xr.LIGHT,colors:x1,borderRadius:"m"}),PK={[Xr.LIGHT]:x1,[Xr.DARK]:nA};Xr.LIGHT+"",Xr.DARK+"";function Fv(t){NK({theme:t,colors:PK[t]})}const kK=t=>{const e=YL(hK,rs.language);return JF(),VF(),he(XC.Provider,{value:e,get children(){return he(Sl.Provider,{get value(){return t.connectUI},get children(){return he(qC.Provider,{get value(){return rs.connector},get children(){return[he(DF,{}),he(SF,{theme:TK,get children(){return he(Fb,{component:cs,style:{position:"relative","z-index":3001},get children(){return[he(RK,{}),he(xK,{get action(){return DK()},setAction:ky})]}})}})]}})}})}})},yc={openSingleWalletModal:t=>{fe.logDebug(`universalWidgetController : openSingleWalletModal : ${JSON.stringify(t)}`),setTimeout(()=>H4({status:"opened",closeReason:null,walletInfo:t}))},closeSingleWalletModal:t=>void setTimeout(()=>H4({status:"closed",closeReason:t})),setAction:t=>void setTimeout(()=>ky(t)),clearAction:()=>void setTimeout(()=>{console.log("clearAction"),ky(null)}),getSelectedWalletInfo:()=>y0(),removeSelectedWalletInfo:()=>rA(null),renderUniversalApp:(t,e)=>lF(()=>he(kK,{connectUI:e}),document.getElementById(t))};class IK{constructor(){gn(this,"listeners",[])}listen(e){this.listeners.push(e)}trigger(e){this.listeners.forEach(n=>n(e))}}class MK{constructor(e){gn(this,"consumers",[]),gn(this,"getWalltsInfo"),gn(this,"connectSignal",new IK),gn(this,"state",Zh()),this.getWalltsInfo=e.getWalltsInfo,Si(()=>{const n=Zh();this.state=n,this.consumers.forEach(r=>r(n))})}open(e,n){return si(this,null,function*(){fe.logDebug(`UniversalSingleWalletModalManager : open : ${JSON.stringify(n)}`);const i=this.getWalltsInfo().find(s=>RC(s,e));if(i)return this.openSingleWalletModal(i,n);const o=`Trying to open modal window with unknown wallet "${e}".`;throw new bs(o)})}close(e="action-cancelled"){yc.closeSingleWalletModal(e)}onStateChange(e){return this.consumers.push(e),()=>{this.consumers=this.consumers.filter(n=>n!==e)}}handleConnect(e,n){return si(this,null,function*(){return new Promise((r,i)=>{try{e(n).then(o=>{r(o),fe.logDebug("UniversalSingleWalletModalManager  result >>>",JSON.stringify(o)),this.connectSignal.trigger(o)}).catch(o=>{i(o),fe.logDebug("UniversalSingleWalletModalManager  error >>>",JSON.stringify(o)),this.connectSignal.trigger(o)})}catch(o){i(o),fe.logDebug("UniversalSingleWalletModalManager  catch error >>>",JSON.stringify(o)),this.connectSignal.trigger(o)}})})}openSingleWalletModal(e,n){return si(this,null,function*(){return fe.logDebug(`UniversalSingleWalletModalManager : openSingleWalletModal : ${JSON.stringify(n)}`),Pf()&&PF(),Iy({connectRequestParameters:n}),yc.openSingleWalletModal(e),new Promise((r,i)=>{this.connectSignal.listen(o=>{o instanceof Error?i(o):r(o)})})})}}function BK(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function u(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var h=0,m=0,w=0,x=p.length;w!==x&&p[w]===0;)w++,h++;for(var y=(x-w)*c+1>>>0,b=new Uint8Array(y);w!==x;){for(var E=p[w],O=0,N=y-1;(E!==0||O<m)&&N!==-1;N--,O++)E+=256*b[N]>>>0,b[N]=E%s>>>0,E=E/s>>>0;if(E!==0)throw new Error("Non-zero carry");m=O,w++}for(var R=y-m;R!==y&&b[R]===0;)R++;for(var L=a.repeat(h);R<y;++R)L+=t.charAt(b[R]);return L}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;for(var h=0,m=0,w=0;p[h]===a;)m++,h++;for(var x=(p.length-h)*l+1>>>0,y=new Uint8Array(x);p[h];){var b=e[p.charCodeAt(h)];if(b===255)return;for(var E=0,O=x-1;(b!==0||E<w)&&O!==-1;O--,E++)b+=s*y[O]>>>0,y[O]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");w=E,h++}for(var N=x-w;N!==x&&y[N]===0;)N++;for(var R=new Uint8Array(m+(x-N)),L=m;N!==x;)R[L++]=y[N++];return R}function d(p){var h=f(p);if(h)return h;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:f,decode:d}}var FK=BK;const LK=FK,UK="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var $K=LK(UK);class bc{constructor(e,n){gn(this,"singleWalletModal"),gn(this,"actionsConfiguration"),gn(this,"systemThemeChangeUnsubscribe",null),gn(this,"universalProvider"),fe.logDebug("OKXUniversalConnectUI constructor options:",JSON.stringify(e)),this.singleWalletModal=new MK({getWalltsInfo:()=>bc.getWallets()});const r=this.normalizeWidgetRoot(void 0);this.universalProvider=n,this.uiOptions=W4(e,{uiPreferences:{theme:"SYSTEM"},dappMetaData:e.dappMetaData}),Iy({connector:n}),yc.renderUniversalApp(r,this)}static getWallets(){return[fe.creatOKXWalletInfo(),fe.creatOKXMiniAppWalletInfo()]}set uiOptions(e){var n,r,i;fe.logDebug("OKXUniversalConnectUI uiOptions() called"),this.actionsConfiguration=e.actionsConfiguration,(n=e.uiPreferences)!=null&&n.theme&&(((r=e.uiPreferences)==null?void 0:r.theme)!=="SYSTEM"?((i=this.systemThemeChangeUnsubscribe)==null||i.call(this),Fv(e.uiPreferences.theme)):(Fv(HF()),this.systemThemeChangeUnsubscribe||(this.systemThemeChangeUnsubscribe=XF(Fv)))),e.language&&!EK(e.language.toString())&&(e.language="en_US"),Iy(o=>{var s;return W4(lr(lr({},e.language&&{language:e.language}),!!((s=e.actionsConfiguration)!=null&&s.returnStrategy)&&{returnStrategy:e.actionsConfiguration.returnStrategy}),Vc(o))})}request(e,n,r){return si(this,null,function*(){var i,o,s,a,l;if(fe.logDebug("OKXUniversalConnectUI request() called"),!this.session)throw new bs("Connect wallet to send a transaction.");const c={returnStrategy:Ja("mobile")&&((i=y0())==null?void 0:i.openMethod)!=="qrcode"?r==null?void 0:r.returnStrategy:"none",modals:r==null?void 0:r.modals,tmaReturnUrl:(o=r==null?void 0:r.tmaReturnUrl)!=null?o:"back"},{modals:u,returnStrategy:f,tmaReturnUrl:d}=this.getModalsAndNotificationsConfiguration(c),p=Vr(lr({},e),{redirect:f}),h=this.universalProvider.showRequestModal(p,n);yc.setAction({name:"confirm-transaction",openModal:u.includes("before")&&h,sent:!1}),!((s=this.session.sessionConfig)!=null&&s.openUniversalUrl)&&h&&WF(this.getConnectWallet(),(a=y0())==null?void 0:a.openMethod)&&jF(this.getConnectWallet(),d,this.session.namespaces),this.session.sessionConfig&&(this.session.sessionConfig.openUniversalUrl=this.session.sessionConfig.openUniversalUrl&&ga()&&((l=y0())==null?void 0:l.openMethod)!=="qrcode");try{const m=yield this.universalProvider.request(p,n);return yc.setAction({name:"transaction-sent",openModal:u.includes("success")&&h}),m}catch(m){throw fe.logDebug(`OKXUniversalConnectUI  request  ==>  ${typeof m} ==> is core OKXConnectError: ${m instanceof fe.OKXConnectError} ==> is universal-provider OKXConnectError: ${m instanceof Jl.OKXConnectError} ==>  ${JSON.stringify(m)}`),yc.setAction({name:"transaction-canceled",openModal:u.includes("error")&&h}),m instanceof fe.OKXConnectError||m instanceof Jl.OKXConnectError?(fe.logDebug(`OKXUniversalConnectUI  request  ==> ${JSON.stringify(m)}`),m):new bs("Unhandled error:"+m)}})}getModalsAndNotificationsConfiguration(e){var n,r,i;const o=["before","success","error"];let s=["before"];(n=this.actionsConfiguration)!=null&&n.modals&&(this.actionsConfiguration.modals==="all"?s=o:s=this.actionsConfiguration.modals),e!=null&&e.modals&&(e.modals==="all"?s=o:s=e.modals);const a=(e==null?void 0:e.returnStrategy)||((r=this.actionsConfiguration)==null?void 0:r.returnStrategy)||"back",l=(e==null?void 0:e.tmaReturnUrl)||((i=this.actionsConfiguration)==null?void 0:i.tmaReturnUrl)||"back";return{modals:s,tmaReturnUrl:l,returnStrategy:a}}static init(e){return si(this,null,function*(){if(fe.logDebug("OKXUniversalConnectUI init() called"),e&&"dappMetaData"in e&&e.dappMetaData){let n;if(window&&window.okxConnectUniversalUIinwindow&&window.okxConnectUniversalUIinwindow instanceof bc)fe.logDebug("OKXUniversalConnectUI init() old called"),n=window.okxConnectUniversalUIinwindow;else{fe.logDebug("OKXUniversalConnectUI init() new called");let r=yield Jl.OKXUniversalProvider.init({dappMetaData:e.dappMetaData});n=new bc(e,r),window&&(window.okxConnectUniversalUIinwindow=n)}return n}else throw new bs("You have to specify a `dappMetaData`in the options.")})}normalizeWidgetRoot(e){if(!e||!document.getElementById(e)){e="universal-widget-root";const n=document.createElement("div");n.id=e,document.body.appendChild(n)}return e}getWallets(){return bc.getWallets()}handleConnect(e){return si(this,null,function*(){return this.singleWalletModal.handleConnect(e,this.actionsConfiguration)})}checkConnectMethods(e,n){return si(this,null,function*(){if(fe.logDebug("checkConnectMethods connectParams>>>>",JSON.stringify(e)),fe.logDebug("checkConnectMethods responseItems>>>>",JSON.stringify(n)),this.universalProvider.session&&e&&e.length>0&&(!n||n.length===0)){var r=e[0];if(r){if(r.method==="sync_all_addresses")return;let i=[];try{let o=yield Jl.connectMethodsAdaptOldVersion(r,this.universalProvider.session);fe.logDebug("checkConnectMethods callBackParams111>>>>",JSON.stringify(o));let s={};Pf()&&(s.returnStrategy="tg://resolve"),fe.logDebug("checkConnectMethods requestItem>>>>",JSON.stringify(r)),fe.logDebug("checkConnectMethods callBackParams222>>>>",JSON.stringify(o)),this.request(r,r.chainId,s).then(a=>{let l=a;if(fe.logDebug(`checkConnectMethods then resultItem ====> ${JSON.stringify(l)}`),r.method==="wallet_addEthereumChain")l={method:r.method,chainId:r.chainId,result:""};else if(r.method==="personal_sign")l={method:r.method,chainId:r.chainId,result:l};else if(r.method==="btc_signMessage")l.chainId=r.chainId;else if(r.method==="solana_signMessage"){let c=l.result;l.chainId=r.chainId,l.result=Vr(lr({},o),{signature:$K.decode(c)})}else if(r.method==="sui_signMessage"||r.method==="sui_signPersonalMessage"){const c=l.result;l.chainId=r.chainId,l.result=Vr(lr({},o),{signature:c})}else if(r.method==="aptos_signMessage"){let c=l.result;c.startsWith("0x")&&(c=c.slice(2,c.length)),l.chainId=r.chainId,l.result=Vr(lr({},o),{signature:c})}else r.method==="cosmos_signArbitrary"&&typeof l.result=="string"&&(l.chainId=r.chainId,l.result=JSON.parse(l.result));i.push(l),fe.logDebug(`OKXUniversalConnectUI checkConnectMethods success result ====> ${JSON.stringify(i)}`),this.universalProvider.events.emit("connect_signResponse",i)}).catch(a=>{let l=Jl.creatNotSupportMethodItemReplay(r);i.push(l),fe.logDebug(`OKXUniversalConnectUI checkConnectMethods error ====> ${JSON.stringify(a)}`),this.universalProvider.events.emit("connect_signResponse",i)})}catch(o){let s=Jl.creatNotSupportMethodItemReplay(r);i.push(s),fe.logDebug(`OKXUniversalConnectUI checkConnectMethods error ====> ${JSON.stringify(o)}`),this.universalProvider.events.emit("connect_signResponse",i)}}else console.log("checkConnectMethods requestItem is nil",JSON.stringify(e))}})}openModalAndSign(e,n){return si(this,null,function*(){fe.logDebug("OKXUniversalConnectUI openModalAndSign() called");const r=Vr(lr({},e),{signRequest:n});return fe.logDebug("OKXUniversalConnectUI openModalAndSign() opts:",JSON.stringify(e)),fe.logDebug("OKXUniversalConnectUI openModalAndSign() signRequest:",JSON.stringify(n)),yield this.openModal(r)})}openModal(e){return si(this,null,function*(){fe.logDebug("OKXUniversalConnectUI openModal() called");try{if(this.connected())return this.session;var n=yield this.singleWalletModal.open("okxAppWallet",e);return this.checkConnectMethods(e.signRequest,n==null?void 0:n.signResponse),n}catch(r){throw r}})}closeModal(e){this.singleWalletModal.close(e)}onSingleWalletModalStateChange(e){return console.log("ui - onSingleWalletModalStateChange",e),this.singleWalletModal.onStateChange(e)}onModalStateChange(e){return console.log("ui - onModalStateChange",e),this.onSingleWalletModalStateChange(e)}showActionButton(){return jb(this.getConnectWallet())&&ga()}getUniversalProvider(){return this.universalProvider}getConnectWallet(){var e,n;return fe.logDebug(`this.session?.wallet?.appName ${(n=(e=this.universalProvider.session)==null?void 0:e.wallet)==null?void 0:n.appName}`),this.getWallets().find(r=>{var i,o;return RC(r,(o=(i=this.universalProvider.session)==null?void 0:i.wallet)==null?void 0:o.appName)})}get universalLink(){var e,n;return fe.logDebug(`this.getConnectWallet()?.universalLink ${(e=this.getConnectWallet())==null?void 0:e.universalLink}`),(n=this.getConnectWallet())==null?void 0:n.universalLink}get deepLink(){var e;return(e=this.getConnectWallet())==null?void 0:e.deepLink}get session(){return this.universalProvider.session}setDefaultChain(e,n){this.universalProvider.setDefaultChain(e,n)}on(e,n){this.universalProvider.on(e,n)}once(e,n){this.universalProvider.once(e,n)}removeListener(e,n){this.universalProvider.removeListener(e,n)}off(e,n){this.universalProvider.off(e,n)}get walletName(){var e,n;return fe.logDebug(`this.getConnectWallet()?.walletName ${(e=this.getConnectWallet())==null?void 0:e.name}`),(n=this.getConnectWallet())==null?void 0:n.name}disconnect(){return this.universalProvider.disconnect()}connected(){return this.universalProvider.connected()}requestAccountsWithNamespace(e){return this.universalProvider.requestAccountsWithNamespace(e)}requestDefaultChainWithNamespace(e){return this.universalProvider.requestDefaultChainWithNamespace(e)}}var qb={exports:{}};qb.exports;(function(t){(function(e,n){function r(P,v){if(!P)throw new Error(v||"Assertion failed")}function i(P,v){P.super_=v;var g=function(){};g.prototype=v.prototype,P.prototype=new g,P.prototype.constructor=P}function o(P,v,g){if(o.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&((v==="le"||v==="be")&&(g=v,v=10),this._init(P||0,v||10,g||"be"))}typeof e=="object"?e.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Mp.Buffer}catch{}o.isBN=function(v){return v instanceof o?!0:v!==null&&typeof v=="object"&&v.constructor.wordSize===o.wordSize&&Array.isArray(v.words)},o.max=function(v,g){return v.cmp(g)>0?v:g},o.min=function(v,g){return v.cmp(g)<0?v:g},o.prototype._init=function(v,g,_){if(typeof v=="number")return this._initNumber(v,g,_);if(typeof v=="object")return this._initArray(v,g,_);g==="hex"&&(g=16),r(g===(g|0)&&g>=2&&g<=36),v=v.toString().replace(/\s+/g,"");var T=0;v[0]==="-"&&(T++,this.negative=1),T<v.length&&(g===16?this._parseHex(v,T,_):(this._parseBase(v,g,T),_==="le"&&this._initArray(this.toArray(),g,_)))},o.prototype._initNumber=function(v,g,_){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[v&67108863],this.length=1):v<4503599627370496?(this.words=[v&67108863,v/67108864&67108863],this.length=2):(r(v<9007199254740992),this.words=[v&67108863,v/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),g,_)},o.prototype._initArray=function(v,g,_){if(r(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var D,I,j=0;if(_==="be")for(T=v.length-1,D=0;T>=0;T-=3)I=v[T]|v[T-1]<<8|v[T-2]<<16,this.words[D]|=I<<j&67108863,this.words[D+1]=I>>>26-j&67108863,j+=24,j>=26&&(j-=26,D++);else if(_==="le")for(T=0,D=0;T<v.length;T+=3)I=v[T]|v[T+1]<<8|v[T+2]<<16,this.words[D]|=I<<j&67108863,this.words[D+1]=I>>>26-j&67108863,j+=24,j>=26&&(j-=26,D++);return this._strip()};function a(P,v){var g=P.charCodeAt(v);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;r(!1,"Invalid character in "+P)}function l(P,v,g){var _=a(P,g);return g-1>=v&&(_|=a(P,g-1)<<4),_}o.prototype._parseHex=function(v,g,_){this.length=Math.ceil((v.length-g)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var D=0,I=0,j;if(_==="be")for(T=v.length-1;T>=g;T-=2)j=l(v,g,T)<<D,this.words[I]|=j&67108863,D>=18?(D-=18,I+=1,this.words[I]|=j>>>26):D+=8;else{var B=v.length-g;for(T=B%2===0?g+1:g;T<v.length;T+=2)j=l(v,g,T)<<D,this.words[I]|=j&67108863,D>=18?(D-=18,I+=1,this.words[I]|=j>>>26):D+=8}this._strip()};function c(P,v,g,_){for(var T=0,D=0,I=Math.min(P.length,g),j=v;j<I;j++){var B=P.charCodeAt(j)-48;T*=_,B>=49?D=B-49+10:B>=17?D=B-17+10:D=B,r(B>=0&&D<_,"Invalid character"),T+=D}return T}o.prototype._parseBase=function(v,g,_){this.words=[0],this.length=1;for(var T=0,D=1;D<=67108863;D*=g)T++;T--,D=D/g|0;for(var I=v.length-_,j=I%T,B=Math.min(I,I-j)+_,C=0,H=_;H<B;H+=T)C=c(v,H,H+T,g),this.imuln(D),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C);if(j!==0){var ae=1;for(C=c(v,H,v.length,g),H=0;H<j;H++)ae*=g;this.imuln(ae),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C)}this._strip()},o.prototype.copy=function(v){v.words=new Array(this.length);for(var g=0;g<this.length;g++)v.words[g]=this.words[g];v.length=this.length,v.negative=this.negative,v.red=this.red};function u(P,v){P.words=v.words,P.length=v.length,P.negative=v.negative,P.red=v.red}if(o.prototype._move=function(v){u(v,this)},o.prototype.clone=function(){var v=new o(null);return this.copy(v),v},o.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(v,g){v=v||10,g=g|0||1;var _;if(v===16||v==="hex"){_="";for(var T=0,D=0,I=0;I<this.length;I++){var j=this.words[I],B=((j<<T|D)&16777215).toString(16);D=j>>>24-T&16777215,T+=2,T>=26&&(T-=26,I--),D!==0||I!==this.length-1?_=d[6-B.length]+B+_:_=B+_}for(D!==0&&(_=D.toString(16)+_);_.length%g!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(v===(v|0)&&v>=2&&v<=36){var C=p[v],H=h[v];_="";var ae=this.clone();for(ae.negative=0;!ae.isZero();){var U=ae.modrn(H).toString(v);ae=ae.idivn(H),ae.isZero()?_=U+_:_=d[C-U.length]+U+_}for(this.isZero()&&(_="0"+_);_.length%g!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=this.words[1]*67108864:this.length===3&&this.words[2]===1?v+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(v,g){return this.toArrayLike(s,v,g)}),o.prototype.toArray=function(v,g){return this.toArrayLike(Array,v,g)};var m=function(v,g){return v.allocUnsafe?v.allocUnsafe(g):new v(g)};o.prototype.toArrayLike=function(v,g,_){this._strip();var T=this.byteLength(),D=_||Math.max(1,T);r(T<=D,"byte array longer than desired length"),r(D>0,"Requested array length <= 0");var I=m(v,D),j=g==="le"?"LE":"BE";return this["_toArrayLike"+j](I,T),I},o.prototype._toArrayLikeLE=function(v,g){for(var _=0,T=0,D=0,I=0;D<this.length;D++){var j=this.words[D]<<I|T;v[_++]=j&255,_<v.length&&(v[_++]=j>>8&255),_<v.length&&(v[_++]=j>>16&255),I===6?(_<v.length&&(v[_++]=j>>24&255),T=0,I=0):(T=j>>>24,I+=2)}if(_<v.length)for(v[_++]=T;_<v.length;)v[_++]=0},o.prototype._toArrayLikeBE=function(v,g){for(var _=v.length-1,T=0,D=0,I=0;D<this.length;D++){var j=this.words[D]<<I|T;v[_--]=j&255,_>=0&&(v[_--]=j>>8&255),_>=0&&(v[_--]=j>>16&255),I===6?(_>=0&&(v[_--]=j>>24&255),T=0,I=0):(T=j>>>24,I+=2)}if(_>=0)for(v[_--]=T;_>=0;)v[_--]=0},Math.clz32?o.prototype._countBits=function(v){return 32-Math.clz32(v)}:o.prototype._countBits=function(v){var g=v,_=0;return g>=4096&&(_+=13,g>>>=13),g>=64&&(_+=7,g>>>=7),g>=8&&(_+=4,g>>>=4),g>=2&&(_+=2,g>>>=2),_+g},o.prototype._zeroBits=function(v){if(v===0)return 26;var g=v,_=0;return g&8191||(_+=13,g>>>=13),g&127||(_+=7,g>>>=7),g&15||(_+=4,g>>>=4),g&3||(_+=2,g>>>=2),g&1||_++,_},o.prototype.bitLength=function(){var v=this.words[this.length-1],g=this._countBits(v);return(this.length-1)*26+g};function w(P){for(var v=new Array(P.bitLength()),g=0;g<v.length;g++){var _=g/26|0,T=g%26;v[g]=P.words[_]>>>T&1}return v}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,g=0;g<this.length;g++){var _=this._zeroBits(this.words[g]);if(v+=_,_!==26)break}return v},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},o.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var g=0;g<v.length;g++)this.words[g]=this.words[g]|v.words[g];return this._strip()},o.prototype.ior=function(v){return r((this.negative|v.negative)===0),this.iuor(v)},o.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},o.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},o.prototype.iuand=function(v){var g;this.length>v.length?g=v:g=this;for(var _=0;_<g.length;_++)this.words[_]=this.words[_]&v.words[_];return this.length=g.length,this._strip()},o.prototype.iand=function(v){return r((this.negative|v.negative)===0),this.iuand(v)},o.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},o.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},o.prototype.iuxor=function(v){var g,_;this.length>v.length?(g=this,_=v):(g=v,_=this);for(var T=0;T<_.length;T++)this.words[T]=g.words[T]^_.words[T];if(this!==g)for(;T<g.length;T++)this.words[T]=g.words[T];return this.length=g.length,this._strip()},o.prototype.ixor=function(v){return r((this.negative|v.negative)===0),this.iuxor(v)},o.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},o.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},o.prototype.inotn=function(v){r(typeof v=="number"&&v>=0);var g=Math.ceil(v/26)|0,_=v%26;this._expand(g),_>0&&g--;for(var T=0;T<g;T++)this.words[T]=~this.words[T]&67108863;return _>0&&(this.words[T]=~this.words[T]&67108863>>26-_),this._strip()},o.prototype.notn=function(v){return this.clone().inotn(v)},o.prototype.setn=function(v,g){r(typeof v=="number"&&v>=0);var _=v/26|0,T=v%26;return this._expand(_+1),g?this.words[_]=this.words[_]|1<<T:this.words[_]=this.words[_]&~(1<<T),this._strip()},o.prototype.iadd=function(v){var g;if(this.negative!==0&&v.negative===0)return this.negative=0,g=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,g=this.isub(v),v.negative=1,g._normSign();var _,T;this.length>v.length?(_=this,T=v):(_=v,T=this);for(var D=0,I=0;I<T.length;I++)g=(_.words[I]|0)+(T.words[I]|0)+D,this.words[I]=g&67108863,D=g>>>26;for(;D!==0&&I<_.length;I++)g=(_.words[I]|0)+D,this.words[I]=g&67108863,D=g>>>26;if(this.length=_.length,D!==0)this.words[this.length]=D,this.length++;else if(_!==this)for(;I<_.length;I++)this.words[I]=_.words[I];return this},o.prototype.add=function(v){var g;return v.negative!==0&&this.negative===0?(v.negative=0,g=this.sub(v),v.negative^=1,g):v.negative===0&&this.negative!==0?(this.negative=0,g=v.sub(this),this.negative=1,g):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},o.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var g=this.iadd(v);return v.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var _=this.cmp(v);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,D;_>0?(T=this,D=v):(T=v,D=this);for(var I=0,j=0;j<D.length;j++)g=(T.words[j]|0)-(D.words[j]|0)+I,I=g>>26,this.words[j]=g&67108863;for(;I!==0&&j<T.length;j++)g=(T.words[j]|0)+I,I=g>>26,this.words[j]=g&67108863;if(I===0&&j<T.length&&T!==this)for(;j<T.length;j++)this.words[j]=T.words[j];return this.length=Math.max(this.length,j),T!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(v){return this.clone().isub(v)};function x(P,v,g){g.negative=v.negative^P.negative;var _=P.length+v.length|0;g.length=_,_=_-1|0;var T=P.words[0]|0,D=v.words[0]|0,I=T*D,j=I&67108863,B=I/67108864|0;g.words[0]=j;for(var C=1;C<_;C++){for(var H=B>>>26,ae=B&67108863,U=Math.min(C,v.length-1),ce=Math.max(0,C-P.length+1);ce<=U;ce++){var te=C-ce|0;T=P.words[te]|0,D=v.words[ce]|0,I=T*D+ae,H+=I/67108864|0,ae=I&67108863}g.words[C]=ae|0,B=H|0}return B!==0?g.words[C]=B|0:g.length--,g._strip()}var y=function(v,g,_){var T=v.words,D=g.words,I=_.words,j=0,B,C,H,ae=T[0]|0,U=ae&8191,ce=ae>>>13,te=T[1]|0,z=te&8191,G=te>>>13,S=T[2]|0,J=S&8191,re=S>>>13,me=T[3]|0,ge=me&8191,xe=me>>>13,qe=T[4]|0,Fe=qe&8191,Se=qe>>>13,lt=T[5]|0,Qe=lt&8191,tt=lt>>>13,xt=T[6]|0,ze=xt&8191,Ye=xt>>>13,Dt=T[7]|0,Te=Dt&8191,Ie=Dt>>>13,We=T[8]|0,Ke=We&8191,ut=We>>>13,Nt=T[9]|0,Le=Nt&8191,Pe=Nt>>>13,Ut=D[0]|0,wt=Ut&8191,Tt=Ut>>>13,_n=D[1]|0,Pt=_n&8191,Kt=_n>>>13,yn=D[2]|0,Vt=yn&8191,Yt=yn>>>13,dn=D[3]|0,pt=dn&8191,vt=dn>>>13,Jt=D[4]|0,Ct=Jt&8191,At=Jt>>>13,un=D[5]|0,Rt=un&8191,at=un>>>13,Ft=D[6]|0,k=Ft&8191,X=Ft>>>13,q=D[7]|0,A=q&8191,Q=q>>>13,ue=D[8]|0,de=ue&8191,we=ue>>>13,De=D[9]|0,Me=De&8191,Re=De>>>13;_.negative=v.negative^g.negative,_.length=19,B=Math.imul(U,wt),C=Math.imul(U,Tt),C=C+Math.imul(ce,wt)|0,H=Math.imul(ce,Tt);var kt=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(kt>>>26)|0,kt&=67108863,B=Math.imul(z,wt),C=Math.imul(z,Tt),C=C+Math.imul(G,wt)|0,H=Math.imul(G,Tt),B=B+Math.imul(U,Pt)|0,C=C+Math.imul(U,Kt)|0,C=C+Math.imul(ce,Pt)|0,H=H+Math.imul(ce,Kt)|0;var je=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(je>>>26)|0,je&=67108863,B=Math.imul(J,wt),C=Math.imul(J,Tt),C=C+Math.imul(re,wt)|0,H=Math.imul(re,Tt),B=B+Math.imul(z,Pt)|0,C=C+Math.imul(z,Kt)|0,C=C+Math.imul(G,Pt)|0,H=H+Math.imul(G,Kt)|0,B=B+Math.imul(U,Vt)|0,C=C+Math.imul(U,Yt)|0,C=C+Math.imul(ce,Vt)|0,H=H+Math.imul(ce,Yt)|0;var ft=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(ft>>>26)|0,ft&=67108863,B=Math.imul(ge,wt),C=Math.imul(ge,Tt),C=C+Math.imul(xe,wt)|0,H=Math.imul(xe,Tt),B=B+Math.imul(J,Pt)|0,C=C+Math.imul(J,Kt)|0,C=C+Math.imul(re,Pt)|0,H=H+Math.imul(re,Kt)|0,B=B+Math.imul(z,Vt)|0,C=C+Math.imul(z,Yt)|0,C=C+Math.imul(G,Vt)|0,H=H+Math.imul(G,Yt)|0,B=B+Math.imul(U,pt)|0,C=C+Math.imul(U,vt)|0,C=C+Math.imul(ce,pt)|0,H=H+Math.imul(ce,vt)|0;var ht=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(ht>>>26)|0,ht&=67108863,B=Math.imul(Fe,wt),C=Math.imul(Fe,Tt),C=C+Math.imul(Se,wt)|0,H=Math.imul(Se,Tt),B=B+Math.imul(ge,Pt)|0,C=C+Math.imul(ge,Kt)|0,C=C+Math.imul(xe,Pt)|0,H=H+Math.imul(xe,Kt)|0,B=B+Math.imul(J,Vt)|0,C=C+Math.imul(J,Yt)|0,C=C+Math.imul(re,Vt)|0,H=H+Math.imul(re,Yt)|0,B=B+Math.imul(z,pt)|0,C=C+Math.imul(z,vt)|0,C=C+Math.imul(G,pt)|0,H=H+Math.imul(G,vt)|0,B=B+Math.imul(U,Ct)|0,C=C+Math.imul(U,At)|0,C=C+Math.imul(ce,Ct)|0,H=H+Math.imul(ce,At)|0;var mt=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(mt>>>26)|0,mt&=67108863,B=Math.imul(Qe,wt),C=Math.imul(Qe,Tt),C=C+Math.imul(tt,wt)|0,H=Math.imul(tt,Tt),B=B+Math.imul(Fe,Pt)|0,C=C+Math.imul(Fe,Kt)|0,C=C+Math.imul(Se,Pt)|0,H=H+Math.imul(Se,Kt)|0,B=B+Math.imul(ge,Vt)|0,C=C+Math.imul(ge,Yt)|0,C=C+Math.imul(xe,Vt)|0,H=H+Math.imul(xe,Yt)|0,B=B+Math.imul(J,pt)|0,C=C+Math.imul(J,vt)|0,C=C+Math.imul(re,pt)|0,H=H+Math.imul(re,vt)|0,B=B+Math.imul(z,Ct)|0,C=C+Math.imul(z,At)|0,C=C+Math.imul(G,Ct)|0,H=H+Math.imul(G,At)|0,B=B+Math.imul(U,Rt)|0,C=C+Math.imul(U,at)|0,C=C+Math.imul(ce,Rt)|0,H=H+Math.imul(ce,at)|0;var Ot=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,B=Math.imul(ze,wt),C=Math.imul(ze,Tt),C=C+Math.imul(Ye,wt)|0,H=Math.imul(Ye,Tt),B=B+Math.imul(Qe,Pt)|0,C=C+Math.imul(Qe,Kt)|0,C=C+Math.imul(tt,Pt)|0,H=H+Math.imul(tt,Kt)|0,B=B+Math.imul(Fe,Vt)|0,C=C+Math.imul(Fe,Yt)|0,C=C+Math.imul(Se,Vt)|0,H=H+Math.imul(Se,Yt)|0,B=B+Math.imul(ge,pt)|0,C=C+Math.imul(ge,vt)|0,C=C+Math.imul(xe,pt)|0,H=H+Math.imul(xe,vt)|0,B=B+Math.imul(J,Ct)|0,C=C+Math.imul(J,At)|0,C=C+Math.imul(re,Ct)|0,H=H+Math.imul(re,At)|0,B=B+Math.imul(z,Rt)|0,C=C+Math.imul(z,at)|0,C=C+Math.imul(G,Rt)|0,H=H+Math.imul(G,at)|0,B=B+Math.imul(U,k)|0,C=C+Math.imul(U,X)|0,C=C+Math.imul(ce,k)|0,H=H+Math.imul(ce,X)|0;var yt=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(yt>>>26)|0,yt&=67108863,B=Math.imul(Te,wt),C=Math.imul(Te,Tt),C=C+Math.imul(Ie,wt)|0,H=Math.imul(Ie,Tt),B=B+Math.imul(ze,Pt)|0,C=C+Math.imul(ze,Kt)|0,C=C+Math.imul(Ye,Pt)|0,H=H+Math.imul(Ye,Kt)|0,B=B+Math.imul(Qe,Vt)|0,C=C+Math.imul(Qe,Yt)|0,C=C+Math.imul(tt,Vt)|0,H=H+Math.imul(tt,Yt)|0,B=B+Math.imul(Fe,pt)|0,C=C+Math.imul(Fe,vt)|0,C=C+Math.imul(Se,pt)|0,H=H+Math.imul(Se,vt)|0,B=B+Math.imul(ge,Ct)|0,C=C+Math.imul(ge,At)|0,C=C+Math.imul(xe,Ct)|0,H=H+Math.imul(xe,At)|0,B=B+Math.imul(J,Rt)|0,C=C+Math.imul(J,at)|0,C=C+Math.imul(re,Rt)|0,H=H+Math.imul(re,at)|0,B=B+Math.imul(z,k)|0,C=C+Math.imul(z,X)|0,C=C+Math.imul(G,k)|0,H=H+Math.imul(G,X)|0,B=B+Math.imul(U,A)|0,C=C+Math.imul(U,Q)|0,C=C+Math.imul(ce,A)|0,H=H+Math.imul(ce,Q)|0;var gt=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(gt>>>26)|0,gt&=67108863,B=Math.imul(Ke,wt),C=Math.imul(Ke,Tt),C=C+Math.imul(ut,wt)|0,H=Math.imul(ut,Tt),B=B+Math.imul(Te,Pt)|0,C=C+Math.imul(Te,Kt)|0,C=C+Math.imul(Ie,Pt)|0,H=H+Math.imul(Ie,Kt)|0,B=B+Math.imul(ze,Vt)|0,C=C+Math.imul(ze,Yt)|0,C=C+Math.imul(Ye,Vt)|0,H=H+Math.imul(Ye,Yt)|0,B=B+Math.imul(Qe,pt)|0,C=C+Math.imul(Qe,vt)|0,C=C+Math.imul(tt,pt)|0,H=H+Math.imul(tt,vt)|0,B=B+Math.imul(Fe,Ct)|0,C=C+Math.imul(Fe,At)|0,C=C+Math.imul(Se,Ct)|0,H=H+Math.imul(Se,At)|0,B=B+Math.imul(ge,Rt)|0,C=C+Math.imul(ge,at)|0,C=C+Math.imul(xe,Rt)|0,H=H+Math.imul(xe,at)|0,B=B+Math.imul(J,k)|0,C=C+Math.imul(J,X)|0,C=C+Math.imul(re,k)|0,H=H+Math.imul(re,X)|0,B=B+Math.imul(z,A)|0,C=C+Math.imul(z,Q)|0,C=C+Math.imul(G,A)|0,H=H+Math.imul(G,Q)|0,B=B+Math.imul(U,de)|0,C=C+Math.imul(U,we)|0,C=C+Math.imul(ce,de)|0,H=H+Math.imul(ce,we)|0;var bt=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(bt>>>26)|0,bt&=67108863,B=Math.imul(Le,wt),C=Math.imul(Le,Tt),C=C+Math.imul(Pe,wt)|0,H=Math.imul(Pe,Tt),B=B+Math.imul(Ke,Pt)|0,C=C+Math.imul(Ke,Kt)|0,C=C+Math.imul(ut,Pt)|0,H=H+Math.imul(ut,Kt)|0,B=B+Math.imul(Te,Vt)|0,C=C+Math.imul(Te,Yt)|0,C=C+Math.imul(Ie,Vt)|0,H=H+Math.imul(Ie,Yt)|0,B=B+Math.imul(ze,pt)|0,C=C+Math.imul(ze,vt)|0,C=C+Math.imul(Ye,pt)|0,H=H+Math.imul(Ye,vt)|0,B=B+Math.imul(Qe,Ct)|0,C=C+Math.imul(Qe,At)|0,C=C+Math.imul(tt,Ct)|0,H=H+Math.imul(tt,At)|0,B=B+Math.imul(Fe,Rt)|0,C=C+Math.imul(Fe,at)|0,C=C+Math.imul(Se,Rt)|0,H=H+Math.imul(Se,at)|0,B=B+Math.imul(ge,k)|0,C=C+Math.imul(ge,X)|0,C=C+Math.imul(xe,k)|0,H=H+Math.imul(xe,X)|0,B=B+Math.imul(J,A)|0,C=C+Math.imul(J,Q)|0,C=C+Math.imul(re,A)|0,H=H+Math.imul(re,Q)|0,B=B+Math.imul(z,de)|0,C=C+Math.imul(z,we)|0,C=C+Math.imul(G,de)|0,H=H+Math.imul(G,we)|0,B=B+Math.imul(U,Me)|0,C=C+Math.imul(U,Re)|0,C=C+Math.imul(ce,Me)|0,H=H+Math.imul(ce,Re)|0;var He=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(He>>>26)|0,He&=67108863,B=Math.imul(Le,Pt),C=Math.imul(Le,Kt),C=C+Math.imul(Pe,Pt)|0,H=Math.imul(Pe,Kt),B=B+Math.imul(Ke,Vt)|0,C=C+Math.imul(Ke,Yt)|0,C=C+Math.imul(ut,Vt)|0,H=H+Math.imul(ut,Yt)|0,B=B+Math.imul(Te,pt)|0,C=C+Math.imul(Te,vt)|0,C=C+Math.imul(Ie,pt)|0,H=H+Math.imul(Ie,vt)|0,B=B+Math.imul(ze,Ct)|0,C=C+Math.imul(ze,At)|0,C=C+Math.imul(Ye,Ct)|0,H=H+Math.imul(Ye,At)|0,B=B+Math.imul(Qe,Rt)|0,C=C+Math.imul(Qe,at)|0,C=C+Math.imul(tt,Rt)|0,H=H+Math.imul(tt,at)|0,B=B+Math.imul(Fe,k)|0,C=C+Math.imul(Fe,X)|0,C=C+Math.imul(Se,k)|0,H=H+Math.imul(Se,X)|0,B=B+Math.imul(ge,A)|0,C=C+Math.imul(ge,Q)|0,C=C+Math.imul(xe,A)|0,H=H+Math.imul(xe,Q)|0,B=B+Math.imul(J,de)|0,C=C+Math.imul(J,we)|0,C=C+Math.imul(re,de)|0,H=H+Math.imul(re,we)|0,B=B+Math.imul(z,Me)|0,C=C+Math.imul(z,Re)|0,C=C+Math.imul(G,Me)|0,H=H+Math.imul(G,Re)|0;var ot=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(ot>>>26)|0,ot&=67108863,B=Math.imul(Le,Vt),C=Math.imul(Le,Yt),C=C+Math.imul(Pe,Vt)|0,H=Math.imul(Pe,Yt),B=B+Math.imul(Ke,pt)|0,C=C+Math.imul(Ke,vt)|0,C=C+Math.imul(ut,pt)|0,H=H+Math.imul(ut,vt)|0,B=B+Math.imul(Te,Ct)|0,C=C+Math.imul(Te,At)|0,C=C+Math.imul(Ie,Ct)|0,H=H+Math.imul(Ie,At)|0,B=B+Math.imul(ze,Rt)|0,C=C+Math.imul(ze,at)|0,C=C+Math.imul(Ye,Rt)|0,H=H+Math.imul(Ye,at)|0,B=B+Math.imul(Qe,k)|0,C=C+Math.imul(Qe,X)|0,C=C+Math.imul(tt,k)|0,H=H+Math.imul(tt,X)|0,B=B+Math.imul(Fe,A)|0,C=C+Math.imul(Fe,Q)|0,C=C+Math.imul(Se,A)|0,H=H+Math.imul(Se,Q)|0,B=B+Math.imul(ge,de)|0,C=C+Math.imul(ge,we)|0,C=C+Math.imul(xe,de)|0,H=H+Math.imul(xe,we)|0,B=B+Math.imul(J,Me)|0,C=C+Math.imul(J,Re)|0,C=C+Math.imul(re,Me)|0,H=H+Math.imul(re,Re)|0;var Ue=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,B=Math.imul(Le,pt),C=Math.imul(Le,vt),C=C+Math.imul(Pe,pt)|0,H=Math.imul(Pe,vt),B=B+Math.imul(Ke,Ct)|0,C=C+Math.imul(Ke,At)|0,C=C+Math.imul(ut,Ct)|0,H=H+Math.imul(ut,At)|0,B=B+Math.imul(Te,Rt)|0,C=C+Math.imul(Te,at)|0,C=C+Math.imul(Ie,Rt)|0,H=H+Math.imul(Ie,at)|0,B=B+Math.imul(ze,k)|0,C=C+Math.imul(ze,X)|0,C=C+Math.imul(Ye,k)|0,H=H+Math.imul(Ye,X)|0,B=B+Math.imul(Qe,A)|0,C=C+Math.imul(Qe,Q)|0,C=C+Math.imul(tt,A)|0,H=H+Math.imul(tt,Q)|0,B=B+Math.imul(Fe,de)|0,C=C+Math.imul(Fe,we)|0,C=C+Math.imul(Se,de)|0,H=H+Math.imul(Se,we)|0,B=B+Math.imul(ge,Me)|0,C=C+Math.imul(ge,Re)|0,C=C+Math.imul(xe,Me)|0,H=H+Math.imul(xe,Re)|0;var Je=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(Je>>>26)|0,Je&=67108863,B=Math.imul(Le,Ct),C=Math.imul(Le,At),C=C+Math.imul(Pe,Ct)|0,H=Math.imul(Pe,At),B=B+Math.imul(Ke,Rt)|0,C=C+Math.imul(Ke,at)|0,C=C+Math.imul(ut,Rt)|0,H=H+Math.imul(ut,at)|0,B=B+Math.imul(Te,k)|0,C=C+Math.imul(Te,X)|0,C=C+Math.imul(Ie,k)|0,H=H+Math.imul(Ie,X)|0,B=B+Math.imul(ze,A)|0,C=C+Math.imul(ze,Q)|0,C=C+Math.imul(Ye,A)|0,H=H+Math.imul(Ye,Q)|0,B=B+Math.imul(Qe,de)|0,C=C+Math.imul(Qe,we)|0,C=C+Math.imul(tt,de)|0,H=H+Math.imul(tt,we)|0,B=B+Math.imul(Fe,Me)|0,C=C+Math.imul(Fe,Re)|0,C=C+Math.imul(Se,Me)|0,H=H+Math.imul(Se,Re)|0;var et=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(et>>>26)|0,et&=67108863,B=Math.imul(Le,Rt),C=Math.imul(Le,at),C=C+Math.imul(Pe,Rt)|0,H=Math.imul(Pe,at),B=B+Math.imul(Ke,k)|0,C=C+Math.imul(Ke,X)|0,C=C+Math.imul(ut,k)|0,H=H+Math.imul(ut,X)|0,B=B+Math.imul(Te,A)|0,C=C+Math.imul(Te,Q)|0,C=C+Math.imul(Ie,A)|0,H=H+Math.imul(Ie,Q)|0,B=B+Math.imul(ze,de)|0,C=C+Math.imul(ze,we)|0,C=C+Math.imul(Ye,de)|0,H=H+Math.imul(Ye,we)|0,B=B+Math.imul(Qe,Me)|0,C=C+Math.imul(Qe,Re)|0,C=C+Math.imul(tt,Me)|0,H=H+Math.imul(tt,Re)|0;var $e=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+($e>>>26)|0,$e&=67108863,B=Math.imul(Le,k),C=Math.imul(Le,X),C=C+Math.imul(Pe,k)|0,H=Math.imul(Pe,X),B=B+Math.imul(Ke,A)|0,C=C+Math.imul(Ke,Q)|0,C=C+Math.imul(ut,A)|0,H=H+Math.imul(ut,Q)|0,B=B+Math.imul(Te,de)|0,C=C+Math.imul(Te,we)|0,C=C+Math.imul(Ie,de)|0,H=H+Math.imul(Ie,we)|0,B=B+Math.imul(ze,Me)|0,C=C+Math.imul(ze,Re)|0,C=C+Math.imul(Ye,Me)|0,H=H+Math.imul(Ye,Re)|0;var ye=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(ye>>>26)|0,ye&=67108863,B=Math.imul(Le,A),C=Math.imul(Le,Q),C=C+Math.imul(Pe,A)|0,H=Math.imul(Pe,Q),B=B+Math.imul(Ke,de)|0,C=C+Math.imul(Ke,we)|0,C=C+Math.imul(ut,de)|0,H=H+Math.imul(ut,we)|0,B=B+Math.imul(Te,Me)|0,C=C+Math.imul(Te,Re)|0,C=C+Math.imul(Ie,Me)|0,H=H+Math.imul(Ie,Re)|0;var be=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(be>>>26)|0,be&=67108863,B=Math.imul(Le,de),C=Math.imul(Le,we),C=C+Math.imul(Pe,de)|0,H=Math.imul(Pe,we),B=B+Math.imul(Ke,Me)|0,C=C+Math.imul(Ke,Re)|0,C=C+Math.imul(ut,Me)|0,H=H+Math.imul(ut,Re)|0;var Ae=(j+B|0)+((C&8191)<<13)|0;j=(H+(C>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,B=Math.imul(Le,Me),C=Math.imul(Le,Re),C=C+Math.imul(Pe,Me)|0,H=Math.imul(Pe,Re);var K=(j+B|0)+((C&8191)<<13)|0;return j=(H+(C>>>13)|0)+(K>>>26)|0,K&=67108863,I[0]=kt,I[1]=je,I[2]=ft,I[3]=ht,I[4]=mt,I[5]=Ot,I[6]=yt,I[7]=gt,I[8]=bt,I[9]=He,I[10]=ot,I[11]=Ue,I[12]=Je,I[13]=et,I[14]=$e,I[15]=ye,I[16]=be,I[17]=Ae,I[18]=K,j!==0&&(I[19]=j,_.length++),_};Math.imul||(y=x);function b(P,v,g){g.negative=v.negative^P.negative,g.length=P.length+v.length;for(var _=0,T=0,D=0;D<g.length-1;D++){var I=T;T=0;for(var j=_&67108863,B=Math.min(D,v.length-1),C=Math.max(0,D-P.length+1);C<=B;C++){var H=D-C,ae=P.words[H]|0,U=v.words[C]|0,ce=ae*U,te=ce&67108863;I=I+(ce/67108864|0)|0,te=te+j|0,j=te&67108863,I=I+(te>>>26)|0,T+=I>>>26,I&=67108863}g.words[D]=j,_=I,I=T}return _!==0?g.words[D]=_:g.length--,g._strip()}function E(P,v,g){return b(P,v,g)}o.prototype.mulTo=function(v,g){var _,T=this.length+v.length;return this.length===10&&v.length===10?_=y(this,v,g):T<63?_=x(this,v,g):T<1024?_=b(this,v,g):_=E(this,v,g),_},o.prototype.mul=function(v){var g=new o(null);return g.words=new Array(this.length+v.length),this.mulTo(v,g)},o.prototype.mulf=function(v){var g=new o(null);return g.words=new Array(this.length+v.length),E(this,v,g)},o.prototype.imul=function(v){return this.clone().mulTo(v,this)},o.prototype.imuln=function(v){var g=v<0;g&&(v=-v),r(typeof v=="number"),r(v<67108864);for(var _=0,T=0;T<this.length;T++){var D=(this.words[T]|0)*v,I=(D&67108863)+(_&67108863);_>>=26,_+=D/67108864|0,_+=I>>>26,this.words[T]=I&67108863}return _!==0&&(this.words[T]=_,this.length++),g?this.ineg():this},o.prototype.muln=function(v){return this.clone().imuln(v)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(v){var g=w(v);if(g.length===0)return new o(1);for(var _=this,T=0;T<g.length&&g[T]===0;T++,_=_.sqr());if(++T<g.length)for(var D=_.sqr();T<g.length;T++,D=D.sqr())g[T]!==0&&(_=_.mul(D));return _},o.prototype.iushln=function(v){r(typeof v=="number"&&v>=0);var g=v%26,_=(v-g)/26,T=67108863>>>26-g<<26-g,D;if(g!==0){var I=0;for(D=0;D<this.length;D++){var j=this.words[D]&T,B=(this.words[D]|0)-j<<g;this.words[D]=B|I,I=j>>>26-g}I&&(this.words[D]=I,this.length++)}if(_!==0){for(D=this.length-1;D>=0;D--)this.words[D+_]=this.words[D];for(D=0;D<_;D++)this.words[D]=0;this.length+=_}return this._strip()},o.prototype.ishln=function(v){return r(this.negative===0),this.iushln(v)},o.prototype.iushrn=function(v,g,_){r(typeof v=="number"&&v>=0);var T;g?T=(g-g%26)/26:T=0;var D=v%26,I=Math.min((v-D)/26,this.length),j=67108863^67108863>>>D<<D,B=_;if(T-=I,T=Math.max(0,T),B){for(var C=0;C<I;C++)B.words[C]=this.words[C];B.length=I}if(I!==0)if(this.length>I)for(this.length-=I,C=0;C<this.length;C++)this.words[C]=this.words[C+I];else this.words[0]=0,this.length=1;var H=0;for(C=this.length-1;C>=0&&(H!==0||C>=T);C--){var ae=this.words[C]|0;this.words[C]=H<<26-D|ae>>>D,H=ae&j}return B&&H!==0&&(B.words[B.length++]=H),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(v,g,_){return r(this.negative===0),this.iushrn(v,g,_)},o.prototype.shln=function(v){return this.clone().ishln(v)},o.prototype.ushln=function(v){return this.clone().iushln(v)},o.prototype.shrn=function(v){return this.clone().ishrn(v)},o.prototype.ushrn=function(v){return this.clone().iushrn(v)},o.prototype.testn=function(v){r(typeof v=="number"&&v>=0);var g=v%26,_=(v-g)/26,T=1<<g;if(this.length<=_)return!1;var D=this.words[_];return!!(D&T)},o.prototype.imaskn=function(v){r(typeof v=="number"&&v>=0);var g=v%26,_=(v-g)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(g!==0&&_++,this.length=Math.min(_,this.length),g!==0){var T=67108863^67108863>>>g<<g;this.words[this.length-1]&=T}return this._strip()},o.prototype.maskn=function(v){return this.clone().imaskn(v)},o.prototype.iaddn=function(v){return r(typeof v=="number"),r(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(this.words[0]|0)<=v?(this.words[0]=v-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},o.prototype._iaddn=function(v){this.words[0]+=v;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},o.prototype.isubn=function(v){if(r(typeof v=="number"),r(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},o.prototype.addn=function(v){return this.clone().iaddn(v)},o.prototype.subn=function(v){return this.clone().isubn(v)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(v,g,_){var T=v.length+_,D;this._expand(T);var I,j=0;for(D=0;D<v.length;D++){I=(this.words[D+_]|0)+j;var B=(v.words[D]|0)*g;I-=B&67108863,j=(I>>26)-(B/67108864|0),this.words[D+_]=I&67108863}for(;D<this.length-_;D++)I=(this.words[D+_]|0)+j,j=I>>26,this.words[D+_]=I&67108863;if(j===0)return this._strip();for(r(j===-1),j=0,D=0;D<this.length;D++)I=-(this.words[D]|0)+j,j=I>>26,this.words[D]=I&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(v,g){var _=this.length-v.length,T=this.clone(),D=v,I=D.words[D.length-1]|0,j=this._countBits(I);_=26-j,_!==0&&(D=D.ushln(_),T.iushln(_),I=D.words[D.length-1]|0);var B=T.length-D.length,C;if(g!=="mod"){C=new o(null),C.length=B+1,C.words=new Array(C.length);for(var H=0;H<C.length;H++)C.words[H]=0}var ae=T.clone()._ishlnsubmul(D,1,B);ae.negative===0&&(T=ae,C&&(C.words[B]=1));for(var U=B-1;U>=0;U--){var ce=(T.words[D.length+U]|0)*67108864+(T.words[D.length+U-1]|0);for(ce=Math.min(ce/I|0,67108863),T._ishlnsubmul(D,ce,U);T.negative!==0;)ce--,T.negative=0,T._ishlnsubmul(D,1,U),T.isZero()||(T.negative^=1);C&&(C.words[U]=ce)}return C&&C._strip(),T._strip(),g!=="div"&&_!==0&&T.iushrn(_),{div:C||null,mod:T}},o.prototype.divmod=function(v,g,_){if(r(!v.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var T,D,I;return this.negative!==0&&v.negative===0?(I=this.neg().divmod(v,g),g!=="mod"&&(T=I.div.neg()),g!=="div"&&(D=I.mod.neg(),_&&D.negative!==0&&D.iadd(v)),{div:T,mod:D}):this.negative===0&&v.negative!==0?(I=this.divmod(v.neg(),g),g!=="mod"&&(T=I.div.neg()),{div:T,mod:I.mod}):this.negative&v.negative?(I=this.neg().divmod(v.neg(),g),g!=="div"&&(D=I.mod.neg(),_&&D.negative!==0&&D.isub(v)),{div:I.div,mod:D}):v.length>this.length||this.cmp(v)<0?{div:new o(0),mod:this}:v.length===1?g==="div"?{div:this.divn(v.words[0]),mod:null}:g==="mod"?{div:null,mod:new o(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new o(this.modrn(v.words[0]))}:this._wordDiv(v,g)},o.prototype.div=function(v){return this.divmod(v,"div",!1).div},o.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},o.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},o.prototype.divRound=function(v){var g=this.divmod(v);if(g.mod.isZero())return g.div;var _=g.div.negative!==0?g.mod.isub(v):g.mod,T=v.ushrn(1),D=v.andln(1),I=_.cmp(T);return I<0||D===1&&I===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},o.prototype.modrn=function(v){var g=v<0;g&&(v=-v),r(v<=67108863);for(var _=(1<<26)%v,T=0,D=this.length-1;D>=0;D--)T=(_*T+(this.words[D]|0))%v;return g?-T:T},o.prototype.modn=function(v){return this.modrn(v)},o.prototype.idivn=function(v){var g=v<0;g&&(v=-v),r(v<=67108863);for(var _=0,T=this.length-1;T>=0;T--){var D=(this.words[T]|0)+_*67108864;this.words[T]=D/v|0,_=D%v}return this._strip(),g?this.ineg():this},o.prototype.divn=function(v){return this.clone().idivn(v)},o.prototype.egcd=function(v){r(v.negative===0),r(!v.isZero());var g=this,_=v.clone();g.negative!==0?g=g.umod(v):g=g.clone();for(var T=new o(1),D=new o(0),I=new o(0),j=new o(1),B=0;g.isEven()&&_.isEven();)g.iushrn(1),_.iushrn(1),++B;for(var C=_.clone(),H=g.clone();!g.isZero();){for(var ae=0,U=1;!(g.words[0]&U)&&ae<26;++ae,U<<=1);if(ae>0)for(g.iushrn(ae);ae-- >0;)(T.isOdd()||D.isOdd())&&(T.iadd(C),D.isub(H)),T.iushrn(1),D.iushrn(1);for(var ce=0,te=1;!(_.words[0]&te)&&ce<26;++ce,te<<=1);if(ce>0)for(_.iushrn(ce);ce-- >0;)(I.isOdd()||j.isOdd())&&(I.iadd(C),j.isub(H)),I.iushrn(1),j.iushrn(1);g.cmp(_)>=0?(g.isub(_),T.isub(I),D.isub(j)):(_.isub(g),I.isub(T),j.isub(D))}return{a:I,b:j,gcd:_.iushln(B)}},o.prototype._invmp=function(v){r(v.negative===0),r(!v.isZero());var g=this,_=v.clone();g.negative!==0?g=g.umod(v):g=g.clone();for(var T=new o(1),D=new o(0),I=_.clone();g.cmpn(1)>0&&_.cmpn(1)>0;){for(var j=0,B=1;!(g.words[0]&B)&&j<26;++j,B<<=1);if(j>0)for(g.iushrn(j);j-- >0;)T.isOdd()&&T.iadd(I),T.iushrn(1);for(var C=0,H=1;!(_.words[0]&H)&&C<26;++C,H<<=1);if(C>0)for(_.iushrn(C);C-- >0;)D.isOdd()&&D.iadd(I),D.iushrn(1);g.cmp(_)>=0?(g.isub(_),T.isub(D)):(_.isub(g),D.isub(T))}var ae;return g.cmpn(1)===0?ae=T:ae=D,ae.cmpn(0)<0&&ae.iadd(v),ae},o.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var g=this.clone(),_=v.clone();g.negative=0,_.negative=0;for(var T=0;g.isEven()&&_.isEven();T++)g.iushrn(1),_.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;_.isEven();)_.iushrn(1);var D=g.cmp(_);if(D<0){var I=g;g=_,_=I}else if(D===0||_.cmpn(1)===0)break;g.isub(_)}while(!0);return _.iushln(T)},o.prototype.invm=function(v){return this.egcd(v).a.umod(v)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(v){return this.words[0]&v},o.prototype.bincn=function(v){r(typeof v=="number");var g=v%26,_=(v-g)/26,T=1<<g;if(this.length<=_)return this._expand(_+1),this.words[_]|=T,this;for(var D=T,I=_;D!==0&&I<this.length;I++){var j=this.words[I]|0;j+=D,D=j>>>26,j&=67108863,this.words[I]=j}return D!==0&&(this.words[I]=D,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(v){var g=v<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var _;if(this.length>1)_=1;else{g&&(v=-v),r(v<=67108863,"Number is too big");var T=this.words[0]|0;_=T===v?0:T<v?-1:1}return this.negative!==0?-_|0:_},o.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var g=this.ucmp(v);return this.negative!==0?-g|0:g},o.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var g=0,_=this.length-1;_>=0;_--){var T=this.words[_]|0,D=v.words[_]|0;if(T!==D){T<D?g=-1:T>D&&(g=1);break}}return g},o.prototype.gtn=function(v){return this.cmpn(v)===1},o.prototype.gt=function(v){return this.cmp(v)===1},o.prototype.gten=function(v){return this.cmpn(v)>=0},o.prototype.gte=function(v){return this.cmp(v)>=0},o.prototype.ltn=function(v){return this.cmpn(v)===-1},o.prototype.lt=function(v){return this.cmp(v)===-1},o.prototype.lten=function(v){return this.cmpn(v)<=0},o.prototype.lte=function(v){return this.cmp(v)<=0},o.prototype.eqn=function(v){return this.cmpn(v)===0},o.prototype.eq=function(v){return this.cmp(v)===0},o.red=function(v){return new F(v)},o.prototype.toRed=function(v){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(v){return this.red=v,this},o.prototype.forceRed=function(v){return r(!this.red,"Already a number in reduction context"),this._forceRed(v)},o.prototype.redAdd=function(v){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},o.prototype.redIAdd=function(v){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},o.prototype.redSub=function(v){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},o.prototype.redISub=function(v){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},o.prototype.redShl=function(v){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},o.prototype.redMul=function(v){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},o.prototype.redIMul=function(v){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(v){return r(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var O={k256:null,p224:null,p192:null,p25519:null};function N(P,v){this.name=P,this.p=new o(v,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}N.prototype._tmp=function(){var v=new o(null);return v.words=new Array(Math.ceil(this.n/13)),v},N.prototype.ireduce=function(v){var g=v,_;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),_=g.bitLength();while(_>this.n);var T=_<this.n?-1:g.ucmp(this.p);return T===0?(g.words[0]=0,g.length=1):T>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},N.prototype.split=function(v,g){v.iushrn(this.n,0,g)},N.prototype.imulK=function(v){return v.imul(this.k)};function R(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(R,N),R.prototype.split=function(v,g){for(var _=4194303,T=Math.min(v.length,9),D=0;D<T;D++)g.words[D]=v.words[D];if(g.length=T,v.length<=9){v.words[0]=0,v.length=1;return}var I=v.words[9];for(g.words[g.length++]=I&_,D=10;D<v.length;D++){var j=v.words[D]|0;v.words[D-10]=(j&_)<<4|I>>>22,I=j}I>>>=22,v.words[D-10]=I,I===0&&v.length>10?v.length-=10:v.length-=9},R.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var g=0,_=0;_<v.length;_++){var T=v.words[_]|0;g+=T*977,v.words[_]=g&67108863,g=T*64+(g/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v};function L(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(L,N);function W(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,N);function M(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(M,N),M.prototype.imulK=function(v){for(var g=0,_=0;_<v.length;_++){var T=(v.words[_]|0)*19+g,D=T&67108863;T>>>=26,v.words[_]=D,g=T}return g!==0&&(v.words[v.length++]=g),v},o._prime=function(v){if(O[v])return O[v];var g;if(v==="k256")g=new R;else if(v==="p224")g=new L;else if(v==="p192")g=new W;else if(v==="p25519")g=new M;else throw new Error("Unknown prime "+v);return O[v]=g,g};function F(P){if(typeof P=="string"){var v=o._prime(P);this.m=v.p,this.prime=v}else r(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}F.prototype._verify1=function(v){r(v.negative===0,"red works only with positives"),r(v.red,"red works only with red numbers")},F.prototype._verify2=function(v,g){r((v.negative|g.negative)===0,"red works only with positives"),r(v.red&&v.red===g.red,"red works only with red numbers")},F.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(u(v,v.umod(this.m)._forceRed(this)),v)},F.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},F.prototype.add=function(v,g){this._verify2(v,g);var _=v.add(g);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},F.prototype.iadd=function(v,g){this._verify2(v,g);var _=v.iadd(g);return _.cmp(this.m)>=0&&_.isub(this.m),_},F.prototype.sub=function(v,g){this._verify2(v,g);var _=v.sub(g);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},F.prototype.isub=function(v,g){this._verify2(v,g);var _=v.isub(g);return _.cmpn(0)<0&&_.iadd(this.m),_},F.prototype.shl=function(v,g){return this._verify1(v),this.imod(v.ushln(g))},F.prototype.imul=function(v,g){return this._verify2(v,g),this.imod(v.imul(g))},F.prototype.mul=function(v,g){return this._verify2(v,g),this.imod(v.mul(g))},F.prototype.isqr=function(v){return this.imul(v,v.clone())},F.prototype.sqr=function(v){return this.mul(v,v)},F.prototype.sqrt=function(v){if(v.isZero())return v.clone();var g=this.m.andln(3);if(r(g%2===1),g===3){var _=this.m.add(new o(1)).iushrn(2);return this.pow(v,_)}for(var T=this.m.subn(1),D=0;!T.isZero()&&T.andln(1)===0;)D++,T.iushrn(1);r(!T.isZero());var I=new o(1).toRed(this),j=I.redNeg(),B=this.m.subn(1).iushrn(1),C=this.m.bitLength();for(C=new o(2*C*C).toRed(this);this.pow(C,B).cmp(j)!==0;)C.redIAdd(j);for(var H=this.pow(C,T),ae=this.pow(v,T.addn(1).iushrn(1)),U=this.pow(v,T),ce=D;U.cmp(I)!==0;){for(var te=U,z=0;te.cmp(I)!==0;z++)te=te.redSqr();r(z<ce);var G=this.pow(H,new o(1).iushln(ce-z-1));ae=ae.redMul(G),H=G.redSqr(),U=U.redMul(H),ce=z}return ae},F.prototype.invm=function(v){var g=v._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},F.prototype.pow=function(v,g){if(g.isZero())return new o(1).toRed(this);if(g.cmpn(1)===0)return v.clone();var _=4,T=new Array(1<<_);T[0]=new o(1).toRed(this),T[1]=v;for(var D=2;D<T.length;D++)T[D]=this.mul(T[D-1],v);var I=T[0],j=0,B=0,C=g.bitLength()%26;for(C===0&&(C=26),D=g.length-1;D>=0;D--){for(var H=g.words[D],ae=C-1;ae>=0;ae--){var U=H>>ae&1;if(I!==T[0]&&(I=this.sqr(I)),U===0&&j===0){B=0;continue}j<<=1,j|=U,B++,!(B!==_&&(D!==0||ae!==0))&&(I=this.mul(I,T[j]),B=0,j=0)}C=26}return I},F.prototype.convertTo=function(v){var g=v.umod(this.m);return g===v?g.clone():g},F.prototype.convertFrom=function(v){var g=v.clone();return g.red=null,g},o.mont=function(v){return new $(v)};function $(P){F.call(this,P),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i($,F),$.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},$.prototype.convertFrom=function(v){var g=this.imod(v.mul(this.rinv));return g.red=null,g},$.prototype.imul=function(v,g){if(v.isZero()||g.isZero())return v.words[0]=0,v.length=1,v;var _=v.imul(g),T=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=_.isub(T).iushrn(this.shift),I=D;return D.cmp(this.m)>=0?I=D.isub(this.m):D.cmpn(0)<0&&(I=D.iadd(this.m)),I._forceRed(this)},$.prototype.mul=function(v,g){if(v.isZero()||g.isZero())return new o(0)._forceRed(this);var _=v.mul(g),T=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=_.isub(T).iushrn(this.shift),I=D;return D.cmp(this.m)>=0?I=D.isub(this.m):D.cmpn(0)<0&&(I=D.iadd(this.m)),I._forceRed(this)},$.prototype.invm=function(v){var g=this.imod(v._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,ne)})(qb);var jK=qb.exports;const Lt=xa(jK),KK="logger/5.7.0";let X4=!1,z4=!1;const rh={debug:1,default:2,info:2,warning:3,error:4,off:5};let q4=rh.default,Lv=null;function WK(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(t){return t.message}return null}const V4=WK();var My;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(My||(My={}));var io;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(io||(io={}));const J4="0123456789abcdef";class pe{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,n){const r=e.toLowerCase();rh[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(q4>rh[r])&&console.log.apply(console,n)}debug(...e){this._log(pe.levels.DEBUG,e)}info(...e){this._log(pe.levels.INFO,e)}warn(...e){this._log(pe.levels.WARNING,e)}makeError(e,n,r){if(z4)return this.makeError("censored error",n,{});n||(n=pe.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const c=r[l];try{if(c instanceof Uint8Array){let u="";for(let f=0;f<c.length;f++)u+=J4[c[f]>>4],u+=J4[c[f]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${n}`),i.push(`version=${this.version}`);const o=e;let s="";switch(n){case io.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case io.CALL_EXCEPTION:case io.INSUFFICIENT_FUNDS:case io.MISSING_NEW:case io.NONCE_EXPIRED:case io.REPLACEMENT_UNDERPRICED:case io.TRANSACTION_REPLACED:case io.UNPREDICTABLE_GAS_LIMIT:s=n;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=n,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,n,r){throw this.makeError(e,n,r)}throwArgumentError(e,n,r){return this.throwError(e,pe.errors.INVALID_ARGUMENT,{argument:n,value:r})}assert(e,n,r,i){e||this.throwError(n,r,i)}assertArgument(e,n,r,i){e||this.throwArgumentError(n,r,i)}checkNormalize(e){V4&&this.throwError("platform missing String.prototype.normalize",pe.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:V4})}checkSafeUint53(e,n){typeof e=="number"&&(n==null&&(n="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(n,pe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(n,pe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,n,r){r?r=": "+r:r="",e<n&&this.throwError("missing argument"+r,pe.errors.MISSING_ARGUMENT,{count:e,expectedCount:n}),e>n&&this.throwError("too many arguments"+r,pe.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:n})}checkNew(e,n){(e===Object||e==null)&&this.throwError("missing new",pe.errors.MISSING_NEW,{name:n.name})}checkAbstract(e,n){e===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",pe.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",pe.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return Lv||(Lv=new pe(KK)),Lv}static setCensorship(e,n){if(!e&&n&&this.globalLogger().throwError("cannot permanently disable censorship",pe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),X4){if(!e)return;this.globalLogger().throwError("error censorship permanent",pe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}z4=!!e,X4=!!n}static setLogLevel(e){const n=rh[e.toLowerCase()];if(n==null){pe.globalLogger().warn("invalid log level - "+e);return}q4=n}static from(e){return new pe(e)}}pe.errors=io;pe.levels=My;const HK="bytes/5.7.0",jn=new pe(HK);function iA(t){return!!t.toHexString}function Nc(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Nc(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Vb(t){return ln(t)&&!(t.length%2)||Ol(t)}function G4(t){return typeof t=="number"&&t==t&&t%1===0}function Ol(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!G4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const n=t[e];if(!G4(n)||n<0||n>=256)return!1}return!0}function Et(t,e){if(e||(e={}),typeof t=="number"){jn.checkSafeUint53(t,"invalid arrayify value");const n=[];for(;t;)n.unshift(t&255),t=parseInt(String(t/256));return n.length===0&&n.push(0),Nc(new Uint8Array(n))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),iA(t)&&(t=t.toHexString()),ln(t)){let n=t.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":jn.throwArgumentError("hex data is odd-length","value",t));const r=[];for(let i=0;i<n.length;i+=2)r.push(parseInt(n.substring(i,i+2),16));return Nc(new Uint8Array(r))}return Ol(t)?Nc(new Uint8Array(t)):jn.throwArgumentError("invalid arrayify value","value",t)}function ui(t){const e=t.map(i=>Et(i)),n=e.reduce((i,o)=>i+o.length,0),r=new Uint8Array(n);return e.reduce((i,o)=>(r.set(o,i),i+o.length),0),Nc(r)}function Jc(t){let e=Et(t);if(e.length===0)return e;let n=0;for(;n<e.length&&e[n]===0;)n++;return n&&(e=e.slice(n)),e}function XK(t,e){t=Et(t),t.length>e&&jn.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(e);return n.set(t,e-t.length),Nc(n)}function ln(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Uv="0123456789abcdef";function dt(t,e){if(e||(e={}),typeof t=="number"){jn.checkSafeUint53(t,"invalid hexlify value");let n="";for(;t;)n=Uv[t&15]+n,t=Math.floor(t/16);return n.length?(n.length%2&&(n="0"+n),"0x"+n):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),iA(t))return t.toHexString();if(ln(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":jn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Ol(t)){let n="0x";for(let r=0;r<t.length;r++){let i=t[r];n+=Uv[(i&240)>>4]+Uv[i&15]}return n}return jn.throwArgumentError("invalid hexlify value","value",t)}function cl(t){if(typeof t!="string")t=dt(t);else if(!ln(t)||t.length%2)return null;return(t.length-2)/2}function Fr(t,e,n){return typeof t!="string"?t=dt(t):(!ln(t)||t.length%2)&&jn.throwArgumentError("invalid hexData","value",t),e=2+2*e,n!=null?"0x"+t.substring(e,2+2*n):"0x"+t.substring(e)}function li(t){let e="0x";return t.forEach(n=>{e+=dt(n).substring(2)}),e}function Jb(t){const e=zK(dt(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function zK(t){typeof t!="string"&&(t=dt(t)),ln(t)||jn.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function kn(t,e){for(typeof t!="string"?t=dt(t):ln(t)||jn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&jn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function w1(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Vb(t)){let n=Et(t);n.length===64?(e.v=27+(n[32]>>7),n[32]&=127,e.r=dt(n.slice(0,32)),e.s=dt(n.slice(32,64))):n.length===65?(e.r=dt(n.slice(0,32)),e.s=dt(n.slice(32,64)),e.v=n[64]):jn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:jn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(n[32]|=128),e._vs=dt(n.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=XK(Et(e._vs),32);e._vs=dt(i);const o=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=o:e.recoveryParam!==o&&jn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const s=dt(i);e.s==null?e.s=s:e.s!==s&&jn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?jn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&jn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!ln(e.r)?jn.throwArgumentError("signature missing or invalid r","signature",t):e.r=kn(e.r,32),e.s==null||!ln(e.s)?jn.throwArgumentError("signature missing or invalid s","signature",t):e.s=kn(e.s,32);const n=Et(e.s);n[0]>=128&&jn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(n[0]|=128);const r=dt(n);e._vs&&(ln(e._vs)||jn.throwArgumentError("signature invalid _vs","signature",t),e._vs=kn(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&jn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const oA="bignumber/5.7.0";var ep=Lt.BN;const is=new pe(oA),$v={},Q4=9007199254740991;function qK(t){return t!=null&&(Be.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||ln(t)||typeof t=="bigint"||Ol(t))}let Y4=!1;class Be{constructor(e,n){e!==$v&&is.throwError("cannot call constructor directly; use BigNumber.from",pe.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=n,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ni(Gt(this).fromTwos(e))}toTwos(e){return ni(Gt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Be.from(this._hex.substring(1)):this}add(e){return ni(Gt(this).add(Gt(e)))}sub(e){return ni(Gt(this).sub(Gt(e)))}div(e){return Be.from(e).isZero()&&Ni("division-by-zero","div"),ni(Gt(this).div(Gt(e)))}mul(e){return ni(Gt(this).mul(Gt(e)))}mod(e){const n=Gt(e);return n.isNeg()&&Ni("division-by-zero","mod"),ni(Gt(this).umod(n))}pow(e){const n=Gt(e);return n.isNeg()&&Ni("negative-power","pow"),ni(Gt(this).pow(n))}and(e){const n=Gt(e);return(this.isNegative()||n.isNeg())&&Ni("unbound-bitwise-result","and"),ni(Gt(this).and(n))}or(e){const n=Gt(e);return(this.isNegative()||n.isNeg())&&Ni("unbound-bitwise-result","or"),ni(Gt(this).or(n))}xor(e){const n=Gt(e);return(this.isNegative()||n.isNeg())&&Ni("unbound-bitwise-result","xor"),ni(Gt(this).xor(n))}mask(e){return(this.isNegative()||e<0)&&Ni("negative-width","mask"),ni(Gt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Ni("negative-width","shl"),ni(Gt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Ni("negative-width","shr"),ni(Gt(this).shrn(e))}eq(e){return Gt(this).eq(Gt(e))}lt(e){return Gt(this).lt(Gt(e))}lte(e){return Gt(this).lte(Gt(e))}gt(e){return Gt(this).gt(Gt(e))}gte(e){return Gt(this).gte(Gt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Gt(this).isZero()}toNumber(){try{return Gt(this).toNumber()}catch{Ni("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return is.throwError("this platform does not support BigInt",pe.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Y4||(Y4=!0,is.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?is.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",pe.errors.UNEXPECTED_ARGUMENT,{}):is.throwError("BigNumber.toString does not accept parameters",pe.errors.UNEXPECTED_ARGUMENT,{})),Gt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Be)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Be($v,tf(e)):e.match(/^-?[0-9]+$/)?new Be($v,tf(new ep(e))):is.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Ni("underflow","BigNumber.from",e),(e>=Q4||e<=-Q4)&&Ni("overflow","BigNumber.from",e),Be.from(String(e));const n=e;if(typeof n=="bigint")return Be.from(n.toString());if(Ol(n))return Be.from(dt(n));if(n)if(n.toHexString){const r=n.toHexString();if(typeof r=="string")return Be.from(r)}else{let r=n._hex;if(r==null&&n.type==="BigNumber"&&(r=n.hex),typeof r=="string"&&(ln(r)||r[0]==="-"&&ln(r.substring(1))))return Be.from(r)}return is.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function tf(t){if(typeof t!="string")return tf(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&is.throwArgumentError("invalid hex","value",t),t=tf(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function ni(t){return Be.from(tf(t))}function Gt(t){const e=Be.from(t).toHexString();return e[0]==="-"?new ep("-"+e.substring(3),16):new ep(e.substring(2),16)}function Ni(t,e,n){const r={fault:t,operation:e};return n!=null&&(r.value=n),is.throwError(t,pe.errors.NUMERIC_FAULT,r)}function VK(t){return new ep(t,36).toString(16)}const Jr=new pe(oA),b0={},sA=Be.from(0),aA=Be.from(-1);function lA(t,e,n,r){const i={fault:e,operation:n};return r!==void 0&&(i.value=r),Jr.throwError(t,pe.errors.NUMERIC_FAULT,i)}let x0="0";for(;x0.length<256;)x0+=x0;function Gb(t){if(typeof t!="number")try{t=Be.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+x0.substring(0,t):Jr.throwArgumentError("invalid decimal size","decimals",t)}function ih(t,e){e==null&&(e=0);const n=Gb(e);t=Be.from(t);const r=t.lt(sA);r&&(t=t.mul(aA));let i=t.mod(n).toString();for(;i.length<n.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=t.div(n).toString();return n.length===1?t=o:t=o+"."+i,r&&(t="-"+t),t}function Eo(t,e){e==null&&(e=0);const n=Gb(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Jr.throwArgumentError("invalid decimal value","value",t);const r=t.substring(0,1)==="-";r&&(t=t.substring(1)),t==="."&&Jr.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Jr.throwArgumentError("too many decimal points","value",t);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>n.length-1&&lA("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<n.length-1;)s+="0";const a=Be.from(o),l=Be.from(s);let c=a.mul(n).add(l);return r&&(c=c.mul(aA)),c}class Pc{constructor(e,n,r,i){e!==b0&&Jr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",pe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=r,this.decimals=i,this.name=(n?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=Gb(i),Object.freeze(this)}static from(e){if(e instanceof Pc)return e;typeof e=="number"&&(e=`fixed128x${e}`);let n=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")n=!1;else{const o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||Jr.throwArgumentError("invalid fixed format","format",e),n=o[1]!=="u",r=parseInt(o[2]),i=parseInt(o[3])}}else if(e){const o=(s,a,l)=>e[s]==null?l:(typeof e[s]!==a&&Jr.throwArgumentError("invalid fixed format ("+s+" not "+a+")","format."+s,e[s]),e[s]);n=o("signed","boolean",n),r=o("width","number",r),i=o("decimals","number",i)}return r%8&&Jr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&Jr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Pc(b0,n,r,i)}}class Cr{constructor(e,n,r,i){e!==b0&&Jr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",pe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=n,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Jr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const n=Eo(this._value,this.format.decimals),r=Eo(e._value,e.format.decimals);return Cr.fromValue(n.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const n=Eo(this._value,this.format.decimals),r=Eo(e._value,e.format.decimals);return Cr.fromValue(n.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const n=Eo(this._value,this.format.decimals),r=Eo(e._value,e.format.decimals);return Cr.fromValue(n.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const n=Eo(this._value,this.format.decimals),r=Eo(e._value,e.format.decimals);return Cr.fromValue(n.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Cr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(n=n.subUnsafe(Z4.toFormat(n.format))),n}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let n=Cr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(n=n.addUnsafe(Z4.toFormat(n.format))),n}round(e){e==null&&(e=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(e<0||e>80||e%1)&&Jr.throwArgumentError("invalid decimal count","decimals",e),n[1].length<=e)return this;const r=Cr.from("1"+x0.substring(0,e),this.format),i=JK.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Jr.throwArgumentError("invalid byte width","width",e);const n=Be.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return kn(n,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Cr.fromString(this._value,e)}static fromValue(e,n,r){return r==null&&n!=null&&!qK(n)&&(r=n,n=null),n==null&&(n=0),r==null&&(r="fixed"),Cr.fromString(ih(e,n),Pc.from(r))}static fromString(e,n){n==null&&(n="fixed");const r=Pc.from(n),i=Eo(e,r.decimals);!r.signed&&i.lt(sA)&&lA("unsigned value cannot be negative","overflow","value",e);let o=null;r.signed?o=i.toTwos(r.width).toHexString():(o=i.toHexString(),o=kn(o,r.width/8));const s=ih(i,r.decimals);return new Cr(b0,o,s,r)}static fromBytes(e,n){n==null&&(n="fixed");const r=Pc.from(n);if(Et(e).length>r.width/8)throw new Error("overflow");let i=Be.from(e);r.signed&&(i=i.fromTwos(r.width));const o=i.toTwos((r.signed?0:1)+r.width).toHexString(),s=ih(i,r.decimals);return new Cr(b0,o,s,r)}static from(e,n){if(typeof e=="string")return Cr.fromString(e,n);if(Ol(e))return Cr.fromBytes(e,n);try{return Cr.fromValue(e,0,n)}catch(r){if(r.code!==pe.errors.INVALID_ARGUMENT)throw r}return Jr.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const Z4=Cr.from(1),JK=Cr.from("0.5"),GK="properties/5.7.0";var QK=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const tp=new pe(GK);function Ne(t,e,n){Object.defineProperty(t,e,{enumerable:!0,value:n,writable:!1})}function _i(t,e){for(let n=0;n<32;n++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Qn(t){return QK(this,void 0,void 0,function*(){const e=Object.keys(t).map(r=>{const i=t[r];return Promise.resolve(i).then(o=>({key:r,value:o}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}function YK(t,e){(!t||typeof t!="object")&&tp.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(n=>{e[n]||tp.throwArgumentError("invalid object key - "+n,"transaction:"+n,t)})}function nr(t){const e={};for(const n in t)e[n]=t[n];return e}const ZK={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function cA(t){if(t==null||ZK[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let n=0;n<e.length;n++){let r=null;try{r=t[e[n]]}catch{continue}if(!cA(r))return!1}return!0}return tp.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function eW(t){if(cA(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Ds(e)));if(typeof t=="object"){const e={};for(const n in t){const r=t[n];r!==void 0&&Ne(e,n,Ds(r))}return e}return tp.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Ds(t){return eW(t)}class Bf{constructor(e){for(const n in e)this[n]=Ds(e[n])}}const Ff="abi/5.7.0",nn=new pe(Ff),ul={};let e3={calldata:!0,memory:!0,storage:!0},tW={calldata:!0,memory:!0};function Td(t,e){if(t==="bytes"||t==="string"){if(e3[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&tW[e])return!0;return(e3[e]||e==="payable")&&nn.throwArgumentError("invalid modifier","name",e),!1}function nW(t,e){let n=t;function r(a){nn.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let l={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(l.indexed=!1),l}let o={type:"",name:"",state:{allowType:!0}},s=o;for(let a=0;a<t.length;a++){let l=t[a];switch(l){case"(":s.state.allowType&&s.type===""?s.type="tuple":s.state.allowParams||r(a),s.state.allowType=!1,s.type=rc(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,s.name==="indexed"&&(e||r(a),s.indexed=!0,s.name=""),Td(s.type,s.name)&&(s.name=""),s.type=rc(s.type);let c=s;s=s.parent,s||r(a),delete c.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,s.name==="indexed"&&(e||r(a),s.indexed=!0,s.name=""),Td(s.type,s.name)&&(s.name=""),s.type=rc(s.type);let u=i(s.parent);s.parent.components.push(u),delete s.parent,s=u;break;case" ":s.state.allowType&&s.type!==""&&(s.type=rc(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&s.name!==""&&(s.name==="indexed"?(e||r(a),s.indexed&&r(a),s.indexed=!0,s.name=""):Td(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||r(a),s.type+=l,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||r(a),s.type+=l,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=l,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=l,delete s.state.allowArray):s.state.readArray?s.type+=l:r(a)}}return s.parent&&nn.throwArgumentError("unexpected eof","param",t),delete o.state,s.name==="indexed"?(e||r(n.length-7),s.indexed&&r(n.length-7),s.indexed=!0,s.name=""):Td(s.type,s.name)&&(s.name=""),o.type=rc(o.type),o}function oh(t,e){for(let n in e)Ne(t,n,e[n])}const fn=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),rW=new RegExp(/^(.*)\[([0-9]*)\]$/);class mr{constructor(e,n){e!==ul&&nn.throwError("use fromString",pe.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),oh(this,n);let r=this.type.match(rW);r?oh(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:mr.fromObject({type:r[1],components:this.components}),baseType:"array"}):oh(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=fn.sighash),fn[e]||nn.throwArgumentError("invalid format type","format",e),e===fn.json){let r={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(r.indexed=this.indexed),this.components&&(r.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(r)}let n="";return this.baseType==="array"?(n+=this.arrayChildren.format(e),n+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==fn.sighash&&(n+=this.type),n+="("+this.components.map(r=>r.format(e)).join(e===fn.full?", ":",")+")"):n+=this.type,e!==fn.sighash&&(this.indexed===!0&&(n+=" indexed"),e===fn.full&&this.name&&(n+=" "+this.name)),n}static from(e,n){return typeof e=="string"?mr.fromString(e,n):mr.fromObject(e)}static fromObject(e){return mr.isParamType(e)?e:new mr(ul,{name:e.name||null,type:rc(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(mr.fromObject):null})}static fromString(e,n){function r(i){return mr.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return r(nW(e,!!n))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function nf(t,e){return oW(t).map(n=>mr.fromString(n,e))}class vs{constructor(e,n){e!==ul&&nn.throwError("use a static from method",pe.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),oh(this,n),this._isFragment=!0,Object.freeze(this)}static from(e){return vs.isFragment(e)?e:typeof e=="string"?vs.fromString(e):vs.fromObject(e)}static fromObject(e){if(vs.isFragment(e))return e;switch(e.type){case"function":return No.fromObject(e);case"event":return hs.fromObject(e);case"constructor":return To.fromObject(e);case"error":return Ys.fromObject(e);case"fallback":case"receive":return null}return nn.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?hs.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?No.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?To.fromString(e.trim()):e.split(" ")[0]==="error"?Ys.fromString(e.substring(5).trim()):nn.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class hs extends vs{format(e){if(e||(e=fn.sighash),fn[e]||nn.throwArgumentError("invalid format type","format",e),e===fn.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==fn.sighash&&(n+="event "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===fn.full?", ":",")+") ",e!==fn.sighash&&this.anonymous&&(n+="anonymous "),n.trim()}static from(e){return typeof e=="string"?hs.fromString(e):hs.fromObject(e)}static fromObject(e){if(hs.isEventFragment(e))return e;e.type!=="event"&&nn.throwArgumentError("invalid event object","value",e);const n={name:rf(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(mr.fromObject):[],type:"event"};return new hs(ul,n)}static fromString(e){let n=e.match(of);n||nn.throwArgumentError("invalid event string","value",e);let r=!1;return n[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":r=!0;break;case"":break;default:nn.warn("unknown modifier: "+i)}}),hs.fromObject({name:n[1].trim(),anonymous:r,inputs:nf(n[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function uA(t,e){e.gas=null;let n=t.split("@");return n.length!==1?(n.length>2&&nn.throwArgumentError("invalid human-readable ABI signature","value",t),n[1].match(/^[0-9]+$/)||nn.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Be.from(n[1]),n[0]):t}function fA(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(n=>{switch(n.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+n)}})}function dA(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&nn.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&nn.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&nn.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&nn.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&nn.throwArgumentError("unable to determine stateMutability","value",t),e}class To extends vs{format(e){if(e||(e=fn.sighash),fn[e]||nn.throwArgumentError("invalid format type","format",e),e===fn.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});e===fn.sighash&&nn.throwError("cannot format a constructor for sighash",pe.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let n="constructor("+this.inputs.map(r=>r.format(e)).join(e===fn.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "),n.trim()}static from(e){return typeof e=="string"?To.fromString(e):To.fromObject(e)}static fromObject(e){if(To.isConstructorFragment(e))return e;e.type!=="constructor"&&nn.throwArgumentError("invalid constructor object","value",e);let n=dA(e);n.constant&&nn.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(mr.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?Be.from(e.gas):null};return new To(ul,r)}static fromString(e){let n={type:"constructor"};e=uA(e,n);let r=e.match(of);return(!r||r[1].trim()!=="constructor")&&nn.throwArgumentError("invalid constructor string","value",e),n.inputs=nf(r[2].trim(),!1),fA(r[3].trim(),n),To.fromObject(n)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class No extends To{format(e){if(e||(e=fn.sighash),fn[e]||nn.throwArgumentError("invalid format type","format",e),e===fn.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==fn.sighash&&(n+="function "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===fn.full?", ":",")+") ",e!==fn.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(n+=this.stateMutability+" "):this.constant&&(n+="view "),this.outputs&&this.outputs.length&&(n+="returns ("+this.outputs.map(r=>r.format(e)).join(", ")+") "),this.gas!=null&&(n+="@"+this.gas.toString()+" ")),n.trim()}static from(e){return typeof e=="string"?No.fromString(e):No.fromObject(e)}static fromObject(e){if(No.isFunctionFragment(e))return e;e.type!=="function"&&nn.throwArgumentError("invalid function object","value",e);let n=dA(e);const r={type:e.type,name:rf(e.name),constant:n.constant,inputs:e.inputs?e.inputs.map(mr.fromObject):[],outputs:e.outputs?e.outputs.map(mr.fromObject):[],payable:n.payable,stateMutability:n.stateMutability,gas:e.gas?Be.from(e.gas):null};return new No(ul,r)}static fromString(e){let n={type:"function"};e=uA(e,n);let r=e.split(" returns ");r.length>2&&nn.throwArgumentError("invalid function string","value",e);let i=r[0].match(of);if(i||nn.throwArgumentError("invalid function signature","value",e),n.name=i[1].trim(),n.name&&rf(n.name),n.inputs=nf(i[2],!1),fA(i[3].trim(),n),r.length>1){let o=r[1].match(of);(o[1].trim()!=""||o[3].trim()!="")&&nn.throwArgumentError("unexpected tokens","value",e),n.outputs=nf(o[2],!1)}else n.outputs=[];return No.fromObject(n)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function t3(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&nn.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Ys extends vs{format(e){if(e||(e=fn.sighash),fn[e]||nn.throwArgumentError("invalid format type","format",e),e===fn.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let n="";return e!==fn.sighash&&(n+="error "),n+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===fn.full?", ":",")+") ",n.trim()}static from(e){return typeof e=="string"?Ys.fromString(e):Ys.fromObject(e)}static fromObject(e){if(Ys.isErrorFragment(e))return e;e.type!=="error"&&nn.throwArgumentError("invalid error object","value",e);const n={type:e.type,name:rf(e.name),inputs:e.inputs?e.inputs.map(mr.fromObject):[]};return t3(new Ys(ul,n))}static fromString(e){let n={type:"error"},r=e.match(of);return r||nn.throwArgumentError("invalid error signature","value",e),n.name=r[1].trim(),n.name&&rf(n.name),n.inputs=nf(r[2],!1),t3(Ys.fromObject(n))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function rc(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const iW=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function rf(t){return(!t||!t.match(iW))&&nn.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const of=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function oW(t){t=t.trim();let e=[],n="",r=0;for(let i=0;i<t.length;i++){let o=t[i];o===","&&r===0?(e.push(n),n=""):(n+=o,o==="("?r++:o===")"&&(r--,r===-1&&nn.throwArgumentError("unbalanced parenthesis","value",t)))}return n&&e.push(n),e}const Qb=new pe(Ff);function sW(t){const e=[],n=function(r,i){if(Array.isArray(i))for(let o in i){const s=r.slice();s.push(o);try{n(s,i[o])}catch(a){e.push({path:s,error:a})}}};return n([],t),e}class Is{constructor(e,n,r,i){this.name=e,this.type=n,this.localName=r,this.dynamic=i}_throwError(e,n){Qb.throwArgumentError(e,this.localName,n)}}class By{constructor(e){Ne(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return li(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(ui(e._data))}writeBytes(e){let n=Et(e);const r=n.length%this.wordSize;return r&&(n=ui([n,this._padding.slice(r)])),this._writeData(n)}_getValue(e){let n=Et(Be.from(e));return n.length>this.wordSize&&Qb.throwError("value out-of-bounds",pe.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:n.length}),n.length%this.wordSize&&(n=ui([this._padding.slice(n.length%this.wordSize),n])),n}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,n=>{this._data[e]=this._getValue(n)}}}class np{constructor(e,n,r,i){Ne(this,"_data",Et(e)),Ne(this,"wordSize",n||32),Ne(this,"_coerceFunc",r),Ne(this,"allowLoose",i),this._offset=0}get data(){return dt(this._data)}get consumed(){return this._offset}static coerce(e,n){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(n=n.toNumber()),n}coerce(e,n){return this._coerceFunc?this._coerceFunc(e,n):np.coerce(e,n)}_peekBytes(e,n,r){let i=Math.ceil(n/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&r&&this._offset+n<=this._data.length?i=n:Qb.throwError("data out-of-bounds",pe.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new np(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,n){let r=this._peekBytes(0,e,!!n);return this._offset+=r.length,r.slice(0,e)}readValue(){return Be.from(this.readBytes(this.wordSize))}}var hA={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var o=!r&&typeof self=="object",s=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=ne:o&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],f=[4,1024,262144,67108864],d=[1,256,65536,16777216],p=[6,1536,393216,100663296],h=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],w=[224,256,384,512],x=[128,256],y=["hex","buffer","arrayBuffer","array","digest"],b={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(U){return Object.prototype.toString.call(U)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(U){return typeof U=="object"&&U.buffer&&U.buffer.constructor===ArrayBuffer});for(var E=function(U,ce,te){return function(z){return new C(U,ce,U).update(z)[te]()}},O=function(U,ce,te){return function(z,G){return new C(U,ce,G).update(z)[te]()}},N=function(U,ce,te){return function(z,G,S,J){return v["cshake"+U].update(z,G,S,J)[te]()}},R=function(U,ce,te){return function(z,G,S,J){return v["kmac"+U].update(z,G,S,J)[te]()}},L=function(U,ce,te,z){for(var G=0;G<y.length;++G){var S=y[G];U[S]=ce(te,z,S)}return U},W=function(U,ce){var te=E(U,ce,"hex");return te.create=function(){return new C(U,ce,U)},te.update=function(z){return te.create().update(z)},L(te,E,U,ce)},M=function(U,ce){var te=O(U,ce,"hex");return te.create=function(z){return new C(U,ce,z)},te.update=function(z,G){return te.create(G).update(z)},L(te,O,U,ce)},F=function(U,ce){var te=b[U],z=N(U,ce,"hex");return z.create=function(G,S,J){return!S&&!J?v["shake"+U].create(G):new C(U,ce,G).bytepad([S,J],te)},z.update=function(G,S,J,re){return z.create(S,J,re).update(G)},L(z,N,U,ce)},$=function(U,ce){var te=b[U],z=R(U,ce,"hex");return z.create=function(G,S,J){return new H(U,ce,S).bytepad(["KMAC",J],te).bytepad([G],te)},z.update=function(G,S,J,re){return z.create(G,J,re).update(S)},L(z,R,U,ce)},P=[{name:"keccak",padding:d,bits:w,createMethod:W},{name:"sha3",padding:p,bits:w,createMethod:W},{name:"shake",padding:u,bits:x,createMethod:M},{name:"cshake",padding:f,bits:x,createMethod:F},{name:"kmac",padding:f,bits:x,createMethod:$}],v={},g=[],_=0;_<P.length;++_)for(var T=P[_],D=T.bits,I=0;I<D.length;++I){var j=T.name+"_"+D[I];if(g.push(j),v[j]=T.createMethod(D[I],T.padding),T.name!=="sha3"){var B=T.name+D[I];g.push(B),v[B]=v[j]}}function C(U,ce,te){this.blocks=[],this.s=[],this.padding=ce,this.outputBits=te,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(U<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=te>>5,this.extraBytes=(te&31)>>3;for(var z=0;z<50;++z)this.s[z]=0}C.prototype.update=function(U){if(this.finalized)throw new Error(n);var ce,te=typeof U;if(te!=="string"){if(te==="object"){if(U===null)throw new Error(e);if(l&&U.constructor===ArrayBuffer)U=new Uint8Array(U);else if(!Array.isArray(U)&&(!l||!ArrayBuffer.isView(U)))throw new Error(e)}else throw new Error(e);ce=!0}for(var z=this.blocks,G=this.byteCount,S=U.length,J=this.blockCount,re=0,me=this.s,ge,xe;re<S;){if(this.reset)for(this.reset=!1,z[0]=this.block,ge=1;ge<J+1;++ge)z[ge]=0;if(ce)for(ge=this.start;re<S&&ge<G;++re)z[ge>>2]|=U[re]<<h[ge++&3];else for(ge=this.start;re<S&&ge<G;++re)xe=U.charCodeAt(re),xe<128?z[ge>>2]|=xe<<h[ge++&3]:xe<2048?(z[ge>>2]|=(192|xe>>6)<<h[ge++&3],z[ge>>2]|=(128|xe&63)<<h[ge++&3]):xe<55296||xe>=57344?(z[ge>>2]|=(224|xe>>12)<<h[ge++&3],z[ge>>2]|=(128|xe>>6&63)<<h[ge++&3],z[ge>>2]|=(128|xe&63)<<h[ge++&3]):(xe=65536+((xe&1023)<<10|U.charCodeAt(++re)&1023),z[ge>>2]|=(240|xe>>18)<<h[ge++&3],z[ge>>2]|=(128|xe>>12&63)<<h[ge++&3],z[ge>>2]|=(128|xe>>6&63)<<h[ge++&3],z[ge>>2]|=(128|xe&63)<<h[ge++&3]);if(this.lastByteIndex=ge,ge>=G){for(this.start=ge-G,this.block=z[J],ge=0;ge<J;++ge)me[ge]^=z[ge];ae(me),this.reset=!0}else this.start=ge}return this},C.prototype.encode=function(U,ce){var te=U&255,z=1,G=[te];for(U=U>>8,te=U&255;te>0;)G.unshift(te),U=U>>8,te=U&255,++z;return ce?G.push(z):G.unshift(z),this.update(G),G.length},C.prototype.encodeString=function(U){var ce,te=typeof U;if(te!=="string"){if(te==="object"){if(U===null)throw new Error(e);if(l&&U.constructor===ArrayBuffer)U=new Uint8Array(U);else if(!Array.isArray(U)&&(!l||!ArrayBuffer.isView(U)))throw new Error(e)}else throw new Error(e);ce=!0}var z=0,G=U.length;if(ce)z=G;else for(var S=0;S<U.length;++S){var J=U.charCodeAt(S);J<128?z+=1:J<2048?z+=2:J<55296||J>=57344?z+=3:(J=65536+((J&1023)<<10|U.charCodeAt(++S)&1023),z+=4)}return z+=this.encode(z*8),this.update(U),z},C.prototype.bytepad=function(U,ce){for(var te=this.encode(ce),z=0;z<U.length;++z)te+=this.encodeString(U[z]);var G=ce-te%ce,S=[];return S.length=G,this.update(S),this},C.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var U=this.blocks,ce=this.lastByteIndex,te=this.blockCount,z=this.s;if(U[ce>>2]|=this.padding[ce&3],this.lastByteIndex===this.byteCount)for(U[0]=U[te],ce=1;ce<te+1;++ce)U[ce]=0;for(U[te-1]|=2147483648,ce=0;ce<te;++ce)z[ce]^=U[ce];ae(z)}},C.prototype.toString=C.prototype.hex=function(){this.finalize();for(var U=this.blockCount,ce=this.s,te=this.outputBlocks,z=this.extraBytes,G=0,S=0,J="",re;S<te;){for(G=0;G<U&&S<te;++G,++S)re=ce[G],J+=c[re>>4&15]+c[re&15]+c[re>>12&15]+c[re>>8&15]+c[re>>20&15]+c[re>>16&15]+c[re>>28&15]+c[re>>24&15];S%U===0&&(ae(ce),G=0)}return z&&(re=ce[G],J+=c[re>>4&15]+c[re&15],z>1&&(J+=c[re>>12&15]+c[re>>8&15]),z>2&&(J+=c[re>>20&15]+c[re>>16&15])),J},C.prototype.arrayBuffer=function(){this.finalize();var U=this.blockCount,ce=this.s,te=this.outputBlocks,z=this.extraBytes,G=0,S=0,J=this.outputBits>>3,re;z?re=new ArrayBuffer(te+1<<2):re=new ArrayBuffer(J);for(var me=new Uint32Array(re);S<te;){for(G=0;G<U&&S<te;++G,++S)me[S]=ce[G];S%U===0&&ae(ce)}return z&&(me[G]=ce[G],re=re.slice(0,J)),re},C.prototype.buffer=C.prototype.arrayBuffer,C.prototype.digest=C.prototype.array=function(){this.finalize();for(var U=this.blockCount,ce=this.s,te=this.outputBlocks,z=this.extraBytes,G=0,S=0,J=[],re,me;S<te;){for(G=0;G<U&&S<te;++G,++S)re=S<<2,me=ce[G],J[re]=me&255,J[re+1]=me>>8&255,J[re+2]=me>>16&255,J[re+3]=me>>24&255;S%U===0&&ae(ce)}return z&&(re=S<<2,me=ce[G],J[re]=me&255,z>1&&(J[re+1]=me>>8&255),z>2&&(J[re+2]=me>>16&255)),J};function H(U,ce,te){C.call(this,U,ce,te)}H.prototype=new C,H.prototype.finalize=function(){return this.encode(this.outputBits,!0),C.prototype.finalize.call(this)};var ae=function(U){var ce,te,z,G,S,J,re,me,ge,xe,qe,Fe,Se,lt,Qe,tt,xt,ze,Ye,Dt,Te,Ie,We,Ke,ut,Nt,Le,Pe,Ut,wt,Tt,_n,Pt,Kt,yn,Vt,Yt,dn,pt,vt,Jt,Ct,At,un,Rt,at,Ft,k,X,q,A,Q,ue,de,we,De,Me,Re,kt,je,ft,ht,mt;for(z=0;z<48;z+=2)G=U[0]^U[10]^U[20]^U[30]^U[40],S=U[1]^U[11]^U[21]^U[31]^U[41],J=U[2]^U[12]^U[22]^U[32]^U[42],re=U[3]^U[13]^U[23]^U[33]^U[43],me=U[4]^U[14]^U[24]^U[34]^U[44],ge=U[5]^U[15]^U[25]^U[35]^U[45],xe=U[6]^U[16]^U[26]^U[36]^U[46],qe=U[7]^U[17]^U[27]^U[37]^U[47],Fe=U[8]^U[18]^U[28]^U[38]^U[48],Se=U[9]^U[19]^U[29]^U[39]^U[49],ce=Fe^(J<<1|re>>>31),te=Se^(re<<1|J>>>31),U[0]^=ce,U[1]^=te,U[10]^=ce,U[11]^=te,U[20]^=ce,U[21]^=te,U[30]^=ce,U[31]^=te,U[40]^=ce,U[41]^=te,ce=G^(me<<1|ge>>>31),te=S^(ge<<1|me>>>31),U[2]^=ce,U[3]^=te,U[12]^=ce,U[13]^=te,U[22]^=ce,U[23]^=te,U[32]^=ce,U[33]^=te,U[42]^=ce,U[43]^=te,ce=J^(xe<<1|qe>>>31),te=re^(qe<<1|xe>>>31),U[4]^=ce,U[5]^=te,U[14]^=ce,U[15]^=te,U[24]^=ce,U[25]^=te,U[34]^=ce,U[35]^=te,U[44]^=ce,U[45]^=te,ce=me^(Fe<<1|Se>>>31),te=ge^(Se<<1|Fe>>>31),U[6]^=ce,U[7]^=te,U[16]^=ce,U[17]^=te,U[26]^=ce,U[27]^=te,U[36]^=ce,U[37]^=te,U[46]^=ce,U[47]^=te,ce=xe^(G<<1|S>>>31),te=qe^(S<<1|G>>>31),U[8]^=ce,U[9]^=te,U[18]^=ce,U[19]^=te,U[28]^=ce,U[29]^=te,U[38]^=ce,U[39]^=te,U[48]^=ce,U[49]^=te,lt=U[0],Qe=U[1],at=U[11]<<4|U[10]>>>28,Ft=U[10]<<4|U[11]>>>28,Pe=U[20]<<3|U[21]>>>29,Ut=U[21]<<3|U[20]>>>29,je=U[31]<<9|U[30]>>>23,ft=U[30]<<9|U[31]>>>23,Ct=U[40]<<18|U[41]>>>14,At=U[41]<<18|U[40]>>>14,Kt=U[2]<<1|U[3]>>>31,yn=U[3]<<1|U[2]>>>31,tt=U[13]<<12|U[12]>>>20,xt=U[12]<<12|U[13]>>>20,k=U[22]<<10|U[23]>>>22,X=U[23]<<10|U[22]>>>22,wt=U[33]<<13|U[32]>>>19,Tt=U[32]<<13|U[33]>>>19,ht=U[42]<<2|U[43]>>>30,mt=U[43]<<2|U[42]>>>30,de=U[5]<<30|U[4]>>>2,we=U[4]<<30|U[5]>>>2,Vt=U[14]<<6|U[15]>>>26,Yt=U[15]<<6|U[14]>>>26,ze=U[25]<<11|U[24]>>>21,Ye=U[24]<<11|U[25]>>>21,q=U[34]<<15|U[35]>>>17,A=U[35]<<15|U[34]>>>17,_n=U[45]<<29|U[44]>>>3,Pt=U[44]<<29|U[45]>>>3,Ke=U[6]<<28|U[7]>>>4,ut=U[7]<<28|U[6]>>>4,De=U[17]<<23|U[16]>>>9,Me=U[16]<<23|U[17]>>>9,dn=U[26]<<25|U[27]>>>7,pt=U[27]<<25|U[26]>>>7,Dt=U[36]<<21|U[37]>>>11,Te=U[37]<<21|U[36]>>>11,Q=U[47]<<24|U[46]>>>8,ue=U[46]<<24|U[47]>>>8,un=U[8]<<27|U[9]>>>5,Rt=U[9]<<27|U[8]>>>5,Nt=U[18]<<20|U[19]>>>12,Le=U[19]<<20|U[18]>>>12,Re=U[29]<<7|U[28]>>>25,kt=U[28]<<7|U[29]>>>25,vt=U[38]<<8|U[39]>>>24,Jt=U[39]<<8|U[38]>>>24,Ie=U[48]<<14|U[49]>>>18,We=U[49]<<14|U[48]>>>18,U[0]=lt^~tt&ze,U[1]=Qe^~xt&Ye,U[10]=Ke^~Nt&Pe,U[11]=ut^~Le&Ut,U[20]=Kt^~Vt&dn,U[21]=yn^~Yt&pt,U[30]=un^~at&k,U[31]=Rt^~Ft&X,U[40]=de^~De&Re,U[41]=we^~Me&kt,U[2]=tt^~ze&Dt,U[3]=xt^~Ye&Te,U[12]=Nt^~Pe&wt,U[13]=Le^~Ut&Tt,U[22]=Vt^~dn&vt,U[23]=Yt^~pt&Jt,U[32]=at^~k&q,U[33]=Ft^~X&A,U[42]=De^~Re&je,U[43]=Me^~kt&ft,U[4]=ze^~Dt&Ie,U[5]=Ye^~Te&We,U[14]=Pe^~wt&_n,U[15]=Ut^~Tt&Pt,U[24]=dn^~vt&Ct,U[25]=pt^~Jt&At,U[34]=k^~q&Q,U[35]=X^~A&ue,U[44]=Re^~je&ht,U[45]=kt^~ft&mt,U[6]=Dt^~Ie&lt,U[7]=Te^~We&Qe,U[16]=wt^~_n&Ke,U[17]=Tt^~Pt&ut,U[26]=vt^~Ct&Kt,U[27]=Jt^~At&yn,U[36]=q^~Q&un,U[37]=A^~ue&Rt,U[46]=je^~ht&de,U[47]=ft^~mt&we,U[8]=Ie^~lt&tt,U[9]=We^~Qe&xt,U[18]=_n^~Ke&Nt,U[19]=Pt^~ut&Le,U[28]=Ct^~Kt&Vt,U[29]=At^~yn&Yt,U[38]=Q^~un&at,U[39]=ue^~Rt&Ft,U[48]=ht^~de&De,U[49]=mt^~we&Me,U[0]^=m[z],U[1]^=m[z+1]};if(a)t.exports=v;else for(_=0;_<g.length;++_)i[g[_]]=v[g[_]]})()})(hA);var aW=hA.exports;const lW=xa(aW);function cr(t){return"0x"+lW.keccak_256(Et(t))}const cW="rlp/5.7.0",Do=new pe(cW);function n3(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function r3(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function pA(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(o){r=r.concat(pA(o))}),r.length<=55)return r.unshift(192+r.length),r;const i=n3(r.length);return i.unshift(247+i.length),i.concat(r)}Vb(t)||Do.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Et(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=n3(e.length);return n.unshift(183+n.length),n.concat(e)}function _1(t){return dt(pA(t))}function i3(t,e,n,r){const i=[];for(;n<e+1+r;){const o=gA(t,n);i.push(o.result),n+=o.consumed,n>e+1+r&&Do.throwError("child data too short",pe.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:i}}function gA(t,e){if(t.length===0&&Do.throwError("data too short",pe.errors.BUFFER_OVERRUN,{}),t[e]>=248){const n=t[e]-247;e+1+n>t.length&&Do.throwError("data short segment too short",pe.errors.BUFFER_OVERRUN,{});const r=r3(t,e+1,n);return e+1+n+r>t.length&&Do.throwError("data long segment too short",pe.errors.BUFFER_OVERRUN,{}),i3(t,e,e+1+n,n+r)}else if(t[e]>=192){const n=t[e]-192;return e+1+n>t.length&&Do.throwError("data array too short",pe.errors.BUFFER_OVERRUN,{}),i3(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;e+1+n>t.length&&Do.throwError("data array too short",pe.errors.BUFFER_OVERRUN,{});const r=r3(t,e+1,n);e+1+n+r>t.length&&Do.throwError("data array too short",pe.errors.BUFFER_OVERRUN,{});const i=dt(t.slice(e+1+n,e+1+n+r));return{consumed:1+n+r,result:i}}else if(t[e]>=128){const n=t[e]-128;e+1+n>t.length&&Do.throwError("data too short",pe.errors.BUFFER_OVERRUN,{});const r=dt(t.slice(e+1,e+1+n));return{consumed:1+n,result:r}}return{consumed:1,result:dt(t[e])}}function Yb(t){const e=Et(t),n=gA(e,0);return n.consumed!==e.length&&Do.throwArgumentError("invalid rlp data","data",t),n.result}const uW="address/5.7.0",xc=new pe(uW);function o3(t){ln(t,20)||xc.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=Et(cr(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const fW=9007199254740991;function dW(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const Zb={};for(let t=0;t<10;t++)Zb[String(t)]=String(t);for(let t=0;t<26;t++)Zb[String.fromCharCode(65+t)]=String(10+t);const s3=Math.floor(dW(fW));function hW(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>Zb[r]).join("");for(;e.length>=s3;){let r=e.substring(0,s3);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}function Rr(t){let e=null;if(typeof t!="string"&&xc.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=o3(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&xc.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==hW(t)&&xc.throwArgumentError("bad icap checksum","address",t),e=VK(t.substring(4));e.length<40;)e="0"+e;e=o3("0x"+e)}else xc.throwArgumentError("invalid address","address",t);return e}function ex(t){let e=null;try{e=Rr(t.from)}catch{xc.throwArgumentError("missing from address","transaction",t)}const n=Jc(Et(Be.from(t.nonce).toHexString()));return Rr(Fr(cr(_1([e,n])),12))}class pW extends Is{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){try{n=Rr(n)}catch(r){this._throwError(r.message,n)}return e.writeValue(n)}decode(e){return Rr(kn(e.readValue().toHexString(),20))}}class gW extends Is{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}}const wc=new pe(Ff);function vA(t,e,n){let r=null;if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(c=>{const u=c.localName;return u||wc.throwError("cannot encode object for signature with missing names",pe.errors.INVALID_ARGUMENT,{argument:"values",coder:c,value:n}),l[u]&&wc.throwError("cannot encode object for signature with duplicate names",pe.errors.INVALID_ARGUMENT,{argument:"values",coder:c,value:n}),l[u]=!0,n[u]})}else wc.throwArgumentError("invalid tuple value","tuple",n);e.length!==r.length&&wc.throwArgumentError("types/value length mismatch","tuple",n);let i=new By(t.wordSize),o=new By(t.wordSize),s=[];e.forEach((l,c)=>{let u=r[c];if(l.dynamic){let f=o.length;l.encode(o,u);let d=i.writeUpdatableValue();s.push(p=>{d(p+f)})}else l.encode(i,u)}),s.forEach(l=>{l(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function mA(t,e){let n=[],r=t.subReader(0);e.forEach(o=>{let s=null;if(o.dynamic){let a=t.readValue(),l=r.subReader(a.toNumber());try{s=o.decode(l)}catch(c){if(c.code===pe.errors.BUFFER_OVERRUN)throw c;s=c,s.baseType=o.name,s.name=o.localName,s.type=o.type}}else try{s=o.decode(t)}catch(a){if(a.code===pe.errors.BUFFER_OVERRUN)throw a;s=a,s.baseType=o.name,s.name=o.localName,s.type=o.type}s!=null&&n.push(s)});const i=e.reduce((o,s)=>{const a=s.localName;return a&&(o[a]||(o[a]=0),o[a]++),o},{});e.forEach((o,s)=>{let a=o.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),n[a]!=null))return;const l=n[s];l instanceof Error?Object.defineProperty(n,a,{enumerable:!0,get:()=>{throw l}}):n[a]=l});for(let o=0;o<n.length;o++){const s=n[o];s instanceof Error&&Object.defineProperty(n,o,{enumerable:!0,get:()=>{throw s}})}return Object.freeze(n)}class vW extends Is{constructor(e,n,r){const i=e.type+"["+(n>=0?n:"")+"]",o=n===-1||e.dynamic;super("array",i,r,o),this.coder=e,this.length=n}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;r===-1&&(r=n.length,e.writeValue(n.length)),wc.checkArgumentCount(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let o=0;o<n.length;o++)i.push(this.coder);return vA(e,i,n)}decode(e){let n=this.length;n===-1&&(n=e.readValue().toNumber(),n*32>e._data.length&&wc.throwError("insufficient data length",pe.errors.BUFFER_OVERRUN,{length:e._data.length,count:n}));let r=[];for(let i=0;i<n;i++)r.push(new gW(this.coder));return e.coerce(this.name,mA(e,r))}}class mW extends Is{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){return e.writeValue(n?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class yA extends Is{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Et(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class yW extends yA{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,dt(super.decode(e)))}}class bW extends Is{constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=Et(n);return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return e.coerce(this.name,dt(e.readBytes(this.size)))}}class xW extends Is{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const wW="0x0000000000000000000000000000000000000000",_W=Be.from(-1),bA=Be.from(0),EW=Be.from(1),CW=Be.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),AW="0x0000000000000000000000000000000000000000000000000000000000000000";class SW extends Is{constructor(e,n,r){const i=(n?"int":"uint")+e*8;super(i,i,r,!1),this.size=e,this.signed=n}defaultValue(){return 0}encode(e,n){let r=Be.from(n),i=CW.mask(e.wordSize*8);if(this.signed){let o=i.mask(this.size*8-1);(r.gt(o)||r.lt(o.add(EW).mul(_W)))&&this._throwError("value out-of-bounds",n)}else(r.lt(bA)||r.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",n);return r=r.toTwos(this.size*8).mask(this.size*8),this.signed&&(r=r.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let n=e.readValue().mask(this.size*8);return this.signed&&(n=n.fromTwos(this.size*8)),e.coerce(this.name,n)}}const OW="strings/5.7.0",xA=new pe(OW);var sf;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(sf||(sf={}));var bi;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(bi||(bi={}));function DW(t,e,n,r,i){return xA.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function wA(t,e,n,r,i){if(t===bi.BAD_PREFIX||t===bi.UNEXPECTED_CONTINUE){let o=0;for(let s=e+1;s<n.length&&n[s]>>6===2;s++)o++;return o}return t===bi.OVERRUN?n.length-e-1:0}function RW(t,e,n,r,i){return t===bi.OVERLONG?(r.push(i),0):(r.push(65533),wA(t,e,n))}const TW=Object.freeze({error:DW,ignore:wA,replace:RW});function _A(t,e){e==null&&(e=TW.error),t=Et(t);const n=[];let r=0;for(;r<t.length;){const i=t[r++];if(!(i>>7)){n.push(i);continue}let o=null,s=null;if((i&224)===192)o=1,s=127;else if((i&240)===224)o=2,s=2047;else if((i&248)===240)o=3,s=65535;else{(i&192)===128?r+=e(bi.UNEXPECTED_CONTINUE,r-1,t,n):r+=e(bi.BAD_PREFIX,r-1,t,n);continue}if(r-1+o>=t.length){r+=e(bi.OVERRUN,r-1,t,n);continue}let a=i&(1<<8-o-1)-1;for(let l=0;l<o;l++){let c=t[r];if((c&192)!=128){r+=e(bi.MISSING_CONTINUE,r,t,n),a=null;break}a=a<<6|c&63,r++}if(a!==null){if(a>1114111){r+=e(bi.OUT_OF_RANGE,r-1-o,t,n,a);continue}if(a>=55296&&a<=57343){r+=e(bi.UTF16_SURROGATE,r-1-o,t,n,a);continue}if(a<=s){r+=e(bi.OVERLONG,r-1-o,t,n,a);continue}n.push(a)}}return n}function jo(t,e=sf.current){e!=sf.current&&(xA.checkNormalize(),t=t.normalize(e));let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const o=t.charCodeAt(r);if(r>=t.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");const s=65536+((i&1023)<<10)+(o&1023);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return Et(n)}function NW(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Lf(t,e){return NW(_A(t,e))}function PW(t,e=sf.current){return _A(jo(t,e))}class kW extends yA{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,jo(n))}decode(e){return Lf(super.decode(e))}}class Nd extends Is{constructor(e,n){let r=!1;const i=[];e.forEach(s=>{s.dynamic&&(r=!0),i.push(s.type)});const o="tuple("+i.join(",")+")";super("tuple",o,n,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const n=this.coders.reduce((r,i)=>{const o=i.localName;return o&&(r[o]||(r[o]=0),r[o]++),r},{});return this.coders.forEach((r,i)=>{let o=r.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,n){return vA(e,this.coders,n)}decode(e){return e.coerce(this.name,mA(e,this.coders))}}const Pd=new pe(Ff),IW=new RegExp(/^bytes([0-9]*)$/),MW=new RegExp(/^(u?int)([0-9]*)$/);class BW{constructor(e){Ne(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new pW(e.name);case"bool":return new mW(e.name);case"string":return new kW(e.name);case"bytes":return new yW(e.name);case"array":return new vW(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Nd((e.components||[]).map(r=>this._getCoder(r)),e.name);case"":return new xW(e.name)}let n=e.type.match(MW);if(n){let r=parseInt(n[2]||"256");return(r===0||r>256||r%8!==0)&&Pd.throwArgumentError("invalid "+n[1]+" bit length","param",e),new SW(r/8,n[1]==="int",e.name)}if(n=e.type.match(IW),n){let r=parseInt(n[1]);return(r===0||r>32)&&Pd.throwArgumentError("invalid bytes length","param",e),new bW(r,e.name)}return Pd.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,n){return new np(e,this._getWordSize(),this.coerceFunc,n)}_getWriter(){return new By(this._getWordSize())}getDefaultValue(e){const n=e.map(i=>this._getCoder(mr.from(i)));return new Nd(n,"_").defaultValue()}encode(e,n){e.length!==n.length&&Pd.throwError("types/values length mismatch",pe.errors.INVALID_ARGUMENT,{count:{types:e.length,values:n.length},value:{types:e,values:n}});const r=e.map(s=>this._getCoder(mr.from(s))),i=new Nd(r,"_"),o=this._getWriter();return i.encode(o,n),o.data}decode(e,n,r){const i=e.map(s=>this._getCoder(mr.from(s)));return new Nd(i,"_").decode(this._getReader(Et(n),r))}}const FW=new BW;function _c(t){return cr(jo(t))}const EA="hash/5.7.0";function CA(t){t=atob(t);const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n));return Et(e)}function AA(t){t=Et(t);let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function SA(t,e){e==null&&(e=1);const n=[],r=n.forEach,i=function(o,s){r.call(o,function(a){s>0&&Array.isArray(a)?i(a,s-1):n.push(a)})};return i(t,e),n}function LW(t){const e={};for(let n=0;n<t.length;n++){const r=t[n];e[r[0]]=r[1]}return e}function UW(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,o=[0,1];for(let O=1;O<r;O++)o.push(i+=n());let s=n(),a=e;e+=s;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const f=31,d=Math.pow(2,f),p=d>>>1,h=p>>1,m=d-1;let w=0;for(let O=0;O<f;O++)w=w<<1|u();let x=[],y=0,b=d;for(;;){let O=Math.floor(((w-y+1)*i-1)/b),N=0,R=r;for(;R-N>1;){let M=N+R>>>1;O<o[M]?R=M:N=M}if(N==0)break;x.push(N);let L=y+Math.floor(b*o[N]/i),W=y+Math.floor(b*o[N+1]/i)-1;for(;!((L^W)&p);)w=w<<1&m|u(),L=L<<1&m,W=W<<1&m|1;for(;L&~W&h;)w=w&p|w<<1&m>>>1|u(),L=L<<1^p,W=(W^p)<<1|p|1;y=L,b=1+W-L}let E=r-4;return x.map(O=>{switch(O-E){case 3:return E+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return E+256+(t[a++]<<8|t[a++]);case 1:return E+t[a++];default:return O-1}})}function $W(t){let e=0;return()=>t[e++]}function jW(t){return $W(UW(t))}function KW(t){return t&1?~t>>1:t>>1}function WW(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=1+e();return n}function a3(t,e){let n=Array(t);for(let r=0,i=-1;r<t;r++)n[r]=i+=1+e();return n}function HW(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=KW(e());return n}function rp(t,e){let n=a3(t(),t),r=t(),i=a3(r,t),o=WW(r,t);for(let s=0;s<r;s++)for(let a=0;a<o[s];a++)n.push(i[s]+a);return e?n.map(s=>e[s]):n}function XW(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(qW(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(VW(n,t))}return LW(SA(e))}function zW(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(n)}return e}function OA(t,e,n){let r=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)HW(t,n).forEach((o,s)=>r[s].push(o));return r}function qW(t,e){let n=1+e(),r=e(),i=zW(e),o=OA(i.length,1+t,e);return SA(o.map((s,a)=>{const l=s[0],c=s.slice(1);return Array(i[a]).fill(void 0).map((u,f)=>{let d=f*r;return[l+f*n,c.map(p=>p+d)]})}))}function VW(t,e){let n=1+e();return OA(n,1+t,e).map(i=>[i[0],i.slice(1)])}function JW(t){let e=rp(t).sort((r,i)=>r-i);return n();function n(){let r=[];for(;;){let c=rp(t,e);if(c.length==0)break;r.push({set:new Set(c),node:n()})}r.sort((c,u)=>u.set.size-c.set.size);let i=t(),o=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let a=i==1,l=i==2;return{branches:r,valid:o,fe0f:s,save:a,check:l}}}function GW(){return jW(CA("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const E1=GW(),QW=new Set(rp(E1)),YW=new Set(rp(E1)),ZW=XW(E1),eH=JW(E1),l3=45,c3=95;function DA(t){return PW(t)}function tH(t){return t.filter(e=>e!=65039)}function RA(t){for(let e of t.split(".")){let n=DA(e);try{for(let r=n.lastIndexOf(c3)-1;r>=0;r--)if(n[r]!==c3)throw new Error("underscore only allowed at start");if(n.length>=4&&n.every(r=>r<128)&&n[2]===l3&&n[3]===l3)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return t}function nH(t){return RA(rH(t,tH))}function rH(t,e){let n=DA(t).reverse(),r=[];for(;n.length;){let i=oH(n);if(i){r.push(...e(i));continue}let o=n.pop();if(QW.has(o)){r.push(o);continue}if(YW.has(o))continue;let s=ZW[o];if(s){r.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`)}return RA(iH(String.fromCodePoint(...r)))}function iH(t){return t.normalize("NFC")}function oH(t,e){var n;let r=eH,i,o,s=[],a=t.length;for(;a;){let l=t[--a];if(r=(n=r.branches.find(c=>c.set.has(l)))===null||n===void 0?void 0:n.node,!r)break;if(r.save)o=l;else if(r.check&&l===o)break;s.push(l),r.fe0f&&(s.push(65039),a>0&&t[a-1]==65039&&a--),r.valid&&(i=s.slice(),r.valid==2&&i.splice(1,1),t.length=a)}return i}const sH=new pe(EA),TA=new Uint8Array(32);TA.fill(0);function u3(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function NA(t){const e=jo(nH(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(u3(e.slice(r,i))),r=i+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return n.push(u3(e.slice(r))),n}function sh(t){typeof t!="string"&&sH.throwArgumentError("invalid ENS name; not a string","name",t);let e=TA;const n=NA(t);for(;n.length;)e=cr(ui([e,cr(n.pop())]));return dt(e)}function aH(t){return dt(ui(NA(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n})))+"00"}var lH=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Bn=new pe(EA),PA=new Uint8Array(32);PA.fill(0);const cH=Be.from(-1),kA=Be.from(0),IA=Be.from(1),uH=Be.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function fH(t){const e=Et(t),n=e.length%32;return n?li([e,PA.slice(n)]):dt(e)}const dH=kn(IA.toHexString(),32),hH=kn(kA.toHexString(),32),f3={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},jv=["name","version","chainId","verifyingContract","salt"];function d3(t){return function(e){return typeof e!="string"&&Bn.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const pH={name:d3("name"),version:d3("version"),chainId:function(t){try{return Be.from(t).toString()}catch{}return Bn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Rr(t).toLowerCase()}catch{}return Bn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Et(t);if(e.length!==32)throw new Error("bad length");return dt(e)}catch{}return Bn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Kv(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const n=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&Bn.throwArgumentError("invalid numeric width","type",t);const i=uH.mask(n?r-1:r),o=n?i.add(IA).mul(cH):kA;return function(s){const a=Be.from(s);return(a.lt(o)||a.gt(i))&&Bn.throwArgumentError(`value out-of-bounds for ${t}`,"value",s),kn(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return(n===0||n>32||e[1]!==String(n))&&Bn.throwArgumentError("invalid bytes width","type",t),function(r){return Et(r).length!==n&&Bn.throwArgumentError(`invalid length for ${t}`,"value",r),fH(r)}}}switch(t){case"address":return function(e){return kn(Rr(e),32)};case"bool":return function(e){return e?dH:hH};case"bytes":return function(e){return cr(e)};case"string":return function(e){return _c(e)}}return null}function h3(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}class vi{constructor(e){Ne(this,"types",Object.freeze(Ds(e))),Ne(this,"_encoderCache",{}),Ne(this,"_types",{});const n={},r={},i={};Object.keys(e).forEach(a=>{n[a]={},r[a]=[],i[a]={}});for(const a in e){const l={};e[a].forEach(c=>{l[c.name]&&Bn.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",e),l[c.name]=!0;const u=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Bn.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!Kv(u)&&(r[u]||Bn.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),r[u].push(a),n[a][u]=!0)})}const o=Object.keys(r).filter(a=>r[a].length===0);o.length===0?Bn.throwArgumentError("missing primary type","types",e):o.length>1&&Bn.throwArgumentError(`ambiguous primary types or unused types: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Ne(this,"primaryType",o[0]);function s(a,l){l[a]&&Bn.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(n[a]).forEach(c=>{r[c]&&(s(c,l),Object.keys(l).forEach(u=>{i[u][c]=!0}))}),delete l[a]}s(this.primaryType,{});for(const a in i){const l=Object.keys(i[a]);l.sort(),this._types[a]=h3(a,e[a])+l.map(c=>h3(c,e[c])).join("")}}getEncoder(e){let n=this._encoderCache[e];return n||(n=this._encoderCache[e]=this._getEncoder(e)),n}_getEncoder(e){{const i=Kv(e);if(i)return i}const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const i=n[1],o=this.getEncoder(i),s=parseInt(n[3]);return a=>{s>=0&&a.length!==s&&Bn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(o);return this._types[i]&&(l=l.map(cr)),cr(li(l))}}const r=this.types[e];if(r){const i=_c(this._types[e]);return o=>{const s=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(o[a]);return this._types[l]?cr(c):c});return s.unshift(i),li(s)}}return Bn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const n=this._types[e];return n||Bn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return cr(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(Kv(e))return r(e,n);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const s=i[1],a=parseInt(i[3]);return a>=0&&n.length!==a&&Bn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n),n.map(l=>this._visit(s,l,r))}const o=this.types[e];return o?o.reduce((s,{name:a,type:l})=>(s[a]=this._visit(l,n[a],r),s),{}):Bn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new vi(e)}static getPrimaryType(e){return vi.from(e).primaryType}static hashStruct(e,n,r){return vi.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){const i=f3[r];i||Bn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>jv.indexOf(r.name)-jv.indexOf(i.name)),vi.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return li(["0x1901",vi.hashDomain(e),vi.from(n).hash(r)])}static hash(e,n,r){return cr(vi.encode(e,n,r))}static resolveNames(e,n,r,i){return lH(this,void 0,void 0,function*(){e=nr(e);const o={};e.verifyingContract&&!ln(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const s=vi.from(n);s.visit(r,(a,l)=>(a==="address"&&!ln(l,20)&&(o[l]="0x"),l));for(const a in o)o[a]=yield i(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),r=s.visit(r,(a,l)=>a==="address"&&o[l]?o[l]:l),{domain:e,value:r}})}static getPayload(e,n,r){vi.hashDomain(e);const i={},o=[];jv.forEach(l=>{const c=e[l];c!=null&&(i[l]=pH[l](c),o.push({name:l,type:f3[l]}))});const s=vi.from(n),a=nr(n);return a.EIP712Domain?Bn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",n):a.EIP712Domain=o,s.encode(r),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return dt(Et(c));if(l.match(/^u?int/))return Be.from(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&Bn.throwArgumentError("invalid string","value",c),c}return Bn.throwArgumentError("unsupported type","type",l)})}}}const Mn=new pe(Ff);class gH extends Bf{}class vH extends Bf{}class mH extends Bf{}class Fy extends Bf{static isIndexed(e){return!!(e&&e._isIndexed)}}const yH={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function p3(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return n.error=e,n}class Ly{constructor(e){let n=[];typeof e=="string"?n=JSON.parse(e):n=e,Ne(this,"fragments",n.map(r=>vs.from(r)).filter(r=>r!=null)),Ne(this,"_abiCoder",_i(new.target,"getAbiCoder")()),Ne(this,"functions",{}),Ne(this,"errors",{}),Ne(this,"events",{}),Ne(this,"structs",{}),this.fragments.forEach(r=>{let i=null;switch(r.type){case"constructor":if(this.deploy){Mn.warn("duplicate definition - constructor");return}Ne(this,"deploy",r);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let o=r.format();if(i[o]){Mn.warn("duplicate definition - "+o);return}i[o]=r}),this.deploy||Ne(this,"deploy",To.from({payable:!1,type:"constructor"})),Ne(this,"_isInterface",!0)}format(e){e||(e=fn.full),e===fn.sighash&&Mn.throwArgumentError("interface does not support formatting sighash","format",e);const n=this.fragments.map(r=>r.format(e));return e===fn.json?JSON.stringify(n.map(r=>JSON.parse(r))):n}static getAbiCoder(){return FW}static getAddress(e){return Rr(e)}static getSighash(e){return Fr(_c(e.format()),0,4)}static getEventTopic(e){return _c(e.format())}getFunction(e){if(ln(e)){for(const r in this.functions)if(e===this.getSighash(r))return this.functions[r];Mn.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.functions).filter(o=>o.split("(")[0]===r);return i.length===0?Mn.throwArgumentError("no matching function","name",r):i.length>1&&Mn.throwArgumentError("multiple matching functions","name",r),this.functions[i[0]]}const n=this.functions[No.fromString(e).format()];return n||Mn.throwArgumentError("no matching function","signature",e),n}getEvent(e){if(ln(e)){const r=e.toLowerCase();for(const i in this.events)if(r===this.getEventTopic(i))return this.events[i];Mn.throwArgumentError("no matching event","topichash",r)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.events).filter(o=>o.split("(")[0]===r);return i.length===0?Mn.throwArgumentError("no matching event","name",r):i.length>1&&Mn.throwArgumentError("multiple matching events","name",r),this.events[i[0]]}const n=this.events[hs.fromString(e).format()];return n||Mn.throwArgumentError("no matching event","signature",e),n}getError(e){if(ln(e)){const r=_i(this.constructor,"getSighash");for(const i in this.errors){const o=this.errors[i];if(e===r(o))return this.errors[i]}Mn.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.errors).filter(o=>o.split("(")[0]===r);return i.length===0?Mn.throwArgumentError("no matching error","name",r):i.length>1&&Mn.throwArgumentError("multiple matching errors","name",r),this.errors[i[0]]}const n=this.errors[No.fromString(e).format()];return n||Mn.throwArgumentError("no matching error","signature",e),n}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(n){try{e=this.getError(e)}catch{throw n}}return _i(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),_i(this.constructor,"getEventTopic")(e)}_decodeParams(e,n){return this._abiCoder.decode(e,n)}_encodeParams(e,n){return this._abiCoder.encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){typeof e=="string"&&(e=this.getError(e));const r=Et(n);return dt(r.slice(0,4))!==this.getSighash(e)&&Mn.throwArgumentError(`data signature does not match error ${e.name}.`,"data",dt(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,n){return typeof e=="string"&&(e=this.getError(e)),dt(ui([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionData(e,n){typeof e=="string"&&(e=this.getFunction(e));const r=Et(n);return dt(r.slice(0,4))!==this.getSighash(e)&&Mn.throwArgumentError(`data signature does not match function ${e.name}.`,"data",dt(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,n){return typeof e=="string"&&(e=this.getFunction(e)),dt(ui([this.getSighash(e),this._encodeParams(e.inputs,n||[])]))}decodeFunctionResult(e,n){typeof e=="string"&&(e=this.getFunction(e));let r=Et(n),i=null,o="",s=null,a=null,l=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch{}break;case 4:{const c=dt(r.slice(0,4)),u=yH[c];if(u)s=this._abiCoder.decode(u.inputs,r.slice(4)),a=u.name,l=u.signature,u.reason&&(i=s[0]),a==="Error"?o=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:a==="Panic"&&(o=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{const f=this.getError(c);s=this._abiCoder.decode(f.inputs,r.slice(4)),a=f.name,l=f.format()}catch{}break}}return Mn.throwError("call revert exception"+o,pe.errors.CALL_EXCEPTION,{method:e.format(),data:dt(n),errorArgs:s,errorName:a,errorSignature:l,reason:i})}encodeFunctionResult(e,n){return typeof e=="string"&&(e=this.getFunction(e)),dt(this._abiCoder.encode(e.outputs,n||[]))}encodeFilterTopics(e,n){typeof e=="string"&&(e=this.getEvent(e)),n.length>e.inputs.length&&Mn.throwError("too many arguments for "+e.format(),pe.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:n});let r=[];e.anonymous||r.push(this.getEventTopic(e));const i=(o,s)=>o.type==="string"?_c(s):o.type==="bytes"?cr(dt(s)):(o.type==="bool"&&typeof s=="boolean"&&(s=s?"0x01":"0x00"),o.type.match(/^u?int/)&&(s=Be.from(s).toHexString()),o.type==="address"&&this._abiCoder.encode(["address"],[s]),kn(dt(s),32));for(n.forEach((o,s)=>{let a=e.inputs[s];if(!a.indexed){o!=null&&Mn.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?Mn.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?r.push(o.map(l=>i(a,l))):r.push(i(a,o))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){typeof e=="string"&&(e=this.getEvent(e));const r=[],i=[],o=[];return e.anonymous||r.push(this.getEventTopic(e)),n.length!==e.inputs.length&&Mn.throwArgumentError("event arguments/values mismatch","values",n),e.inputs.forEach((s,a)=>{const l=n[a];if(s.indexed)if(s.type==="string")r.push(_c(l));else if(s.type==="bytes")r.push(cr(l));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");r.push(this._abiCoder.encode([s.type],[l]))}else i.push(s),o.push(l)}),{data:this._abiCoder.encode(i,o),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"&&(e=this.getEvent(e)),r!=null&&!e.anonymous){let d=this.getEventTopic(e);(!ln(r[0],32)||r[0].toLowerCase()!==d)&&Mn.throwError("fragment/topic mismatch",pe.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:d,value:r[0]}),r=r.slice(1)}let i=[],o=[],s=[];e.inputs.forEach((d,p)=>{d.indexed?d.type==="string"||d.type==="bytes"||d.baseType==="tuple"||d.baseType==="array"?(i.push(mr.fromObject({type:"bytes32",name:d.name})),s.push(!0)):(i.push(d),s.push(!1)):(o.push(d),s.push(!1))});let a=r!=null?this._abiCoder.decode(i,ui(r)):null,l=this._abiCoder.decode(o,n,!0),c=[],u=0,f=0;e.inputs.forEach((d,p)=>{if(d.indexed)if(a==null)c[p]=new Fy({_isIndexed:!0,hash:null});else if(s[p])c[p]=new Fy({_isIndexed:!0,hash:a[f++]});else try{c[p]=a[f++]}catch(h){c[p]=h}else try{c[p]=l[u++]}catch(h){c[p]=h}if(d.name&&c[d.name]==null){const h=c[p];h instanceof Error?Object.defineProperty(c,d.name,{enumerable:!0,get:()=>{throw p3(`property ${JSON.stringify(d.name)}`,h)}}):c[d.name]=h}});for(let d=0;d<c.length;d++){const p=c[d];p instanceof Error&&Object.defineProperty(c,d,{enumerable:!0,get:()=>{throw p3(`index ${d}`,p)}})}return Object.freeze(c)}parseTransaction(e){let n=this.getFunction(e.data.substring(0,10).toLowerCase());return n?new vH({args:this._abiCoder.decode(n.inputs,"0x"+e.data.substring(10)),functionFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n),value:Be.from(e.value||"0")}):null}parseLog(e){let n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new gH({eventFragment:n,name:n.name,signature:n.format(),topic:this.getEventTopic(n),args:this.decodeEventLog(n,e.data,e.topics)})}parseError(e){const n=dt(e);let r=this.getError(n.substring(0,10).toLowerCase());return r?new mH({args:this._abiCoder.decode(r.inputs,"0x"+n.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const bH="abstract-provider/5.7.0";var xH=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const wH=new pe(bH);class _H extends Bf{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class C1{constructor(){wH.checkAbstract(new.target,C1),Ne(this,"_isProvider",!0)}getFeeData(){return xH(this,void 0,void 0,function*(){const{block:e,gasPrice:n}=yield Qn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let r=null,i=null,o=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,o=Be.from("1500000000"),i=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:r,maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:n}})}addListener(e,n){return this.on(e,n)}removeListener(e,n){return this.off(e,n)}static isProvider(e){return!!(e&&e._isProvider)}}const EH="abstract-signer/5.7.0";var eo=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const ki=new pe(EH),CH=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],AH=[pe.errors.INSUFFICIENT_FUNDS,pe.errors.NONCE_EXPIRED,pe.errors.REPLACEMENT_UNDERPRICED];class gu{constructor(){ki.checkAbstract(new.target,gu),Ne(this,"_isSigner",!0)}getBalance(e){return eo(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return eo(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return eo(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const n=yield Qn(this.checkTransaction(e));return yield this.provider.estimateGas(n)})}call(e,n){return eo(this,void 0,void 0,function*(){this._checkProvider("call");const r=yield Qn(this.checkTransaction(e));return yield this.provider.call(r,n)})}sendTransaction(e){return eo(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const n=yield this.populateTransaction(e),r=yield this.signTransaction(n);return yield this.provider.sendTransaction(r)})}getChainId(){return eo(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return eo(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return eo(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return eo(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const r in e)CH.indexOf(r)===-1&&ki.throwArgumentError("invalid transaction key: "+r,"transaction",e);const n=nr(e);return n.from==null?n.from=this.getAddress():n.from=Promise.all([Promise.resolve(n.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&ki.throwArgumentError("from address mismatch","transaction",e),r[0])),n}populateTransaction(e){return eo(this,void 0,void 0,function*(){const n=yield Qn(this.checkTransaction(e));n.to!=null&&(n.to=Promise.resolve(n.to).then(i=>eo(this,void 0,void 0,function*(){if(i==null)return null;const o=yield this.resolveName(i);return o==null&&ki.throwArgumentError("provided ENS name resolves to null","tx.to",i),o})),n.to.catch(i=>{}));const r=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||r)?ki.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(n.type===0||n.type===1)&&r&&ki.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1)n.gasPrice==null&&(n.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(n.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const o=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=o,n.maxPriorityFeePerGas=o}else n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(r&&ki.throwError("network does not support EIP-1559",pe.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=i.gasPrice),n.type=0):ki.throwError("failed to get consistent fee data",pe.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else n.type===2&&(n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return n.nonce==null&&(n.nonce=this.getTransactionCount("pending")),n.gasLimit==null&&(n.gasLimit=this.estimateGas(n).catch(i=>{if(AH.indexOf(i.code)>=0)throw i;return ki.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pe.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:n})})),n.chainId==null?n.chainId=this.getChainId():n.chainId=Promise.all([Promise.resolve(n.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&ki.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Qn(n)})}_checkProvider(e){this.provider||ki.throwError("missing provider",pe.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class tx extends gu{constructor(e,n){super(),Ne(this,"address",e),Ne(this,"provider",n||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,n){return Promise.resolve().then(()=>{ki.throwError(e,pe.errors.UNSUPPORTED_OPERATION,{operation:n})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,n,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new tx(this.address,e)}}var MA={},Qt={},Uf=BA;function BA(t,e){if(!t)throw new Error(e||"Assertion failed")}BA.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var Uy={exports:{}};typeof Object.create=="function"?Uy.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Uy.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var SH=Uy.exports,OH=Uf,DH=SH;Qt.inherits=DH;function RH(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function TH(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var r=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?n[r++]=o:o<2048?(n[r++]=o>>6|192,n[r++]=o&63|128):RH(t,i)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),n[r++]=o>>18|240,n[r++]=o>>12&63|128,n[r++]=o>>6&63|128,n[r++]=o&63|128):(n[r++]=o>>12|224,n[r++]=o>>6&63|128,n[r++]=o&63|128)}else for(i=0;i<t.length;i++)n[i]=t[i]|0;return n}Qt.toArray=TH;function NH(t){for(var e="",n=0;n<t.length;n++)e+=LA(t[n].toString(16));return e}Qt.toHex=NH;function FA(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Qt.htonl=FA;function PH(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];e==="little"&&(i=FA(i)),n+=UA(i.toString(16))}return n}Qt.toHex32=PH;function LA(t){return t.length===1?"0"+t:t}Qt.zero2=LA;function UA(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Qt.zero8=UA;function kH(t,e,n,r){var i=n-e;OH(i%4===0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var l;r==="big"?l=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:l=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],o[s]=l>>>0}return o}Qt.join32=kH;function IH(t,e){for(var n=new Array(t.length*4),r=0,i=0;r<t.length;r++,i+=4){var o=t[r];e==="big"?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=o&255):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=o&255)}return n}Qt.split32=IH;function MH(t,e){return t>>>e|t<<32-e}Qt.rotr32=MH;function BH(t,e){return t<<e|t>>>32-e}Qt.rotl32=BH;function FH(t,e){return t+e>>>0}Qt.sum32=FH;function LH(t,e,n){return t+e+n>>>0}Qt.sum32_3=LH;function UH(t,e,n,r){return t+e+n+r>>>0}Qt.sum32_4=UH;function $H(t,e,n,r,i){return t+e+n+r+i>>>0}Qt.sum32_5=$H;function jH(t,e,n,r){var i=t[e],o=t[e+1],s=r+o>>>0,a=(s<r?1:0)+n+i;t[e]=a>>>0,t[e+1]=s}Qt.sum64=jH;function KH(t,e,n,r){var i=e+r>>>0,o=(i<e?1:0)+t+n;return o>>>0}Qt.sum64_hi=KH;function WH(t,e,n,r){var i=e+r;return i>>>0}Qt.sum64_lo=WH;function HH(t,e,n,r,i,o,s,a){var l=0,c=e;c=c+r>>>0,l+=c<e?1:0,c=c+o>>>0,l+=c<o?1:0,c=c+a>>>0,l+=c<a?1:0;var u=t+n+i+s+l;return u>>>0}Qt.sum64_4_hi=HH;function XH(t,e,n,r,i,o,s,a){var l=e+r+o+a;return l>>>0}Qt.sum64_4_lo=XH;function zH(t,e,n,r,i,o,s,a,l,c){var u=0,f=e;f=f+r>>>0,u+=f<e?1:0,f=f+o>>>0,u+=f<o?1:0,f=f+a>>>0,u+=f<a?1:0,f=f+c>>>0,u+=f<c?1:0;var d=t+n+i+s+l+u;return d>>>0}Qt.sum64_5_hi=zH;function qH(t,e,n,r,i,o,s,a,l,c){var u=e+r+o+a+c;return u>>>0}Qt.sum64_5_lo=qH;function VH(t,e,n){var r=e<<32-n|t>>>n;return r>>>0}Qt.rotr64_hi=VH;function JH(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Qt.rotr64_lo=JH;function GH(t,e,n){return t>>>n}Qt.shr64_hi=GH;function QH(t,e,n){var r=t<<32-n|e>>>n;return r>>>0}Qt.shr64_lo=QH;var vu={},g3=Qt,YH=Uf;function A1(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}vu.BlockHash=A1;A1.prototype.update=function(e,n){if(e=g3.toArray(e,n),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=g3.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};A1.prototype.digest=function(e){return this.update(this._pad()),YH(this.pending===null),this._digest(e)};A1.prototype._pad=function(){var e=this.pendingTotal,n=this._delta8,r=n-(e+this.padLength)%n,i=new Array(r+this.padLength);i[0]=128;for(var o=1;o<r;o++)i[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=e>>>24&255,i[o++]=e>>>16&255,i[o++]=e>>>8&255,i[o++]=e&255}else for(i[o++]=e&255,i[o++]=e>>>8&255,i[o++]=e>>>16&255,i[o++]=e>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,s=8;s<this.padLength;s++)i[o++]=0;return i};var mu={},qo={},ZH=Qt,Fo=ZH.rotr32;function eX(t,e,n,r){if(t===0)return $A(e,n,r);if(t===1||t===3)return KA(e,n,r);if(t===2)return jA(e,n,r)}qo.ft_1=eX;function $A(t,e,n){return t&e^~t&n}qo.ch32=$A;function jA(t,e,n){return t&e^t&n^e&n}qo.maj32=jA;function KA(t,e,n){return t^e^n}qo.p32=KA;function tX(t){return Fo(t,2)^Fo(t,13)^Fo(t,22)}qo.s0_256=tX;function nX(t){return Fo(t,6)^Fo(t,11)^Fo(t,25)}qo.s1_256=nX;function rX(t){return Fo(t,7)^Fo(t,18)^t>>>3}qo.g0_256=rX;function iX(t){return Fo(t,17)^Fo(t,19)^t>>>10}qo.g1_256=iX;var Gc=Qt,oX=vu,sX=qo,Wv=Gc.rotl32,ju=Gc.sum32,aX=Gc.sum32_5,lX=sX.ft_1,WA=oX.BlockHash,cX=[1518500249,1859775393,2400959708,3395469782];function Ko(){if(!(this instanceof Ko))return new Ko;WA.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Gc.inherits(Ko,WA);var uX=Ko;Ko.blockSize=512;Ko.outSize=160;Ko.hmacStrength=80;Ko.padLength=64;Ko.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=Wv(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var o=this.h[0],s=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4];for(i=0;i<r.length;i++){var u=~~(i/20),f=aX(Wv(o,5),lX(u,s,a,l),c,r[i],cX[u]);c=l,l=a,a=Wv(s,30),s=o,o=f}this.h[0]=ju(this.h[0],o),this.h[1]=ju(this.h[1],s),this.h[2]=ju(this.h[2],a),this.h[3]=ju(this.h[3],l),this.h[4]=ju(this.h[4],c)};Ko.prototype._digest=function(e){return e==="hex"?Gc.toHex32(this.h,"big"):Gc.split32(this.h,"big")};var Qc=Qt,fX=vu,yu=qo,dX=Uf,to=Qc.sum32,hX=Qc.sum32_4,pX=Qc.sum32_5,gX=yu.ch32,vX=yu.maj32,mX=yu.s0_256,yX=yu.s1_256,bX=yu.g0_256,xX=yu.g1_256,HA=fX.BlockHash,wX=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Wo(){if(!(this instanceof Wo))return new Wo;HA.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=wX,this.W=new Array(64)}Qc.inherits(Wo,HA);var XA=Wo;Wo.blockSize=512;Wo.outSize=256;Wo.hmacStrength=192;Wo.padLength=64;Wo.prototype._update=function(e,n){for(var r=this.W,i=0;i<16;i++)r[i]=e[n+i];for(;i<r.length;i++)r[i]=hX(xX(r[i-2]),r[i-7],bX(r[i-15]),r[i-16]);var o=this.h[0],s=this.h[1],a=this.h[2],l=this.h[3],c=this.h[4],u=this.h[5],f=this.h[6],d=this.h[7];for(dX(this.k.length===r.length),i=0;i<r.length;i++){var p=pX(d,yX(c),gX(c,u,f),this.k[i],r[i]),h=to(mX(o),vX(o,s,a));d=f,f=u,u=c,c=to(l,p),l=a,a=s,s=o,o=to(p,h)}this.h[0]=to(this.h[0],o),this.h[1]=to(this.h[1],s),this.h[2]=to(this.h[2],a),this.h[3]=to(this.h[3],l),this.h[4]=to(this.h[4],c),this.h[5]=to(this.h[5],u),this.h[6]=to(this.h[6],f),this.h[7]=to(this.h[7],d)};Wo.prototype._digest=function(e){return e==="hex"?Qc.toHex32(this.h,"big"):Qc.split32(this.h,"big")};var $y=Qt,zA=XA;function Rs(){if(!(this instanceof Rs))return new Rs;zA.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}$y.inherits(Rs,zA);var _X=Rs;Rs.blockSize=512;Rs.outSize=224;Rs.hmacStrength=192;Rs.padLength=64;Rs.prototype._digest=function(e){return e==="hex"?$y.toHex32(this.h.slice(0,7),"big"):$y.split32(this.h.slice(0,7),"big")};var pi=Qt,EX=vu,CX=Uf,Lo=pi.rotr64_hi,Uo=pi.rotr64_lo,qA=pi.shr64_hi,VA=pi.shr64_lo,$s=pi.sum64,Hv=pi.sum64_hi,Xv=pi.sum64_lo,AX=pi.sum64_4_hi,SX=pi.sum64_4_lo,OX=pi.sum64_5_hi,DX=pi.sum64_5_lo,JA=EX.BlockHash,RX=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function vo(){if(!(this instanceof vo))return new vo;JA.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=RX,this.W=new Array(160)}pi.inherits(vo,JA);var GA=vo;vo.blockSize=1024;vo.outSize=512;vo.hmacStrength=192;vo.padLength=128;vo.prototype._prepareBlock=function(e,n){for(var r=this.W,i=0;i<32;i++)r[i]=e[n+i];for(;i<r.length;i+=2){var o=$X(r[i-4],r[i-3]),s=jX(r[i-4],r[i-3]),a=r[i-14],l=r[i-13],c=LX(r[i-30],r[i-29]),u=UX(r[i-30],r[i-29]),f=r[i-32],d=r[i-31];r[i]=AX(o,s,a,l,c,u,f,d),r[i+1]=SX(o,s,a,l,c,u,f,d)}};vo.prototype._update=function(e,n){this._prepareBlock(e,n);var r=this.W,i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],l=this.h[4],c=this.h[5],u=this.h[6],f=this.h[7],d=this.h[8],p=this.h[9],h=this.h[10],m=this.h[11],w=this.h[12],x=this.h[13],y=this.h[14],b=this.h[15];CX(this.k.length===r.length);for(var E=0;E<r.length;E+=2){var O=y,N=b,R=BX(d,p),L=FX(d,p),W=TX(d,p,h,m,w),M=NX(d,p,h,m,w,x),F=this.k[E],$=this.k[E+1],P=r[E],v=r[E+1],g=OX(O,N,R,L,W,M,F,$,P,v),_=DX(O,N,R,L,W,M,F,$,P,v);O=IX(i,o),N=MX(i,o),R=PX(i,o,s,a,l),L=kX(i,o,s,a,l,c);var T=Hv(O,N,R,L),D=Xv(O,N,R,L);y=w,b=x,w=h,x=m,h=d,m=p,d=Hv(u,f,g,_),p=Xv(f,f,g,_),u=l,f=c,l=s,c=a,s=i,a=o,i=Hv(g,_,T,D),o=Xv(g,_,T,D)}$s(this.h,0,i,o),$s(this.h,2,s,a),$s(this.h,4,l,c),$s(this.h,6,u,f),$s(this.h,8,d,p),$s(this.h,10,h,m),$s(this.h,12,w,x),$s(this.h,14,y,b)};vo.prototype._digest=function(e){return e==="hex"?pi.toHex32(this.h,"big"):pi.split32(this.h,"big")};function TX(t,e,n,r,i){var o=t&n^~t&i;return o<0&&(o+=4294967296),o}function NX(t,e,n,r,i,o){var s=e&r^~e&o;return s<0&&(s+=4294967296),s}function PX(t,e,n,r,i){var o=t&n^t&i^n&i;return o<0&&(o+=4294967296),o}function kX(t,e,n,r,i,o){var s=e&r^e&o^r&o;return s<0&&(s+=4294967296),s}function IX(t,e){var n=Lo(t,e,28),r=Lo(e,t,2),i=Lo(e,t,7),o=n^r^i;return o<0&&(o+=4294967296),o}function MX(t,e){var n=Uo(t,e,28),r=Uo(e,t,2),i=Uo(e,t,7),o=n^r^i;return o<0&&(o+=4294967296),o}function BX(t,e){var n=Lo(t,e,14),r=Lo(t,e,18),i=Lo(e,t,9),o=n^r^i;return o<0&&(o+=4294967296),o}function FX(t,e){var n=Uo(t,e,14),r=Uo(t,e,18),i=Uo(e,t,9),o=n^r^i;return o<0&&(o+=4294967296),o}function LX(t,e){var n=Lo(t,e,1),r=Lo(t,e,8),i=qA(t,e,7),o=n^r^i;return o<0&&(o+=4294967296),o}function UX(t,e){var n=Uo(t,e,1),r=Uo(t,e,8),i=VA(t,e,7),o=n^r^i;return o<0&&(o+=4294967296),o}function $X(t,e){var n=Lo(t,e,19),r=Lo(e,t,29),i=qA(t,e,6),o=n^r^i;return o<0&&(o+=4294967296),o}function jX(t,e){var n=Uo(t,e,19),r=Uo(e,t,29),i=VA(t,e,6),o=n^r^i;return o<0&&(o+=4294967296),o}var jy=Qt,QA=GA;function Ts(){if(!(this instanceof Ts))return new Ts;QA.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}jy.inherits(Ts,QA);var KX=Ts;Ts.blockSize=1024;Ts.outSize=384;Ts.hmacStrength=192;Ts.padLength=128;Ts.prototype._digest=function(e){return e==="hex"?jy.toHex32(this.h.slice(0,12),"big"):jy.split32(this.h.slice(0,12),"big")};mu.sha1=uX;mu.sha224=_X;mu.sha256=XA;mu.sha384=KX;mu.sha512=GA;var YA={},fl=Qt,WX=vu,kd=fl.rotl32,v3=fl.sum32,Ku=fl.sum32_3,m3=fl.sum32_4,ZA=WX.BlockHash;function Ho(){if(!(this instanceof Ho))return new Ho;ZA.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}fl.inherits(Ho,ZA);YA.ripemd160=Ho;Ho.blockSize=512;Ho.outSize=160;Ho.hmacStrength=192;Ho.padLength=64;Ho.prototype._update=function(e,n){for(var r=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],l=r,c=i,u=o,f=s,d=a,p=0;p<80;p++){var h=v3(kd(m3(r,y3(p,i,o,s),e[zX[p]+n],HX(p)),VX[p]),a);r=a,a=s,s=kd(o,10),o=i,i=h,h=v3(kd(m3(l,y3(79-p,c,u,f),e[qX[p]+n],XX(p)),JX[p]),d),l=d,d=f,f=kd(u,10),u=c,c=h}h=Ku(this.h[1],o,f),this.h[1]=Ku(this.h[2],s,d),this.h[2]=Ku(this.h[3],a,l),this.h[3]=Ku(this.h[4],r,c),this.h[4]=Ku(this.h[0],i,u),this.h[0]=h};Ho.prototype._digest=function(e){return e==="hex"?fl.toHex32(this.h,"little"):fl.split32(this.h,"little")};function y3(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function HX(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function XX(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var zX=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],qX=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],VX=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],JX=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],GX=Qt,QX=Uf;function Yc(t,e,n){if(!(this instanceof Yc))return new Yc(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(GX.toArray(e,n))}var YX=Yc;Yc.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),QX(e.length<=this.blockSize);for(var n=e.length;n<this.blockSize;n++)e.push(0);for(n=0;n<e.length;n++)e[n]^=54;for(this.inner=new this.Hash().update(e),n=0;n<e.length;n++)e[n]^=106;this.outer=new this.Hash().update(e)};Yc.prototype.update=function(e,n){return this.inner.update(e,n),this};Yc.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Qt,e.common=vu,e.sha=mu,e.ripemd=YA,e.hmac=YX,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(MA);const So=xa(MA);function bu(t,e,n){return n={path:e,exports:{},require:function(r,i){return ZX(r,i??n.path)}},t(n,n.exports),n.exports}function ZX(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var nx=eS;function eS(t,e){if(!t)throw new Error(e||"Assertion failed")}eS.equal=function(e,n,r){if(e!=n)throw new Error(r||"Assertion failed: "+e+" != "+n)};var lo=bu(function(t,e){var n=e;function r(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)l[c]=s[c]|0;return l}if(a==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var c=0;c<s.length;c+=2)l.push(parseInt(s[c]+s[c+1],16))}else for(var c=0;c<s.length;c++){var u=s.charCodeAt(c),f=u>>8,d=u&255;f?l.push(f,d):l.push(d)}return l}n.toArray=r;function i(s){return s.length===1?"0"+s:s}n.zero2=i;function o(s){for(var a="",l=0;l<s.length;l++)a+=i(s[l].toString(16));return a}n.toHex=o,n.encode=function(a,l){return l==="hex"?o(a):a}}),Ri=bu(function(t,e){var n=e;n.assert=nx,n.toArray=lo.toArray,n.zero2=lo.zero2,n.toHex=lo.toHex,n.encode=lo.encode;function r(l,c,u){var f=new Array(Math.max(l.bitLength(),u)+1);f.fill(0);for(var d=1<<c+1,p=l.clone(),h=0;h<f.length;h++){var m,w=p.andln(d-1);p.isOdd()?(w>(d>>1)-1?m=(d>>1)-w:m=w,p.isubn(m)):m=0,f[h]=m,p.iushrn(1)}return f}n.getNAF=r;function i(l,c){var u=[[],[]];l=l.clone(),c=c.clone();for(var f=0,d=0,p;l.cmpn(-f)>0||c.cmpn(-d)>0;){var h=l.andln(3)+f&3,m=c.andln(3)+d&3;h===3&&(h=-1),m===3&&(m=-1);var w;h&1?(p=l.andln(7)+f&7,(p===3||p===5)&&m===2?w=-h:w=h):w=0,u[0].push(w);var x;m&1?(p=c.andln(7)+d&7,(p===3||p===5)&&h===2?x=-m:x=m):x=0,u[1].push(x),2*f===w+1&&(f=1-f),2*d===x+1&&(d=1-d),l.iushrn(1),c.iushrn(1)}return u}n.getJSF=i;function o(l,c,u){var f="_"+c;l.prototype[c]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}n.cachedProperty=o;function s(l){return typeof l=="string"?n.toArray(l,"hex"):l}n.parseBytes=s;function a(l){return new Lt(l,"hex","le")}n.intFromLE=a}),ip=Ri.getNAF,ez=Ri.getJSF,op=Ri.assert;function Ta(t,e){this.type=t,this.p=new Lt(e.p,16),this.red=e.prime?Lt.red(e.prime):Lt.mont(this.p),this.zero=new Lt(0).toRed(this.red),this.one=new Lt(1).toRed(this.red),this.two=new Lt(2).toRed(this.red),this.n=e.n&&new Lt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Dl=Ta;Ta.prototype.point=function(){throw new Error("Not implemented")};Ta.prototype.validate=function(){throw new Error("Not implemented")};Ta.prototype._fixedNafMul=function(e,n){op(e.precomputed);var r=e._getDoubles(),i=ip(n,1,this._bitLength),o=(1<<r.step+1)-(r.step%2===0?2:1);o/=3;var s=[],a,l;for(a=0;a<i.length;a+=r.step){l=0;for(var c=a+r.step-1;c>=a;c--)l=(l<<1)+i[c];s.push(l)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=o;d>0;d--){for(a=0;a<s.length;a++)l=s[a],l===d?f=f.mixedAdd(r.points[a]):l===-d&&(f=f.mixedAdd(r.points[a].neg()));u=u.add(f)}return u.toP()};Ta.prototype._wnafMul=function(e,n){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var o=i.points,s=ip(n,r,this._bitLength),a=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var c=0;l>=0&&s[l]===0;l--)c++;if(l>=0&&c++,a=a.dblp(c),l<0)break;var u=s[l];op(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(o[u-1>>1]):a=a.mixedAdd(o[-u-1>>1].neg()):u>0?a=a.add(o[u-1>>1]):a=a.add(o[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};Ta.prototype._wnafMulAdd=function(e,n,r,i,o){var s=this._wnafT1,a=this._wnafT2,l=this._wnafT3,c=0,u,f,d;for(u=0;u<i;u++){d=n[u];var p=d._getNAFPoints(e);s[u]=p.wnd,a[u]=p.points}for(u=i-1;u>=1;u-=2){var h=u-1,m=u;if(s[h]!==1||s[m]!==1){l[h]=ip(r[h],s[h],this._bitLength),l[m]=ip(r[m],s[m],this._bitLength),c=Math.max(l[h].length,c),c=Math.max(l[m].length,c);continue}var w=[n[h],null,null,n[m]];n[h].y.cmp(n[m].y)===0?(w[1]=n[h].add(n[m]),w[2]=n[h].toJ().mixedAdd(n[m].neg())):n[h].y.cmp(n[m].y.redNeg())===0?(w[1]=n[h].toJ().mixedAdd(n[m]),w[2]=n[h].add(n[m].neg())):(w[1]=n[h].toJ().mixedAdd(n[m]),w[2]=n[h].toJ().mixedAdd(n[m].neg()));var x=[-3,-1,-5,-7,0,7,5,1,3],y=ez(r[h],r[m]);for(c=Math.max(y[0].length,c),l[h]=new Array(c),l[m]=new Array(c),f=0;f<c;f++){var b=y[0][f]|0,E=y[1][f]|0;l[h][f]=x[(b+1)*3+(E+1)],l[m][f]=0,a[h]=w}}var O=this.jpoint(null,null,null),N=this._wnafT4;for(u=c;u>=0;u--){for(var R=0;u>=0;){var L=!0;for(f=0;f<i;f++)N[f]=l[f][u]|0,N[f]!==0&&(L=!1);if(!L)break;R++,u--}if(u>=0&&R++,O=O.dblp(R),u<0)break;for(f=0;f<i;f++){var W=N[f];W!==0&&(W>0?d=a[f][W-1>>1]:W<0&&(d=a[f][-W-1>>1].neg()),d.type==="affine"?O=O.mixedAdd(d):O=O.add(d))}}for(u=0;u<i;u++)a[u]=null;return o?O:O.toP()};function zi(t,e){this.curve=t,this.type=e,this.precomputed=null}Ta.BasePoint=zi;zi.prototype.eq=function(){throw new Error("Not implemented")};zi.prototype.validate=function(){return this.curve.validate(this)};Ta.prototype.decodePoint=function(e,n){e=Ri.toArray(e,n);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?op(e[e.length-1]%2===0):e[0]===7&&op(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};zi.prototype.encodeCompressed=function(e){return this.encode(e,!0)};zi.prototype._encode=function(e){var n=this.curve.p.byteLength(),r=this.getX().toArray("be",n);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",n))};zi.prototype.encode=function(e,n){return Ri.encode(this._encode(n),e)};zi.prototype.precompute=function(e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,e),n.beta=this._getBeta(),this.precomputed=n,this};zi.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var n=this.precomputed.doubles;return n?n.points.length>=Math.ceil((e.bitLength()+1)/n.step):!1};zi.prototype._getDoubles=function(e,n){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,o=0;o<n;o+=e){for(var s=0;s<e;s++)i=i.dbl();r.push(i)}return{step:e,points:r}};zi.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var n=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),o=1;o<r;o++)n[o]=n[o-1].add(i);return{wnd:e,points:n}};zi.prototype._getBeta=function(){return null};zi.prototype.dblp=function(e){for(var n=this,r=0;r<e;r++)n=n.dbl();return n};var rx=bu(function(t){typeof Object.create=="function"?t.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,r){if(r){n.super_=r;var i=function(){};i.prototype=r.prototype,n.prototype=new i,n.prototype.constructor=n}}}),tz=Ri.assert;function qi(t){Dl.call(this,"short",t),this.a=new Lt(t.a,16).toRed(this.red),this.b=new Lt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}rx(qi,Dl);var nz=qi;qi.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var n,r;if(e.beta)n=new Lt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);n=i[0].cmp(i[1])<0?i[0]:i[1],n=n.toRed(this.red)}if(e.lambda)r=new Lt(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(n))===0?r=o[0]:(r=o[1],tz(this.g.mul(r).x.cmp(this.g.x.redMul(n))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new Lt(a.a,16),b:new Lt(a.b,16)}}):s=this._getEndoBasis(r),{beta:n,lambda:r,basis:s}}};qi.prototype._getEndoRoots=function(e){var n=e===this.p?this.red:Lt.mont(e),r=new Lt(2).toRed(n).redInvm(),i=r.redNeg(),o=new Lt(3).toRed(n).redNeg().redSqrt().redMul(r),s=i.redAdd(o).fromRed(),a=i.redSub(o).fromRed();return[s,a]};qi.prototype._getEndoBasis=function(e){for(var n=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),o=new Lt(1),s=new Lt(0),a=new Lt(0),l=new Lt(1),c,u,f,d,p,h,m,w=0,x,y;r.cmpn(0)!==0;){var b=i.div(r);x=i.sub(b.mul(r)),y=a.sub(b.mul(o));var E=l.sub(b.mul(s));if(!f&&x.cmp(n)<0)c=m.neg(),u=o,f=x.neg(),d=y;else if(f&&++w===2)break;m=x,i=r,r=x,a=o,o=y,l=s,s=E}p=x.neg(),h=y;var O=f.sqr().add(d.sqr()),N=p.sqr().add(h.sqr());return N.cmp(O)>=0&&(p=c,h=u),f.negative&&(f=f.neg(),d=d.neg()),p.negative&&(p=p.neg(),h=h.neg()),[{a:f,b:d},{a:p,b:h}]};qi.prototype._endoSplit=function(e){var n=this.endo.basis,r=n[0],i=n[1],o=i.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),a=o.mul(r.a),l=s.mul(i.a),c=o.mul(r.b),u=s.mul(i.b),f=e.sub(a).sub(l),d=c.add(u).neg();return{k1:f,k2:d}};qi.prototype.pointFromX=function(e,n){e=new Lt(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(n&&!o||!n&&o)&&(i=i.redNeg()),this.point(e,i)};qi.prototype.validate=function(e){if(e.inf)return!0;var n=e.x,r=e.y,i=this.a.redMul(n),o=n.redSqr().redMul(n).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(o).cmpn(0)===0};qi.prototype._endoWnafMulAdd=function(e,n,r){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(n[s]),l=e[s],c=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[s*2]=l,i[s*2+1]=c,o[s*2]=a.k1,o[s*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,o,s*2,r),f=0;f<s*2;f++)i[f]=null,o[f]=null;return u};function wr(t,e,n,r){Dl.BasePoint.call(this,t,"affine"),e===null&&n===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Lt(e,16),this.y=new Lt(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}rx(wr,Dl.BasePoint);qi.prototype.point=function(e,n,r){return new wr(this,e,n,r)};qi.prototype.pointFromJSON=function(e,n){return wr.fromJSON(this,e,n)};wr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(o){return r.point(o.x.redMul(r.endo.beta),o.y)};e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return n}};wr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};wr.fromJSON=function(e,n,r){typeof n=="string"&&(n=JSON.parse(n));var i=e.point(n[0],n[1],r);if(!n[2])return i;function o(a){return e.point(a[0],a[1],r)}var s=n[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};wr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};wr.prototype.isInfinity=function(){return this.inf};wr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var n=this.y.redSub(e.y);n.cmpn(0)!==0&&(n=n.redMul(this.x.redSub(e.x).redInvm()));var r=n.redSqr().redISub(this.x).redISub(e.x),i=n.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)};wr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var n=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),o=r.redAdd(r).redIAdd(r).redIAdd(n).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),a=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};wr.prototype.getX=function(){return this.x.fromRed()};wr.prototype.getY=function(){return this.y.fromRed()};wr.prototype.mul=function(e){return e=new Lt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};wr.prototype.mulAdd=function(e,n,r){var i=[this,n],o=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};wr.prototype.jmulAdd=function(e,n,r){var i=[this,n],o=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};wr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};wr.prototype.neg=function(e){if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(o){return o.neg()};n.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return n};wr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function kr(t,e,n,r){Dl.BasePoint.call(this,t,"jacobian"),e===null&&n===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Lt(0)):(this.x=new Lt(e,16),this.y=new Lt(n,16),this.z=new Lt(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}rx(kr,Dl.BasePoint);qi.prototype.jpoint=function(e,n,r){return new kr(this,e,n,r)};kr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),n=e.redSqr(),r=this.x.redMul(n),i=this.y.redMul(n).redMul(e);return this.curve.point(r,i)};kr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};kr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(n),o=e.x.redMul(r),s=this.y.redMul(n.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),l=i.redSub(o),c=s.redSub(a);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=l.redSqr(),f=u.redMul(l),d=i.redMul(u),p=c.redSqr().redIAdd(f).redISub(d).redISub(d),h=c.redMul(d.redISub(p)).redISub(s.redMul(f)),m=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(p,h,m)};kr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var n=this.z.redSqr(),r=this.x,i=e.x.redMul(n),o=this.y,s=e.y.redMul(n).redMul(this.z),a=r.redSub(i),l=o.redSub(s);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),f=r.redMul(c),d=l.redSqr().redIAdd(u).redISub(f).redISub(f),p=l.redMul(f.redISub(d)).redISub(o.redMul(u)),h=this.z.redMul(a);return this.curve.jpoint(d,p,h)};kr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var n;if(this.curve.zeroA||this.curve.threeA){var r=this;for(n=0;n<e;n++)r=r.dbl();return r}var i=this.curve.a,o=this.curve.tinv,s=this.x,a=this.y,l=this.z,c=l.redSqr().redSqr(),u=a.redAdd(a);for(n=0;n<e;n++){var f=s.redSqr(),d=u.redSqr(),p=d.redSqr(),h=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(c)),m=s.redMul(d),w=h.redSqr().redISub(m.redAdd(m)),x=m.redISub(w),y=h.redMul(x);y=y.redIAdd(y).redISub(p);var b=u.redMul(l);n+1<e&&(c=c.redMul(p)),s=w,l=b,u=y}return this.curve.jpoint(s,u.redMul(o),l)};kr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};kr.prototype._zeroDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i),c=l.redSqr().redISub(a).redISub(a),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=c,n=l.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),p=d.redSqr(),h=this.x.redAdd(d).redSqr().redISub(f).redISub(p);h=h.redIAdd(h);var m=f.redAdd(f).redIAdd(f),w=m.redSqr(),x=p.redIAdd(p);x=x.redIAdd(x),x=x.redIAdd(x),e=w.redISub(h).redISub(h),n=m.redMul(h.redISub(e)).redISub(x),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,n,r)};kr.prototype._threeDbl=function(){var e,n,r;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=l.redSqr().redISub(a).redISub(a);e=c;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),n=l.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),p=this.x.redMul(d),h=this.x.redSub(f).redMul(this.x.redAdd(f));h=h.redAdd(h).redIAdd(h);var m=p.redIAdd(p);m=m.redIAdd(m);var w=m.redAdd(m);e=h.redSqr().redISub(w),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var x=d.redSqr();x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x),n=h.redMul(m.redISub(e)).redISub(x)}return this.curve.jpoint(e,n,r)};kr.prototype._dbl=function(){var e=this.curve.a,n=this.x,r=this.y,i=this.z,o=i.redSqr().redSqr(),s=n.redSqr(),a=r.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),c=n.redAdd(n);c=c.redIAdd(c);var u=c.redMul(a),f=l.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),p=a.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var h=l.redMul(d).redISub(p),m=r.redAdd(r).redMul(i);return this.curve.jpoint(f,h,m)};kr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),n=this.y.redSqr(),r=this.z.redSqr(),i=n.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),a=this.x.redAdd(n).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var l=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=o.redIAdd(a).redSqr().redISub(s).redISub(l).redISub(c),f=n.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(l).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var p=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(l)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var h=this.z.redAdd(a).redSqr().redISub(r).redISub(l);return this.curve.jpoint(d,p,h)};kr.prototype.mul=function(e,n){return e=new Lt(e,n),this.curve._wnafMul(this,e)};kr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var n=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(n)).cmpn(0)!==0)return!1;var i=n.redMul(this.z),o=r.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};kr.prototype.eqXToP=function(e){var n=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(n);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(n);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(o),this.x.cmp(r)===0)return!0}};kr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};kr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var ah=bu(function(t,e){var n=e;n.base=Dl,n.short=nz,n.mont=null,n.edwards=null}),lh=bu(function(t,e){var n=e,r=Ri.assert;function i(a){a.type==="short"?this.curve=new ah.short(a):a.type==="edwards"?this.curve=new ah.edwards(a):this.curve=new ah.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}n.PresetCurve=i;function o(a,l){Object.defineProperty(n,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(l);return Object.defineProperty(n,a,{configurable:!0,enumerable:!0,value:c}),c}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:So.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:So.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:So.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:So.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:So.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:So.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:So.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:So.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function va(t){if(!(this instanceof va))return new va(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=lo.toArray(t.entropy,t.entropyEnc||"hex"),n=lo.toArray(t.nonce,t.nonceEnc||"hex"),r=lo.toArray(t.pers,t.persEnc||"hex");nx(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}var tS=va;va.prototype._init=function(e,n,r){var i=e.concat(n).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};va.prototype._hmac=function(){return new So.hmac(this.hash,this.K)};va.prototype._update=function(e){var n=this._hmac().update(this.V).update([0]);e&&(n=n.update(e)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};va.prototype.reseed=function(e,n,r,i){typeof n!="string"&&(i=r,r=n,n=null),e=lo.toArray(e,n),r=lo.toArray(r,i),nx(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};va.prototype.generate=function(e,n,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(i=r,r=n,n=null),r&&(r=lo.toArray(r,i||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(r),this._reseed++,lo.encode(s,n)};var Ky=Ri.assert;function Wr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var ix=Wr;Wr.fromPublic=function(e,n,r){return n instanceof Wr?n:new Wr(e,{pub:n,pubEnc:r})};Wr.fromPrivate=function(e,n,r){return n instanceof Wr?n:new Wr(e,{priv:n,privEnc:r})};Wr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Wr.prototype.getPublic=function(e,n){return typeof e=="string"&&(n=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,e):this.pub};Wr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Wr.prototype._importPrivate=function(e,n){this.priv=new Lt(e,n||16),this.priv=this.priv.umod(this.ec.curve.n)};Wr.prototype._importPublic=function(e,n){if(e.x||e.y){this.ec.curve.type==="mont"?Ky(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Ky(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,n)};Wr.prototype.derive=function(e){return e.validate()||Ky(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Wr.prototype.sign=function(e,n,r){return this.ec.sign(e,this,n,r)};Wr.prototype.verify=function(e,n){return this.ec.verify(e,n,this)};Wr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var rz=Ri.assert;function S1(t,e){if(t instanceof S1)return t;this._importDER(t,e)||(rz(t.r&&t.s,"Signature without r or s"),this.r=new Lt(t.r,16),this.s=new Lt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var O1=S1;function iz(){this.place=0}function zv(t,e){var n=t[e.place++];if(!(n&128))return n;var r=n&15;if(r===0||r>4)return!1;for(var i=0,o=0,s=e.place;o<r;o++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function b3(t){for(var e=0,n=t.length-1;!t[e]&&!(t[e+1]&128)&&e<n;)e++;return e===0?t:t.slice(e)}S1.prototype._importDER=function(e,n){e=Ri.toArray(e,n);var r=new iz;if(e[r.place++]!==48)return!1;var i=zv(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var o=zv(e,r);if(o===!1)return!1;var s=e.slice(r.place,o+r.place);if(r.place+=o,e[r.place++]!==2)return!1;var a=zv(e,r);if(a===!1||e.length!==a+r.place)return!1;var l=e.slice(r.place,a+r.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new Lt(s),this.s=new Lt(l),this.recoveryParam=null,!0};function qv(t,e){if(e<128){t.push(e);return}var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(n|128);--n;)t.push(e>>>(n<<3)&255);t.push(e)}S1.prototype.toDER=function(e){var n=this.r.toArray(),r=this.s.toArray();for(n[0]&128&&(n=[0].concat(n)),r[0]&128&&(r=[0].concat(r)),n=b3(n),r=b3(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];qv(i,n.length),i=i.concat(n),i.push(2),qv(i,r.length);var o=i.concat(r),s=[48];return qv(s,o.length),s=s.concat(o),Ri.encode(s,e)};var oz=function(){throw new Error("unsupported")},nS=Ri.assert;function ji(t){if(!(this instanceof ji))return new ji(t);typeof t=="string"&&(nS(Object.prototype.hasOwnProperty.call(lh,t),"Unknown curve "+t),t=lh[t]),t instanceof lh.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var sz=ji;ji.prototype.keyPair=function(e){return new ix(this,e)};ji.prototype.keyFromPrivate=function(e,n){return ix.fromPrivate(this,e,n)};ji.prototype.keyFromPublic=function(e,n){return ix.fromPublic(this,e,n)};ji.prototype.genKeyPair=function(e){e||(e={});for(var n=new tS({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||oz(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new Lt(2));;){var o=new Lt(n.generate(r));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};ji.prototype._truncateToN=function(e,n){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!n&&e.cmp(this.n)>=0?e.sub(this.n):e};ji.prototype.sign=function(e,n,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),n=this.keyFromPrivate(n,r),e=this._truncateToN(new Lt(e,16));for(var o=this.n.byteLength(),s=n.getPrivate().toArray("be",o),a=e.toArray("be",o),l=new tS({hash:this.hash,entropy:s,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new Lt(1)),u=0;;u++){var f=i.k?i.k(u):new Lt(l.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(c)>=0)){var d=this.g.mul(f);if(!d.isInfinity()){var p=d.getX(),h=p.umod(this.n);if(h.cmpn(0)!==0){var m=f.invm(this.n).mul(h.mul(n.getPrivate()).iadd(e));if(m=m.umod(this.n),m.cmpn(0)!==0){var w=(d.getY().isOdd()?1:0)|(p.cmp(h)!==0?2:0);return i.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),w^=1),new O1({r:h,s:m,recoveryParam:w})}}}}}};ji.prototype.verify=function(e,n,r,i){e=this._truncateToN(new Lt(e,16)),r=this.keyFromPublic(r,i),n=new O1(n,"hex");var o=n.r,s=n.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),l=a.mul(e).umod(this.n),c=a.mul(o).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(l,r.getPublic(),c),u.isInfinity()?!1:u.eqXToP(o)):(u=this.g.mulAdd(l,r.getPublic(),c),u.isInfinity()?!1:u.getX().umod(this.n).cmp(o)===0)};ji.prototype.recoverPubKey=function(t,e,n,r){nS((3&n)===n,"The recovery param is more than two bits"),e=new O1(e,r);var i=this.n,o=new Lt(t),s=e.r,a=e.s,l=n&1,c=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var u=e.r.invm(i),f=i.sub(o).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,s,d)};ji.prototype.getKeyRecoveryParam=function(t,e,n,r){if(e=new O1(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")};var az=bu(function(t,e){var n=e;n.version="6.5.4",n.utils=Ri,n.rand=function(){throw new Error("unsupported")},n.curve=ah,n.curves=lh,n.ec=sz,n.eddsa=null}),lz=az.ec;const cz="signing-key/5.7.0",Wy=new pe(cz);let Vv=null;function Vs(){return Vv||(Vv=new lz("secp256k1")),Vv}class uz{constructor(e){Ne(this,"curve","secp256k1"),Ne(this,"privateKey",dt(e)),cl(this.privateKey)!==32&&Wy.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const n=Vs().keyFromPrivate(Et(this.privateKey));Ne(this,"publicKey","0x"+n.getPublic(!1,"hex")),Ne(this,"compressedPublicKey","0x"+n.getPublic(!0,"hex")),Ne(this,"_isSigningKey",!0)}_addPoint(e){const n=Vs().keyFromPublic(Et(this.publicKey)),r=Vs().keyFromPublic(Et(e));return"0x"+n.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const n=Vs().keyFromPrivate(Et(this.privateKey)),r=Et(e);r.length!==32&&Wy.throwArgumentError("bad digest length","digest",e);const i=n.sign(r,{canonical:!0});return w1({recoveryParam:i.recoveryParam,r:kn("0x"+i.r.toString(16),32),s:kn("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const n=Vs().keyFromPrivate(Et(this.privateKey)),r=Vs().keyFromPublic(Et(rS(e)));return kn("0x"+n.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function fz(t,e){const n=w1(e),r={r:Et(n.r),s:Et(n.s)};return"0x"+Vs().recoverPubKey(Et(t),r,n.recoveryParam).encode("hex",!1)}function rS(t,e){const n=Et(t);return n.length===32?new uz(n).publicKey:n.length===33?"0x"+Vs().keyFromPublic(n).getPublic(!1,"hex"):n.length===65?dt(n):Wy.throwArgumentError("invalid public or private key","key","[REDACTED]")}const dz="transactions/5.7.0",Ms=new pe(dz);var x3;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(x3||(x3={}));function ox(t){return t==="0x"?null:Rr(t)}function Ur(t){return t==="0x"?bA:Be.from(t)}function hz(t){const e=rS(t);return Rr(Fr(cr(Fr(e,1)),12))}function iS(t,e){return hz(fz(Et(t),e))}function xi(t,e){const n=Jc(Be.from(t).toHexString());return n.length>32&&Ms.throwArgumentError("invalid length for "+e,"transaction:"+e,t),n}function Jv(t,e){return{address:Rr(t),storageKeys:(e||[]).map((n,r)=>(cl(n)!==32&&Ms.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,n),n.toLowerCase()))}}function xu(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(n.length>2&&Ms.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${r}]`,n),Jv(n[0],n[1])):Jv(n.address,n.storageKeys));const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,o)=>(i[o]=!0,i),{});return Jv(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function oS(t){return xu(t).map(e=>[e.address,e.storageKeys])}function pz(t,e){if(t.gasPrice!=null){const r=Be.from(t.gasPrice),i=Be.from(t.maxFeePerGas||0);r.eq(i)||Ms.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:i})}const n=[xi(t.chainId||0,"chainId"),xi(t.nonce||0,"nonce"),xi(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),xi(t.maxFeePerGas||0,"maxFeePerGas"),xi(t.gasLimit||0,"gasLimit"),t.to!=null?Rr(t.to):"0x",xi(t.value||0,"value"),t.data||"0x",oS(t.accessList||[])];if(e){const r=w1(e);n.push(xi(r.recoveryParam,"recoveryParam")),n.push(Jc(r.r)),n.push(Jc(r.s))}return li(["0x02",_1(n)])}function gz(t,e){const n=[xi(t.chainId||0,"chainId"),xi(t.nonce||0,"nonce"),xi(t.gasPrice||0,"gasPrice"),xi(t.gasLimit||0,"gasLimit"),t.to!=null?Rr(t.to):"0x",xi(t.value||0,"value"),t.data||"0x",oS(t.accessList||[])];if(e){const r=w1(e);n.push(xi(r.recoveryParam,"recoveryParam")),n.push(Jc(r.r)),n.push(Jc(r.s))}return li(["0x01",_1(n)])}function sS(t,e,n){try{const r=Ur(e[0]).toNumber();if(r!==0&&r!==1)throw new Error("bad recid");t.v=r}catch{Ms.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=kn(e[1],32),t.s=kn(e[2],32);try{const r=cr(n(t));t.from=iS(r,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function vz(t){const e=Yb(t.slice(1));e.length!==9&&e.length!==12&&Ms.throwArgumentError("invalid component count for transaction type: 2","payload",dt(t));const n=Ur(e[2]),r=Ur(e[3]),i={type:2,chainId:Ur(e[0]).toNumber(),nonce:Ur(e[1]).toNumber(),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:Ur(e[4]),to:ox(e[5]),value:Ur(e[6]),data:e[7],accessList:xu(e[8])};return e.length===9||(i.hash=cr(t),sS(i,e.slice(9),pz)),i}function mz(t){const e=Yb(t.slice(1));e.length!==8&&e.length!==11&&Ms.throwArgumentError("invalid component count for transaction type: 1","payload",dt(t));const n={type:1,chainId:Ur(e[0]).toNumber(),nonce:Ur(e[1]).toNumber(),gasPrice:Ur(e[2]),gasLimit:Ur(e[3]),to:ox(e[4]),value:Ur(e[5]),data:e[6],accessList:xu(e[7])};return e.length===8||(n.hash=cr(t),sS(n,e.slice(8),gz)),n}function yz(t){const e=Yb(t);e.length!==9&&e.length!==6&&Ms.throwArgumentError("invalid raw transaction","rawTransaction",t);const n={nonce:Ur(e[0]).toNumber(),gasPrice:Ur(e[1]),gasLimit:Ur(e[2]),to:ox(e[3]),value:Ur(e[4]),data:e[5],chainId:0};if(e.length===6)return n;try{n.v=Be.from(e[6]).toNumber()}catch{return n}if(n.r=kn(e[7],32),n.s=kn(e[8],32),Be.from(n.r).isZero()&&Be.from(n.s).isZero())n.chainId=n.v,n.v=0;else{n.chainId=Math.floor((n.v-35)/2),n.chainId<0&&(n.chainId=0);let r=n.v-27;const i=e.slice(0,6);n.chainId!==0&&(i.push(dt(n.chainId)),i.push("0x"),i.push("0x"),r-=n.chainId*2+8);const o=cr(_1(i));try{n.from=iS(o,{r:dt(n.r),s:dt(n.s),recoveryParam:r})}catch{}n.hash=cr(t)}return n.type=null,n}function bz(t){const e=Et(t);if(e[0]>127)return yz(e);switch(e[0]){case 1:return mz(e);case 2:return vz(e)}return Ms.throwError(`unsupported transaction type: ${e[0]}`,pe.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const xz="contracts/5.7.0";var ma=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const xn=new pe(xz),wz={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function sp(t,e){return ma(this,void 0,void 0,function*(){const n=yield e;typeof n!="string"&&xn.throwArgumentError("invalid address or ENS name","name",n);try{return Rr(n)}catch{}t||xn.throwError("a provider or signer is needed to resolve ENS names",pe.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const r=yield t.resolveName(n);return r==null&&xn.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r})}function w0(t,e,n){return ma(this,void 0,void 0,function*(){return Array.isArray(n)?yield Promise.all(n.map((r,i)=>w0(t,Array.isArray(e)?e[i]:e[r.name],r))):n.type==="address"?yield sp(t,e):n.type==="tuple"?yield w0(t,e,n.components):n.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(r=>w0(t,r,n.arrayChildren))):Promise.reject(xn.makeError("invalid value for array",pe.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function D1(t,e,n){return ma(this,void 0,void 0,function*(){let r={};n.length===e.inputs.length+1&&typeof n[n.length-1]=="object"&&(r=nr(n.pop())),xn.checkArgumentCount(n.length,e.inputs.length,"passed to contract"),t.signer?r.from?r.from=Qn({override:sp(t.signer,r.from),signer:t.signer.getAddress()}).then(c=>ma(this,void 0,void 0,function*(){return Rr(c.signer)!==c.override&&xn.throwError("Contract with a Signer cannot override from",pe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),c.override})):r.from=t.signer.getAddress():r.from&&(r.from=sp(t.provider,r.from));const i=yield Qn({args:w0(t.signer||t.provider,n,e.inputs),address:t.resolvedAddress,overrides:Qn(r)||{}}),o=t.interface.encodeFunctionData(e,i.args),s={data:o,to:i.address},a=i.overrides;if(a.nonce!=null&&(s.nonce=Be.from(a.nonce).toNumber()),a.gasLimit!=null&&(s.gasLimit=Be.from(a.gasLimit)),a.gasPrice!=null&&(s.gasPrice=Be.from(a.gasPrice)),a.maxFeePerGas!=null&&(s.maxFeePerGas=Be.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=Be.from(a.maxPriorityFeePerGas)),a.from!=null&&(s.from=a.from),a.type!=null&&(s.type=a.type),a.accessList!=null&&(s.accessList=xu(a.accessList)),s.gasLimit==null&&e.gas!=null){let c=21e3;const u=Et(o);for(let f=0;f<u.length;f++)c+=4,u[f]&&(c+=64);s.gasLimit=Be.from(e.gas).add(c)}if(a.value){const c=Be.from(a.value);!c.isZero()&&!e.payable&&xn.throwError("non-payable method cannot override value",pe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),s.value=c}a.customData&&(s.customData=nr(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData,delete r.ccipReadEnabled;const l=Object.keys(r).filter(c=>r[c]!=null);return l.length&&xn.throwError(`cannot override ${l.map(c=>JSON.stringify(c)).join(",")}`,pe.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),s})}function _z(t,e){return function(...n){return D1(t,e,n)}}function Ez(t,e){const n=t.signer||t.provider;return function(...r){return ma(this,void 0,void 0,function*(){n||xn.throwError("estimate require a provider or signer",pe.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield D1(t,e,r);return yield n.estimateGas(i)})}}function aS(t,e){const n=e.wait.bind(e);e.wait=r=>n(r).then(i=>(i.events=i.logs.map(o=>{let s=Ds(o),a=null;try{a=t.interface.parseLog(o)}catch{}return a&&(s.args=a.args,s.decode=(l,c)=>t.interface.decodeEventLog(a.eventFragment,l,c),s.event=a.name,s.eventSignature=a.signature),s.removeListener=()=>t.provider,s.getBlock=()=>t.provider.getBlock(i.blockHash),s.getTransaction=()=>t.provider.getTransaction(i.transactionHash),s.getTransactionReceipt=()=>Promise.resolve(i),s}),i))}function lS(t,e,n){const r=t.signer||t.provider;return function(...i){return ma(this,void 0,void 0,function*(){let o;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const l=nr(i.pop());l.blockTag!=null&&(o=yield l.blockTag),delete l.blockTag,i.push(l)}t.deployTransaction!=null&&(yield t._deployed(o));const s=yield D1(t,e,i),a=yield r.call(s,o);try{let l=t.interface.decodeFunctionResult(e,a);return n&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===pe.errors.CALL_EXCEPTION&&(l.address=t.address,l.args=i,l.transaction=s),l}})}}function Cz(t,e){return function(...n){return ma(this,void 0,void 0,function*(){t.signer||xn.throwError("sending a transaction requires a signer",pe.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const r=yield D1(t,e,n),i=yield t.signer.sendTransaction(r);return aS(t,i),i})}}function w3(t,e,n){return e.constant?lS(t,e,n):Cz(t,e)}function cS(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class af{constructor(e,n){Ne(this,"tag",e),Ne(this,"filter",n),this._listeners=[]}addListener(e,n){this._listeners.push({listener:e,once:n})}removeListener(e){let n=!1;this._listeners=this._listeners.filter(r=>n||r.listener!==e?!0:(n=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const n=this.listenerCount();return this._listeners=this._listeners.filter(r=>{const i=e.slice();return setTimeout(()=>{r.listener.apply(this,i)},0),!r.once}),n}prepareEvent(e){}getEmit(e){return[e]}}class Az extends af{constructor(){super("error",null)}}class _3 extends af{constructor(e,n,r,i){const o={address:e};let s=n.getEventTopic(r);i?(s!==i[0]&&xn.throwArgumentError("topic mismatch","topics",i),o.topics=i.slice()):o.topics=[s],super(cS(o),o),Ne(this,"address",e),Ne(this,"interface",n),Ne(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(n,r)=>this.interface.decodeEventLog(this.fragment,n,r);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(n){e.args=null,e.decodeError=n}}getEmit(e){const n=sW(e.args);if(n.length)throw n[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class E3 extends af{constructor(e,n){super("*",{address:e}),Ne(this,"address",e),Ne(this,"interface",n)}prepareEvent(e){super.prepareEvent(e);try{const n=this.interface.parseLog(e);e.event=n.name,e.eventSignature=n.signature,e.decode=(r,i)=>this.interface.decodeEventLog(n.eventFragment,r,i),e.args=n.args}catch{}}}class Sz{constructor(e,n,r){Ne(this,"interface",_i(new.target,"getInterface")(n)),r==null?(Ne(this,"provider",null),Ne(this,"signer",null)):gu.isSigner(r)?(Ne(this,"provider",r.provider||null),Ne(this,"signer",r)):C1.isProvider(r)?(Ne(this,"provider",r),Ne(this,"signer",null)):xn.throwArgumentError("invalid signer or provider","signerOrProvider",r),Ne(this,"callStatic",{}),Ne(this,"estimateGas",{}),Ne(this,"functions",{}),Ne(this,"populateTransaction",{}),Ne(this,"filters",{});{const s={};Object.keys(this.interface.events).forEach(a=>{const l=this.interface.events[a];Ne(this.filters,a,(...c)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,c)})),s[l.name]||(s[l.name]=[]),s[l.name].push(a)}),Object.keys(s).forEach(a=>{const l=s[a];l.length===1?Ne(this.filters,a,this.filters[l[0]]):xn.warn(`Duplicate definition of ${a} (${l.join(", ")})`)})}if(Ne(this,"_runningEvents",{}),Ne(this,"_wrappedEmits",{}),e==null&&xn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Ne(this,"address",e),this.provider)Ne(this,"resolvedAddress",sp(this.provider,e));else try{Ne(this,"resolvedAddress",Promise.resolve(Rr(e)))}catch{xn.throwError("provider is required to use ENS name as contract address",pe.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(s=>{});const i={},o={};Object.keys(this.interface.functions).forEach(s=>{const a=this.interface.functions[s];if(o[s]){xn.warn(`Duplicate ABI entry for ${JSON.stringify(s)}`);return}o[s]=!0;{const l=a.name;i[`%${l}`]||(i[`%${l}`]=[]),i[`%${l}`].push(s)}this[s]==null&&Ne(this,s,w3(this,a,!0)),this.functions[s]==null&&Ne(this.functions,s,w3(this,a,!1)),this.callStatic[s]==null&&Ne(this.callStatic,s,lS(this,a,!0)),this.populateTransaction[s]==null&&Ne(this.populateTransaction,s,_z(this,a)),this.estimateGas[s]==null&&Ne(this.estimateGas,s,Ez(this,a))}),Object.keys(i).forEach(s=>{const a=i[s];if(a.length>1)return;s=s.substring(1);const l=a[0];try{this[s]==null&&Ne(this,s,this[l])}catch{}this.functions[s]==null&&Ne(this.functions,s,this.functions[l]),this.callStatic[s]==null&&Ne(this.callStatic,s,this.callStatic[l]),this.populateTransaction[s]==null&&Ne(this.populateTransaction,s,this.populateTransaction[l]),this.estimateGas[s]==null&&Ne(this.estimateGas,s,this.estimateGas[l])})}static getContractAddress(e){return ex(e)}static getInterface(e){return Ly.isInterface(e)?e:new Ly(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(n=>(n==="0x"&&xn.throwError("contract not deployed",pe.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||xn.throwError("sending a transactions require a signer",pe.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const n=nr(e||{});return["from","to"].forEach(function(r){n[r]!=null&&xn.throwError("cannot override "+r,pe.errors.UNSUPPORTED_OPERATION,{operation:r})}),n.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(n))}connect(e){typeof e=="string"&&(e=new tx(e,this.provider));const n=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Ne(n,"deployTransaction",this.deployTransaction),n}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Fy.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new Az);if(e==="event")return this._normalizeRunningEvent(new af("event",null));if(e==="*")return this._normalizeRunningEvent(new E3(this.address,this.interface));const n=this.interface.getEvent(e);return this._normalizeRunningEvent(new _3(this.address,this.interface,n))}if(e.topics&&e.topics.length>0){try{const r=e.topics[0];if(typeof r!="string")throw new Error("invalid topic");const i=this.interface.getEvent(r);return this._normalizeRunningEvent(new _3(this.address,this.interface,i,e.topics))}catch{}const n={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new af(cS(n),n))}return this._normalizeRunningEvent(new E3(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const n=this._wrappedEmits[e.tag];n&&e.filter&&(this.provider.off(e.filter,n),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,n,r){const i=Ds(n);return i.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(n.blockHash),i.getTransaction=()=>this.provider.getTransaction(n.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(n.transactionHash),e.prepareEvent(i),i}_addEventListener(e,n,r){if(this.provider||xn.throwError("events require a provider or a signer with a provider",pe.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(n,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=o=>{let s=this._wrapEvent(e,o,n);if(s.decodeError==null)try{const a=e.getEmit(s);this.emit(e.filter,...a)}catch(a){s.decodeError=a.error}e.filter!=null&&this.emit("event",s),s.decodeError!=null&&this.emit("error",s.decodeError,s)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,n,r){const i=this._getRunningEvent(e),o=nr(i.filter);return typeof n=="string"&&ln(n,32)?(r!=null&&xn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),o.blockHash=n):(o.fromBlock=n??0,o.toBlock=r??"latest"),this.provider.getLogs(o).then(s=>s.map(a=>this._wrapEvent(i,a,null)))}on(e,n){return this._addEventListener(this._getRunningEvent(e),n,!1),this}once(e,n){return this._addEventListener(this._getRunningEvent(e),n,!0),this}emit(e,...n){if(!this.provider)return!1;const r=this._getRunningEvent(e),i=r.run(n)>0;return this._checkRunningEvents(r),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((n,r)=>n+this._runningEvents[r].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const n=[];for(let r in this._runningEvents)this._runningEvents[r].listeners().forEach(i=>{n.push(i)});return n}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const r in this._runningEvents){const i=this._runningEvents[r];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}off(e,n){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(n),this._checkRunningEvents(r),this}removeListener(e,n){return this.off(e,n)}}class Hy extends Sz{}class Oz{constructor(e,n,r){let i=null;typeof n=="string"?i=n:Ol(n)?i=dt(n):n&&typeof n.object=="string"?i=n.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!ln(i)||i.length%2)&&xn.throwArgumentError("invalid bytecode","bytecode",n),r&&!gu.isSigner(r)&&xn.throwArgumentError("invalid signer","signer",r),Ne(this,"bytecode",i),Ne(this,"interface",_i(new.target,"getInterface")(e)),Ne(this,"signer",r||null)}getDeployTransaction(...e){let n={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){n=nr(e.pop());for(const r in n)if(!wz[r])throw new Error("unknown transaction override "+r)}return["data","from","to"].forEach(r=>{n[r]!=null&&xn.throwError("cannot override "+r,pe.errors.UNSUPPORTED_OPERATION,{operation:r})}),n.value&&!Be.from(n.value).isZero()&&!this.interface.deploy.payable&&xn.throwError("non-payable constructor cannot override value",pe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),xn.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),n.data=dt(ui([this.bytecode,this.interface.encodeDeploy(e)])),n}deploy(...e){return ma(this,void 0,void 0,function*(){let n={};e.length===this.interface.deploy.inputs.length+1&&(n=e.pop()),xn.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const r=yield w0(this.signer,e,this.interface.deploy.inputs);r.push(n);const i=this.getDeployTransaction(...r),o=yield this.signer.sendTransaction(i),s=_i(this.constructor,"getContractAddress")(o),a=_i(this.constructor,"getContract")(s,this.interface,this.signer);return aS(a,o),Ne(a,"deployTransaction",o),a})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,n){e==null&&xn.throwError("missing compiler output",pe.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const r=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(r,i,n)}static getInterface(e){return Hy.getInterface(e)}static getContractAddress(e){return ex(e)}static getContract(e,n,r){return new Hy(e,n,r)}}class uS{constructor(e){Ne(this,"alphabet",e),Ne(this,"base",e.length),Ne(this,"_alphabetMap",{}),Ne(this,"_leader",e.charAt(0));for(let n=0;n<e.length;n++)this._alphabetMap[e.charAt(n)]=n}encode(e){let n=Et(e);if(n.length===0)return"";let r=[0];for(let o=0;o<n.length;++o){let s=n[o];for(let a=0;a<r.length;++a)s+=r[a]<<8,r[a]=s%this.base,s=s/this.base|0;for(;s>0;)r.push(s%this.base),s=s/this.base|0}let i="";for(let o=0;n[o]===0&&o<n.length-1;++o)i+=this._leader;for(let o=r.length-1;o>=0;--o)i+=this.alphabet[r[o]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let n=[];if(e.length===0)return new Uint8Array(n);n.push(0);for(let r=0;r<e.length;r++){let i=this._alphabetMap[e[r]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let o=i;for(let s=0;s<n.length;++s)o+=n[s]*this.base,n[s]=o&255,o>>=8;for(;o>0;)n.push(o&255),o>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)n.push(0);return Et(new Uint8Array(n.reverse()))}}new uS("abcdefghijklmnopqrstuvwxyz234567");const Xy=new uS("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function C3(t){return"0x"+So.sha256().update(Et(t)).digest("hex")}const Dz="networks/5.7.1",A3=new pe(Dz);function Rz(t){return t&&typeof t.renetwork=="function"}function fs(t){const e=function(n,r){r==null&&(r={});const i=[];if(n.InfuraProvider&&r.infura!=="-")try{i.push(new n.InfuraProvider(t,r.infura))}catch{}if(n.EtherscanProvider&&r.etherscan!=="-")try{i.push(new n.EtherscanProvider(t,r.etherscan))}catch{}if(n.AlchemyProvider&&r.alchemy!=="-")try{i.push(new n.AlchemyProvider(t,r.alchemy))}catch{}if(n.PocketProvider&&r.pocket!=="-"){const o=["goerli","ropsten","rinkeby","sepolia"];try{const s=new n.PocketProvider(t,r.pocket);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}}if(n.CloudflareProvider&&r.cloudflare!=="-")try{i.push(new n.CloudflareProvider(t))}catch{}if(n.AnkrProvider&&r.ankr!=="-")try{const o=["ropsten"],s=new n.AnkrProvider(t,r.ankr);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}if(i.length===0)return null;if(n.FallbackProvider){let o=1;return r.quorum!=null?o=r.quorum:t==="homestead"&&(o=2),new n.FallbackProvider(i,o)}return i[0]};return e.renetwork=function(n){return fs(n)},e}function ap(t,e){const n=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return n.renetwork=function(r){return ap(t,r)},n}const S3={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:fs("homestead")},O3={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:fs("ropsten")},D3={chainId:63,name:"classicMordor",_defaultProvider:ap("https://www.ethercluster.com/mordor","classicMordor")},Id={unspecified:{chainId:0,name:"unspecified"},homestead:S3,mainnet:S3,morden:{chainId:2,name:"morden"},ropsten:O3,testnet:O3,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:fs("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:fs("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:fs("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:fs("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:ap("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:D3,classicTestnet:D3,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:ap("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:fs("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:fs("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Tz(t){if(t==null)return null;if(typeof t=="number"){for(const r in Id){const i=Id[r];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const r=Id[t];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}const e=Id[t.name];if(!e)return typeof t.chainId!="number"&&A3.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&A3.throwArgumentError("network chainId mismatch","network",t);let n=t._defaultProvider||null;return n==null&&e._defaultProvider&&(Rz(e._defaultProvider)?n=e._defaultProvider.renetwork(t):n=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:n}}const Nz="web/5.7.1";var Pz=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function kz(t,e){return Pz(this,void 0,void 0,function*(){e==null&&(e={});const n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),e.fetchOptions!=null){const s=e.fetchOptions;s.mode&&(n.mode=s.mode),s.cache&&(n.cache=s.cache),s.credentials&&(n.credentials=s.credentials),s.redirect&&(n.redirect=s.redirect),s.referrer&&(n.referrer=s.referrer)}const r=yield fetch(t,n),i=yield r.arrayBuffer(),o={};return r.headers.forEach?r.headers.forEach((s,a)=>{o[a.toLowerCase()]=s}):r.headers.keys().forEach(s=>{o[s.toLowerCase()]=r.headers.get(s)}),{headers:o,statusCode:r.status,statusMessage:r.statusText,body:Et(new Uint8Array(i))}})}var Iz=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const no=new pe(Nz);function R3(t){return new Promise(e=>{setTimeout(e,t)})}function js(t,e){if(t==null)return null;if(typeof t=="string")return t;if(Vb(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Lf(t)}catch{}return dt(t)}return t}function Mz(t){return jo(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function Bz(t,e,n){const r=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;no.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);const i=typeof t=="object"?t.throttleCallback:null,o=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;no.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s=typeof t=="object"?!!t.errorPassThrough:!1,a={};let l=null;const c={method:"GET"};let u=!1,f=2*60*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&no.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(f=t.timeout),t.headers)for(const x in t.headers)a[x.toLowerCase()]={key:x,value:String(t.headers[x])},["if-none-match","if-modified-since"].indexOf(x.toLowerCase())>=0&&(u=!0);if(c.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&no.throwError("basic authentication requires a secure https url",pe.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const x=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+AA(jo(x))}}t.skipFetchSetup!=null&&(c.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(c.fetchOptions=nr(t.fetchOptions))}const d=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),p=l?l.match(d):null;if(p)try{const x={statusCode:200,statusMessage:"OK",headers:{"content-type":p[1]||"text/plain"},body:p[2]?CA(p[3]):Mz(p[3])};let y=x.body;return n&&(y=n(x.body,x)),Promise.resolve(y)}catch(x){no.throwError("processing response error",pe.errors.SERVER_ERROR,{body:js(p[1],p[2]),error:x,requestBody:null,requestMethod:"GET",url:l})}e&&(c.method="POST",c.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const h={};Object.keys(a).forEach(x=>{const y=a[x];h[y.key]=y.value}),c.headers=h;const m=function(){let x=null;return{promise:new Promise(function(E,O){f&&(x=setTimeout(()=>{x!=null&&(x=null,O(no.makeError("timeout",pe.errors.TIMEOUT,{requestBody:js(c.body,h["content-type"]),requestMethod:c.method,timeout:f,url:l})))},f))}),cancel:function(){x!=null&&(clearTimeout(x),x=null)}}}(),w=function(){return Iz(this,void 0,void 0,function*(){for(let x=0;x<r;x++){let y=null;try{if(y=yield kz(l,c),x<r){if(y.statusCode===301||y.statusCode===302){const E=y.headers.location||"";if(c.method==="GET"&&E.match(/^https:/)){l=y.headers.location;continue}}else if(y.statusCode===429){let E=!0;if(i&&(E=yield i(x,l)),E){let O=0;const N=y.headers["retry-after"];typeof N=="string"&&N.match(/^[1-9][0-9]*$/)?O=parseInt(N)*1e3:O=o*parseInt(String(Math.random()*Math.pow(2,x))),yield R3(O);continue}}}}catch(E){y=E.response,y==null&&(m.cancel(),no.throwError("missing response",pe.errors.SERVER_ERROR,{requestBody:js(c.body,h["content-type"]),requestMethod:c.method,serverError:E,url:l}))}let b=y.body;u&&y.statusCode===304?b=null:!s&&(y.statusCode<200||y.statusCode>=300)&&(m.cancel(),no.throwError("bad response",pe.errors.SERVER_ERROR,{status:y.statusCode,headers:y.headers,body:js(b,y.headers?y.headers["content-type"]:null),requestBody:js(c.body,h["content-type"]),requestMethod:c.method,url:l}));try{const E=yield n(b,y);return m.cancel(),E}catch(E){if(E.throttleRetry&&x<r){let O=!0;if(i&&(O=yield i(x,l)),O){const N=o*parseInt(String(Math.random()*Math.pow(2,x)));yield R3(N);continue}}m.cancel(),no.throwError("processing response error",pe.errors.SERVER_ERROR,{body:js(b,y.headers?y.headers["content-type"]:null),error:E,requestBody:js(c.body,h["content-type"]),requestMethod:c.method,url:l})}return m.cancel(),b}return no.throwError("failed response",pe.errors.SERVER_ERROR,{requestBody:js(c.body,h["content-type"]),requestMethod:c.method,url:l})})}();return Promise.race([m.promise,w])}function sx(t,e,n){let r=(o,s)=>{let a=null;if(o!=null)try{a=JSON.parse(Lf(o))}catch(l){no.throwError("invalid JSON",pe.errors.SERVER_ERROR,{body:o,error:l})}return n&&(a=n(a,s)),a},i=null;if(e!=null){i=jo(e);const o=typeof t=="string"?{url:t}:nr(t);o.headers?Object.keys(o.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(o.headers=nr(o.headers),o.headers["content-type"]="application/json"):o.headers={"content-type":"application/json"},t=o}return Bz(t,i,r)}function o0(t,e){return e||(e={}),e=nr(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(n,r){let i=null,o=!1;const s=()=>o?!1:(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{s()&&r(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function c(){return t().then(function(u){if(u!==void 0)s()&&n(u);else if(e.oncePoll)e.oncePoll.once("poll",c);else if(e.onceBlock)e.onceBlock.once("block",c);else if(!o){if(l++,l>a){s()&&r(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(c,f)}return null},function(u){s()&&r(u)})}c()})}var lp="qpzry9x8gf2tvdw0s3jn54khce6mua7l",zy={};for(var Md=0;Md<lp.length;Md++){var Gv=lp.charAt(Md);if(zy[Gv]!==void 0)throw new TypeError(Gv+" is ambiguous");zy[Gv]=Md}function kc(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function fS(t){for(var e=1,n=0;n<t.length;++n){var r=t.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+t+")";e=kc(e)^r>>5}for(e=kc(e),n=0;n<t.length;++n){var i=t.charCodeAt(n);e=kc(e)^i&31}return e}function Fz(t,e,n){if(n=n||90,t.length+7+e.length>n)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var r=fS(t);if(typeof r=="string")throw new Error(r);for(var i=t+"1",o=0;o<e.length;++o){var s=e[o];if(s>>5)throw new Error("Non 5-bit word");r=kc(r)^s,i+=lp.charAt(s)}for(o=0;o<6;++o)r=kc(r);for(r^=1,o=0;o<6;++o){var a=r>>(5-o)*5&31;i+=lp.charAt(a)}return i}function dS(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var n=t.toLowerCase(),r=t.toUpperCase();if(t!==n&&t!==r)return"Mixed-case string "+t;t=n;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var o=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var a=fS(o);if(typeof a=="string")return a;for(var l=[],c=0;c<s.length;++c){var u=s.charAt(c),f=zy[u];if(f===void 0)return"Unknown character "+u;a=kc(a)^f,!(c+6>=s.length)&&l.push(f)}return a!==1?"Invalid checksum for "+t:{prefix:o,words:l}}function Lz(){var t=dS.apply(null,arguments);if(typeof t=="object")return t}function Uz(t){var e=dS.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function R1(t,e,n,r){for(var i=0,o=0,s=(1<<n)-1,a=[],l=0;l<t.length;++l)for(i=i<<e|t[l],o+=e;o>=n;)o-=n,a.push(i>>o&s);if(r)o>0&&a.push(i<<n-o&s);else{if(o>=e)return"Excess padding";if(i<<n-o&s)return"Non-zero padding"}return a}function $z(t){var e=R1(t,8,5,!0);if(Array.isArray(e))return e}function jz(t){var e=R1(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function Kz(t){var e=R1(t,5,8,!1);if(Array.isArray(e))return e}function Wz(t){var e=R1(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var Hz={decodeUnsafe:Lz,decode:Uz,encode:Fz,toWordsUnsafe:$z,toWords:jz,fromWordsUnsafe:Kz,fromWords:Wz};const T3=xa(Hz),T1="providers/5.7.2",Wu=new pe(T1);class st{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},n=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),o=this.data.bind(this),s=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),c=this.type.bind(this),u=f=>this.data(f,!0);return e.transaction={hash:s,type:c,accessList:st.allowNull(this.accessList.bind(this),null),blockHash:st.allowNull(s,null),blockNumber:st.allowNull(l,null),transactionIndex:st.allowNull(l,null),confirmations:st.allowNull(l,null),from:n,gasPrice:st.allowNull(r),maxPriorityFeePerGas:st.allowNull(r),maxFeePerGas:st.allowNull(r),gasLimit:r,to:st.allowNull(n,null),value:r,nonce:l,data:o,r:st.allowNull(this.uint256),s:st.allowNull(this.uint256),v:st.allowNull(l),creates:st.allowNull(n,null),raw:st.allowNull(o)},e.transactionRequest={from:st.allowNull(n),nonce:st.allowNull(l),gasLimit:st.allowNull(r),gasPrice:st.allowNull(r),maxPriorityFeePerGas:st.allowNull(r),maxFeePerGas:st.allowNull(r),to:st.allowNull(n),value:st.allowNull(r),data:st.allowNull(u),type:st.allowNull(l),accessList:st.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:s,address:n,topics:st.arrayOf(s),data:o,logIndex:l,blockHash:s},e.receipt={to:st.allowNull(this.address,null),from:st.allowNull(this.address,null),contractAddress:st.allowNull(n,null),transactionIndex:l,root:st.allowNull(a),gasUsed:r,logsBloom:st.allowNull(o),blockHash:s,transactionHash:s,logs:st.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:st.allowNull(l,null),cumulativeGasUsed:r,effectiveGasPrice:st.allowNull(r),status:st.allowNull(l),type:c},e.block={hash:st.allowNull(s),parentHash:s,number:l,timestamp:l,nonce:st.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:st.allowNull(n),extraData:o,transactions:st.allowNull(st.arrayOf(s)),baseFeePerGas:st.allowNull(r)},e.blockWithTransactions=nr(e.block),e.blockWithTransactions.transactions=st.allowNull(st.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:st.allowNull(i,void 0),toBlock:st.allowNull(i,void 0),blockHash:st.allowNull(s,void 0),address:st.allowNull(n,void 0),topics:st.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:st.allowNull(l),blockHash:st.allowNull(s),transactionIndex:l,removed:st.allowNull(this.boolean.bind(this)),address:n,data:st.allowFalsish(o,"0x"),topics:st.arrayOf(s),transactionHash:s,logIndex:l},e}accessList(e){return xu(e||[])}number(e){return e==="0x"?0:Be.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Be.from(e).toNumber()}bigNumber(e){return Be.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,n){return typeof e=="string"&&(!n&&e.substring(0,2)!=="0x"&&(e="0x"+e),ln(e))?e.toLowerCase():Wu.throwArgumentError("invalid hash","value",e)}data(e,n){const r=this.hex(e,n);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return Rr(e)}callAddress(e){if(!ln(e,32))return null;const n=Rr(Fr(e,12));return n===wW?null:n}contractAddress(e){return ex(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||ln(e))return Jb(e);throw new Error("invalid blockTag")}hash(e,n){const r=this.hex(e,n);return cl(r)!==32?Wu.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;const n=Be.from(e);try{return n.toNumber()}catch{}return null}uint256(e){if(!ln(e))throw new Error("invalid uint256");return kn(e,32)}_block(e,n){e.author!=null&&e.miner==null&&(e.miner=e.author);const r=e._difficulty!=null?e._difficulty:e.difficulty,i=st.check(n,e);return i._difficulty=r==null?null:Be.from(r),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return st.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Be.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const n=st.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;ln(r)&&(r=Be.from(r).toNumber()),n.chainId=r}else{let r=e.networkId;r==null&&n.v==null&&(r=e.chainId),ln(r)&&(r=Be.from(r).toNumber()),typeof r!="number"&&n.v!=null&&(r=(n.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),n.chainId=r}return n.blockHash&&n.blockHash.replace(/0/g,"")==="x"&&(n.blockHash=null),n}transaction(e){return bz(e)}receiptLog(e){return st.check(this.formats.receiptLog,e)}receipt(e){const n=st.check(this.formats.receipt,e);if(n.root!=null)if(n.root.length<=4){const r=Be.from(n.root).toNumber();r===0||r===1?(n.status!=null&&n.status!==r&&Wu.throwArgumentError("alt-root-status/status mismatch","value",{root:n.root,status:n.status}),n.status=r,delete n.root):Wu.throwArgumentError("invalid alt-root-status","value.root",n.root)}else n.root.length!==66&&Wu.throwArgumentError("invalid root hash","value.root",n.root);return n.status!=null&&(n.byzantium=!0),n}topics(e){return Array.isArray(e)?e.map(n=>this.topics(n)):e!=null?this.hash(e,!0):null}filter(e){return st.check(this.formats.filter,e)}filterLog(e){return st.check(this.formats.filterLog,e)}static check(e,n){const r={};for(const i in e)try{const o=e[i](n[i]);o!==void 0&&(r[i]=o)}catch(o){throw o.checkKey=i,o.checkValue=n[i],o}return r}static allowNull(e,n){return function(r){return r==null?n:e(r)}}static allowFalsish(e,n){return function(r){return r?e(r):n}}static arrayOf(e){return function(n){if(!Array.isArray(n))throw new Error("not an array");const r=[];return n.forEach(function(i){r.push(e(i))}),r}}}var Bt=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Xt=new pe(T1),Xz=10;function N3(t){return t==null?"null":(cl(t)!==32&&Xt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function P3(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const n={};e.forEach(i=>{n[N3(i)]=!0});const r=Object.keys(n);return r.sort(),r.join("|")}else return N3(e)}).join("&")}function zz(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const n=e.split("|").map(r=>r==="null"?null:r);return n.length===1?n[0]:n})}function Ql(t){if(typeof t=="string"){if(t=t.toLowerCase(),cl(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+P3(t);if(_H.isForkEvent(t))throw Xt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+P3(t.topics||[])}throw new Error("invalid event - "+t)}function Hu(){return new Date().getTime()}function k3(t){return new Promise(e=>{setTimeout(e,t)})}const qz=["block","network","pending","poll"];let Vz=class{constructor(e,n,r){Ne(this,"tag",e),Ne(this,"listener",n),Ne(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const n=e[1],r=zz(e[2]),i={};return r.length>0&&(i.topics=r),n&&n!=="*"&&(i.address=n),i}pollable(){return this.tag.indexOf(":")>=0||qz.indexOf(this.tag)>=0}};const Jz={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Qv(t){return kn(Be.from(t).toHexString(),32)}function I3(t){return Xy.encode(ui([t,Fr(C3(C3(t)),0,4)]))}const hS=new RegExp("^(ipfs)://(.*)$","i"),M3=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),hS,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function ch(t,e){try{return Lf(lf(t,e))}catch{}return null}function lf(t,e){if(t==="0x")return null;const n=Be.from(Fr(t,e,e+32)).toNumber(),r=Be.from(Fr(t,n,n+32)).toNumber();return Fr(t,n+32,n+32+r)}function Yv(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Xt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function B3(t){const e=Et(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function Gz(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function pS(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(null),n+=32;for(let r=0;r<t.length;r++){const i=Et(t[r]);e[r]=B3(n),e.push(B3(i.length)),e.push(Gz(i)),n+=32+Math.ceil(i.length/32)*32}return li(e)}class F3{constructor(e,n,r,i){Ne(this,"provider",e),Ne(this,"name",r),Ne(this,"address",e.formatter.address(n)),Ne(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Be.from(e).eq(1)).catch(e=>{if(e.code===pe.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,n){return Bt(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:li([e,sh(this.name),n||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,r.data=li(["0x9061b923",pS([aH(this.name),r.data])]));try{let o=yield this.provider.call(r);return Et(o).length%32===4&&Xt.throwError("resolver threw error",pe.errors.CALL_EXCEPTION,{transaction:r,data:o}),i&&(o=lf(o,0)),o}catch(o){if(o.code===pe.errors.CALL_EXCEPTION)return null;throw o}})}_fetchBytes(e,n){return Bt(this,void 0,void 0,function*(){const r=yield this._fetch(e,n);return r!=null?lf(r,0):null})}_getAddress(e,n){const r=Jz[String(e)];if(r==null&&Xt.throwError(`unsupported coin type: ${e}`,pe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(n);const i=Et(n);if(r.p2pkh!=null){const o=n.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(o){const s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return I3(ui([[r.p2pkh],"0x"+o[2]]))}}if(r.p2sh!=null){const o=n.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){const s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return I3(ui([[r.p2sh],"0x"+o[2]]))}}if(r.prefix!=null){const o=i[1];let s=i[0];if(s===0?o!==20&&o!==32&&(s=-1):s=-1,s>=0&&i.length===2+o&&o>=1&&o<=75){const a=T3.toWords(i.slice(2));return a.unshift(s),T3.encode(r.prefix,a)}}return null}getAddress(e){return Bt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===AW?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===pe.errors.CALL_EXCEPTION)return null;throw i}const n=yield this._fetchBytes("0xf1cb7e06",Qv(e));if(n==null||n==="0x")return null;const r=this._getAddress(e,n);return r==null&&Xt.throwError("invalid or unsupported coin data",pe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:n}),r})}getAvatar(){return Bt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const n=yield this.getText("avatar");if(n==null)return null;for(let r=0;r<M3.length;r++){const i=n.match(M3[r]);if(i==null)continue;const o=i[1].toLowerCase();switch(o){case"https":return e.push({type:"url",content:n}),{linkage:e,url:n};case"data":return e.push({type:"data",content:n}),{linkage:e,url:n};case"ipfs":return e.push({type:"ipfs",content:n}),{linkage:e,url:Yv(n)};case"erc721":case"erc1155":{const s=o==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:o,content:n});const a=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const c=yield this.provider.formatter.address(l[0]),u=kn(Be.from(l[1]).toHexString(),32);if(o==="erc721"){const m=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:li(["0x6352211e",u])}));if(a!==m)return null;e.push({type:"owner",content:m})}else if(o==="erc1155"){const m=Be.from(yield this.provider.call({to:c,data:li(["0x00fdd58e",kn(a,32),u])}));if(m.isZero())return null;e.push({type:"balance",content:m.toString()})}const f={to:this.provider.formatter.address(l[0]),data:li([s,u])};let d=ch(yield this.provider.call(f),0);if(d==null)return null;e.push({type:"metadata-url-base",content:d}),o==="erc1155"&&(d=d.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:d})),d.match(/^ipfs:/i)&&(d=Yv(d)),e.push({type:"metadata-url",content:d});const p=yield sx(d);if(!p)return null;e.push({type:"metadata",content:JSON.stringify(p)});let h=p.image;if(typeof h!="string")return null;if(!h.match(/^(https:\/\/|data:)/i)){if(h.match(hS)==null)return null;e.push({type:"url-ipfs",content:h}),h=Yv(h)}return e.push({type:"url",content:h}),{linkage:e,url:h}}}}}catch{}return null})}getContentHash(){return Bt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const n=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=parseInt(n[3],16);if(n[4].length===s*2)return"ipfs://"+Xy.encode("0x"+n[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=parseInt(r[3],16);if(r[4].length===s*2)return"ipns://"+Xy.encode("0x"+r[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const o=e.match(/^0x90b2c605([0-9a-f]*)$/);if(o&&o[1].length===34*2){const s={"=":"","+":"-","/":"_"};return"sia://"+AA("0x"+o[1]).replace(/[=+\/]/g,l=>s[l])}return Xt.throwError("invalid or unsupported content hash data",pe.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Bt(this,void 0,void 0,function*(){let n=jo(e);n=ui([Qv(64),Qv(n.length),n]),n.length%32!==0&&(n=ui([n,kn("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",dt(n));return r==null||r==="0x"?null:Lf(r)})}}let Zv=null,Qz=1;class Yz extends C1{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Ne(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(n=>{}),this._ready().catch(n=>{});else{const n=_i(new.target,"getNetwork")(e);n?(Ne(this,"_network",n),this.emit("network",n,null)):Xt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Bt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Xt.throwError("no network detected",pe.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Ne(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return o0(()=>this._ready().then(e=>e,e=>{if(!(e.code===pe.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Zv==null&&(Zv=new st),Zv}static getNetwork(e){return Tz(e??"homestead")}ccipReadFetch(e,n,r){return Bt(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const i=e.to.toLowerCase(),o=n.toLowerCase(),s=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",i).replace("{data}",o),u=l.indexOf("{data}")>=0?null:JSON.stringify({data:o,sender:i}),f=yield sx({url:c,errorPassThrough:!0},u,(p,h)=>(p.status=h.statusCode,p));if(f.data)return f.data;const d=f.message||"unknown error";if(f.status>=400&&f.status<500)return Xt.throwError(`response not found during CCIP fetch: ${d}`,pe.errors.SERVER_ERROR,{url:l,errorMessage:d});s.push(d)}return Xt.throwError(`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,pe.errors.SERVER_ERROR,{urls:r,errorMessages:s})})}_getInternalBlockNumber(e){return Bt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const o=yield i;if(Hu()-o.respTime<=e)return o.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const n=Hu(),r=Qn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:o})=>{if(o)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),o;const s=Hu();return i=Be.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:n,respTime:s}});return this._internalBlockNumber=r,r.catch(i=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return Bt(this,void 0,void 0,function*(){const e=Qz++,n=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)Xt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",Xt.makeError("network block skew detected",pe.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let i=this._emitted.block+1;i<=r;i++)this.emit("block",i);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const o=this._emitted[i];o!=="pending"&&r-o>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(i=>{switch(i.type){case"tx":{const o=i.hash;let s=this.getTransactionReceipt(o).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+o]=a.blockNumber,this.emit(o,a)),null)).catch(a=>{this.emit("error",a)});n.push(s);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=r-1);const o=i.filter;o.fromBlock=i._lastBlockNumber+1,o.toBlock=r;const s=o.toBlock-this._maxFilterBlockRange;s>o.fromBlock&&(o.fromBlock=s),o.fromBlock<0&&(o.fromBlock=0);const a=this.getLogs(o).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(c=>{c.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(o,c)})}).catch(l=>{this.emit("error",l),i._inflight=!1});n.push(a)}break}}}),this._lastBlockNumber=r,Promise.all(n).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Bt(this,void 0,void 0,function*(){return Xt.throwError("provider does not support network detection",pe.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Bt(this,void 0,void 0,function*(){const e=yield this._ready(),n=yield this.detectNetwork();if(e.chainId!==n.chainId){if(this.anyNetwork)return this._network=n,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",n,e),yield k3(0),this._network;const r=Xt.makeError("underlying network changed",pe.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:n});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Hu();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(n=>((this._fastBlockNumber==null||n>this._fastBlockNumber)&&(this._fastBlockNumber=n),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Hu(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,n,r){return Bt(this,void 0,void 0,function*(){return this._waitForTransaction(e,n??1,r||0,null)})}_waitForTransaction(e,n,r,i){return Bt(this,void 0,void 0,function*(){const o=yield this.getTransactionReceipt(e);return(o?o.confirmations:0)>=n?o:new Promise((s,a)=>{const l=[];let c=!1;const u=function(){return c?!0:(c=!0,l.forEach(d=>{d()}),!1)},f=d=>{d.confirmations<n||u()||s(d)};if(this.on(e,f),l.push(()=>{this.removeListener(e,f)}),i){let d=i.startBlock,p=null;const h=m=>Bt(this,void 0,void 0,function*(){c||(yield k3(1e3),this.getTransactionCount(i.from).then(w=>Bt(this,void 0,void 0,function*(){if(!c){if(w<=i.nonce)d=m;else{{const x=yield this.getTransaction(e);if(x&&x.blockNumber!=null)return}for(p==null&&(p=d-3,p<i.startBlock&&(p=i.startBlock));p<=m;){if(c)return;const x=yield this.getBlockWithTransactions(p);for(let y=0;y<x.transactions.length;y++){const b=x.transactions[y];if(b.hash===e)return;if(b.from===i.from&&b.nonce===i.nonce){if(c)return;const E=yield this.waitForTransaction(b.hash,n);if(u())return;let O="replaced";b.data===i.data&&b.to===i.to&&b.value.eq(i.value)?O="repriced":b.data==="0x"&&b.from===b.to&&b.value.isZero()&&(O="cancelled"),a(Xt.makeError("transaction was replaced",pe.errors.TRANSACTION_REPLACED,{cancelled:O==="replaced"||O==="cancelled",reason:O,replacement:this._wrapTransaction(b),hash:e,receipt:E}));return}}p++}}c||this.once("block",h)}}),w=>{c||this.once("block",h)}))});if(c)return;this.once("block",h),l.push(()=>{this.removeListener("block",h)})}if(typeof r=="number"&&r>0){const d=setTimeout(()=>{u()||a(Xt.makeError("timeout exceeded",pe.errors.TIMEOUT,{timeout:r}))},r);d.unref&&d.unref(),l.push(()=>{clearTimeout(d)})}})})}getBlockNumber(){return Bt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Be.from(e)}catch(n){return Xt.throwError("bad result from backend",pe.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:n})}})}getBalance(e,n){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Qn({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getBalance",r);try{return Be.from(i)}catch(o){return Xt.throwError("bad result from backend",pe.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:o})}})}getTransactionCount(e,n){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Qn({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getTransactionCount",r);try{return Be.from(i).toNumber()}catch(o){return Xt.throwError("bad result from backend",pe.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:o})}})}getCode(e,n){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Qn({address:this._getAddress(e),blockTag:this._getBlockTag(n)}),i=yield this.perform("getCode",r);try{return dt(i)}catch(o){return Xt.throwError("bad result from backend",pe.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:o})}})}getStorageAt(e,n,r){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Qn({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(n).then(s=>Jb(s))}),o=yield this.perform("getStorageAt",i);try{return dt(o)}catch(s){return Xt.throwError("bad result from backend",pe.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:o,error:s})}})}_wrapTransaction(e,n,r){if(n!=null&&cl(n)!==32)throw new Error("invalid response - sendTransaction");const i=e;return n!=null&&e.hash!==n&&Xt.throwError("Transaction hash mismatch from Provider.sendTransaction.",pe.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:n}),i.wait=(o,s)=>Bt(this,void 0,void 0,function*(){o==null&&(o=1),s==null&&(s=0);let a;o!==0&&r!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const l=yield this._waitForTransaction(e.hash,o,s,a);return l==null&&o===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&Xt.throwError("transaction failed",pe.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Promise.resolve(e).then(o=>dt(o)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const o=yield this.perform("sendTransaction",{signedTransaction:n});return this._wrapTransaction(r,o,i)}catch(o){throw o.transaction=r,o.transactionHash=r.hash,o}})}_getTransactionRequest(e){return Bt(this,void 0,void 0,function*(){const n=yield e,r={};return["from","to"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(o=>o?this._getAddress(o):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(o=>o?Be.from(o):null))}),["type"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(o=>o??null))}),n.accessList&&(r.accessList=this.formatter.accessList(n.accessList)),["data"].forEach(i=>{n[i]!=null&&(r[i]=Promise.resolve(n[i]).then(o=>o?dt(o):null))}),this.formatter.transactionRequest(yield Qn(r))})}_getFilter(e){return Bt(this,void 0,void 0,function*(){e=yield e;const n={};return e.address!=null&&(n.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(n[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(n[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield Qn(n))})}_call(e,n,r){return Bt(this,void 0,void 0,function*(){r>=Xz&&Xt.throwError("CCIP read exceeded maximum redirections",pe.errors.SERVER_ERROR,{redirects:r,transaction:e});const i=e.to,o=yield this.perform("call",{transaction:e,blockTag:n});if(r>=0&&n==="latest"&&i!=null&&o.substring(0,10)==="0x556f1830"&&cl(o)%32===4)try{const s=Fr(o,4),a=Fr(s,0,32);Be.from(a).eq(i)||Xt.throwError("CCIP Read sender did not match",pe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const l=[],c=Be.from(Fr(s,32,64)).toNumber(),u=Be.from(Fr(s,c,c+32)).toNumber(),f=Fr(s,c+32);for(let x=0;x<u;x++){const y=ch(f,x*32);y==null&&Xt.throwError("CCIP Read contained corrupt URL string",pe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),l.push(y)}const d=lf(s,64);Be.from(Fr(s,100,128)).isZero()||Xt.throwError("CCIP Read callback selector included junk",pe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const p=Fr(s,96,100),h=lf(s,128),m=yield this.ccipReadFetch(e,d,l);m==null&&Xt.throwError("CCIP Read disabled or provided no URLs",pe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const w={to:i,data:li([p,pS([m,h])])};return this._call(w,n,r+1)}catch(s){if(s.code===pe.errors.SERVER_ERROR)throw s}try{return dt(o)}catch(s){return Xt.throwError("bad result from backend",pe.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:n},result:o,error:s})}})}call(e,n){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Qn({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Qn({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",n);try{return Be.from(r)}catch(i){return Xt.throwError("bad result from backend",pe.errors.SERVER_ERROR,{method:"estimateGas",params:n,result:r,error:i})}})}_getAddress(e){return Bt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Xt.throwArgumentError("invalid address or ENS name","name",e);const n=yield this.resolveName(e);return n==null&&Xt.throwError("ENS name not configured",pe.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),n})}_getBlock(e,n){return Bt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const i={includeTransactions:!!n};if(ln(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),ln(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch{Xt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return o0(()=>Bt(this,void 0,void 0,function*(){const o=yield this.perform("getBlock",i);if(o==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&r>this._emitted.block?null:void 0;if(n){let s=null;for(let l=0;l<o.transactions.length;l++){const c=o.transactions[l];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=s-c.blockNumber+1;u<=0&&(u=1),c.confirmations=u}}const a=this.formatter.blockWithTransactions(o);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(o)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Bt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return o0(()=>Bt(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Bt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const n={transactionHash:this.formatter.hash(e,!0)};return o0(()=>Bt(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",n);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;const i=this.formatter.receipt(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return i}),{oncePoll:this})})}getLogs(e){return Bt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Qn({filter:this._getFilter(e)}),r=yield this.perform("getLogs",n);return r.forEach(i=>{i.removed==null&&(i.removed=!1)}),st.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return Bt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Bt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Xt.throwArgumentError("invalid BlockTag","blockTag",e);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return n+=e,n<0&&(n=0),this.formatter.blockTag(n)}return this.formatter.blockTag(e)})}getResolver(e){return Bt(this,void 0,void 0,function*(){let n=e;for(;;){if(n===""||n==="."||e!=="eth"&&n==="eth")return null;const r=yield this._getResolver(n,"getResolver");if(r!=null){const i=new F3(this,r,e);return n!==e&&!(yield i.supportsWildcard())?null:i}n=n.split(".").slice(1).join(".")}})}_getResolver(e,n){return Bt(this,void 0,void 0,function*(){n==null&&(n="ENS");const r=yield this.getNetwork();r.ensAddress||Xt.throwError("network does not support ENS",pe.errors.UNSUPPORTED_OPERATION,{operation:n,network:r.name});try{const i=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+sh(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Bt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(ln(e))throw r}typeof e!="string"&&Xt.throwArgumentError("invalid ENS name","name",e);const n=yield this.getResolver(e);return n?yield n.getAddress():null})}lookupAddress(e){return Bt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const n=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(n,"lookupAddress");if(r==null)return null;const i=ch(yield this.call({to:r,data:"0x691f3431"+sh(n).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Bt(this,void 0,void 0,function*(){let n=null;if(ln(e)){const o=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(o,"getAvatar");if(!s)return null;n=new F3(this,s,o);try{const a=yield n.getAvatar();if(a)return a.url}catch(a){if(a.code!==pe.errors.CALL_EXCEPTION)throw a}try{const a=ch(yield this.call({to:s,data:"0x691f3431"+sh(o).substring(2)}),0);n=yield this.getResolver(a)}catch(a){if(a.code!==pe.errors.CALL_EXCEPTION)throw a;return null}}else if(n=yield this.getResolver(e),!n)return null;const r=yield n.getAvatar();return r==null?null:r.url})}perform(e,n){return Xt.throwError(e+" not implemented",pe.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(n=>n.pollable()).length>0}_addEventListener(e,n,r){const i=new Vz(Ql(e),n,r);return this._events.push(i),this._startEvent(i),this}on(e,n){return this._addEventListener(e,n,!1)}once(e,n){return this._addEventListener(e,n,!0)}emit(e,...n){let r=!1,i=[],o=Ql(e);return this._events=this._events.filter(s=>s.tag!==o?!0:(setTimeout(()=>{s.listener.apply(this,n)},0),r=!0,s.once?(i.push(s),!1):!0)),i.forEach(s=>{this._stopEvent(s)}),r}listenerCount(e){if(!e)return this._events.length;let n=Ql(e);return this._events.filter(r=>r.tag===n).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let n=Ql(e);return this._events.filter(r=>r.tag===n).map(r=>r.listener)}off(e,n){if(n==null)return this.removeAllListeners(e);const r=[];let i=!1,o=Ql(e);return this._events=this._events.filter(s=>s.tag!==o||s.listener!=n||i?!0:(i=!0,r.push(s),!1)),r.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let n=[];if(e==null)n=this._events,this._events=[];else{const r=Ql(e);this._events=this._events.filter(i=>i.tag!==r?!0:(n.push(i),!1))}return n.forEach(r=>{this._stopEvent(r)}),this}}var os=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Yn=new pe(T1),Zz=["call","estimateGas"];function _0(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const n=ln(t.data)?t.data:null;if(!e||n)return{message:t.message,data:n}}if(typeof t=="object"){for(const n in t){const r=_0(t[n],e);if(r)return r}return null}if(typeof t=="string")try{return _0(JSON.parse(t),e)}catch{}return null}function gS(t,e,n){const r=n.transaction||n.signedTransaction;if(t==="call"){const o=_0(e,!0);if(o)return o.data;Yn.throwError("missing revert data in call exception; Transaction reverted without a reason string",pe.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(t==="estimateGas"){let o=_0(e.body,!1);o==null&&(o=_0(e,!1)),o&&Yn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pe.errors.UNPREDICTABLE_GAS_LIMIT,{reason:o.message,method:t,transaction:r,error:e})}let i=e.message;throw e.code===pe.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Yn.throwError("insufficient funds for intrinsic transaction cost",pe.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),i.match(/nonce (is )?too low/i)&&Yn.throwError("nonce has already been used",pe.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Yn.throwError("replacement fee too low",pe.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),i.match(/only replay-protected/i)&&Yn.throwError("legacy pre-eip-155 transactions not supported",pe.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:r}),Zz.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Yn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pe.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}function L3(t){return new Promise(function(e){setTimeout(e,t)})}function eq(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Xu(t){return t&&t.toLowerCase()}const qy={};class vS extends gu{constructor(e,n,r){if(super(),e!==qy)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Ne(this,"provider",n),r==null&&(r=0),typeof r=="string"?(Ne(this,"_address",this.provider.formatter.address(r)),Ne(this,"_index",null)):typeof r=="number"?(Ne(this,"_index",r),Ne(this,"_address",null)):Yn.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return Yn.throwError("cannot alter JSON-RPC Signer connection",pe.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new tq(qy,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Yn.throwError("unknown account #"+this._index,pe.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=nr(e);const n=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){const r=nr(e);r.from=n,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>os(this,void 0,void 0,function*(){if(r==null)return null;const i=yield this.provider.resolveName(r);return i==null&&Yn.throwArgumentError("provided ENS name resolves to null","tx.to",r),i}))),Qn({tx:Qn(e),sender:n}).then(({tx:r,sender:i})=>{r.from!=null?r.from.toLowerCase()!==i&&Yn.throwArgumentError("from address mismatch","transaction",e):r.from=i;const o=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[o]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&Yn.throwError("user rejected transaction",pe.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),gS("sendTransaction",s,o)))})}signTransaction(e){return Yn.throwError("signing transactions is unsupported",pe.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return os(this,void 0,void 0,function*(){const n=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield o0(()=>os(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(r);if(i!==null)return this.provider._wrapTransaction(i,r,n)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=r,i}})}signMessage(e){return os(this,void 0,void 0,function*(){const n=typeof e=="string"?jo(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[dt(n),r.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Yn.throwError("user rejected signing",pe.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),i}})}_legacySignMessage(e){return os(this,void 0,void 0,function*(){const n=typeof e=="string"?jo(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),dt(n)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Yn.throwError("user rejected signing",pe.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),i}})}_signTypedData(e,n,r){return os(this,void 0,void 0,function*(){const i=yield vi.resolveNames(e,n,r,s=>this.provider.resolveName(s)),o=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(vi.getPayload(i.domain,n,i.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&Yn.throwError("user rejected signing",pe.errors.ACTION_REJECTED,{action:"_signTypedData",from:o,messageData:{domain:i.domain,types:n,value:i.value}}),s}})}unlock(e){return os(this,void 0,void 0,function*(){const n=this.provider,r=yield this.getAddress();return n.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class tq extends vS{sendTransaction(e){return this.sendUncheckedTransaction(e).then(n=>({hash:n,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(n,r)}))}}const nq={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class rq extends Yz{constructor(e,n){let r=n;r==null&&(r=new Promise((i,o)=>{setTimeout(()=>{this.detectNetwork().then(s=>{i(s)},s=>{o(s)})},0)})),super(r),e||(e=_i(this.constructor,"defaultUrl")()),typeof e=="string"?Ne(this,"connection",Object.freeze({url:e})):Ne(this,"connection",Object.freeze(nr(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return os(this,void 0,void 0,function*(){yield L3(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const n=_i(this.constructor,"getNetwork");try{return n(Be.from(e).toNumber())}catch(r){return Yn.throwError("could not detect network",pe.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return Yn.throwError("could not detect network",pe.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new vS(qy,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(n=>this.formatter.address(n)))}send(e,n){const r={method:e,params:n,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Ds(r),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const o=sx(this.connection,JSON.stringify(r),eq).then(s=>(this.emit("debug",{action:"response",request:r,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:r,provider:this}),s});return i&&(this._cache[e]=o,setTimeout(()=>{this._cache[e]=null},0)),o}prepareRequest(e,n){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Xu(n.address),n.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Xu(n.address),n.blockTag]];case"getCode":return["eth_getCode",[Xu(n.address),n.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Xu(n.address),kn(n.position,32),n.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[n.signedTransaction]];case"getBlock":return n.blockTag?["eth_getBlockByNumber",[n.blockTag,!!n.includeTransactions]]:n.blockHash?["eth_getBlockByHash",[n.blockHash,!!n.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[n.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[n.transactionHash]];case"call":return["eth_call",[_i(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0}),n.blockTag]];case"estimateGas":return["eth_estimateGas",[_i(this.constructor,"hexlifyTransaction")(n.transaction,{from:!0})]];case"getLogs":return n.filter&&n.filter.address!=null&&(n.filter.address=Xu(n.filter.address)),["eth_getLogs",[n.filter]]}return null}perform(e,n){return os(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=n.transaction;if(i&&i.type!=null&&Be.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const o=yield this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(n=nr(n),n.transaction=nr(i),delete n.transaction.type)}}const r=this.prepareRequest(e,n);r==null&&Yn.throwError(e+" not implemented",pe.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(i){return gS(e,i,n)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,n=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=n,n.then(function(r){function i(){e.send("eth_getFilterChanges",[r]).then(function(o){if(e._pendingFilter!=n)return null;let s=Promise.resolve();return o.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),s.then(function(){return L3(1e3)})}).then(function(){if(e._pendingFilter!=n){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){i()},0),null}).catch(o=>{})}return i(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,n){const r=nr(nq);if(n)for(const o in n)n[o]&&(r[o]=!0);YK(e,r);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(o){if(e[o]==null)return;const s=Jb(Be.from(e[o]));o==="gasLimit"&&(o="gas"),i[o]=s}),["from","to","data"].forEach(function(o){e[o]!=null&&(i[o]=dt(e[o]))}),e.accessList&&(i.accessList=xu(e.accessList)),i}}const U3=new pe(T1);let iq=1;function $3(t,e){const n="Web3LegacyFetcher";return function(r,i){const o={method:r,params:i,id:iq++,jsonrpc:"2.0"};return new Promise((s,a)=>{this.emit("debug",{action:"request",fetcher:n,request:Ds(o),provider:this}),e(o,(l,c)=>{if(l)return this.emit("debug",{action:"response",fetcher:n,error:l,request:o,provider:this}),a(l);if(this.emit("debug",{action:"response",fetcher:n,request:o,response:c,provider:this}),c.error){const u=new Error(c.error.message);return u.code=c.error.code,u.data=c.error.data,a(u)}s(c.result)})})}}function oq(t){return function(e,n){n==null&&(n=[]);const r={method:e,params:n};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Ds(r),provider:this}),t.request(r).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:i,provider:this}),i})}}class sq extends rq{constructor(e,n){e==null&&U3.throwArgumentError("missing provider","provider",e);let r=null,i=null,o=null;typeof e=="function"?(r="unknown:",i=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),o=e,e.request?(r===""&&(r="eip-1193:"),i=oq(e)):e.sendAsync?i=$3(e,e.sendAsync.bind(e)):e.send?i=$3(e,e.send.bind(e)):U3.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,n),Ne(this,"jsonRpcFetchFunc",i),Ne(this,"provider",o)}send(e,n){return this.jsonRpcFetchFunc(e,n)}}const aq="units/5.7.0",lq=new pe(aq);function cq(t,e){return ih(t,e)}function uq(t,e){return typeof t!="string"&&lq.throwArgumentError("value must be a string","value",t),Eo(t,e)}function ax(t){return cq(t,18)}function lx(t){return uq(t,18)}const Bd=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"projectId",type:"uint256"},{indexed:!0,internalType:"address",name:"donor",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"DonationReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"projectId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"MinimumFeePaid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"projectId",type:"uint256"},{indexed:!1,internalType:"string",name:"title",type:"string"},{indexed:!1,internalType:"uint256",name:"targetAmount",type:"uint256"}],name:"ProjectCreated",type:"event"},{inputs:[],name:"MINIMUM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"uint256",name:"targetAmount",type:"uint256"}],name:"createProject",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"projectId",type:"uint256"}],name:"donate",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getMinimumFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getProjectCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"projectCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"projects",outputs:[{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"uint256",name:"targetAmount",type:"uint256"},{internalType:"uint256",name:"currentAmount",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"uint256",name:"minimumFee",type:"uint256"},{internalType:"bool",name:"isMinimumFeePaid",type:"bool"}],stateMutability:"view",type:"function"}],j3="0x608060405234801561001057600080fd5b506113a2806100206000396000f3fe6080604052600436106100705760003560e01c80633bcff3b01161004e5780633bcff3b0146101005780634cd370b91461012b57806357855e0e14610156578063f14faf6f1461018157610070565b8063107046bd1461007557806323c55448146100b957806336fbad26146100d5575b600080fd5b34801561008157600080fd5b5061009c60048036038101906100979190610878565b61019d565b6040516100b09897969594939291906109a0565b60405180910390f35b6100d360048036038101906100ce9190610b61565b61032f565b005b3480156100e157600080fd5b506100ea610628565b6040516100f79190610bec565b60405180910390f35b34801561010c57600080fd5b5061011561062e565b6040516101229190610bec565b60405180910390f35b34801561013757600080fd5b50610140610638565b60405161014d9190610bec565b60405180910390f35b34801561016257600080fd5b5061016b610647565b6040516101789190610bec565b60405180910390f35b61019b60048036038101906101969190610878565b610652565b005b60006020528060005260406000206000915090508060000180546101c090610c36565b80601f01602080910402602001604051908101604052809291908181526020018280546101ec90610c36565b80156102395780601f1061020e57610100808354040283529160200191610239565b820191906000526020600020905b81548152906001019060200180831161021c57829003601f168201915b50505050509080600101805461024e90610c36565b80601f016020809104026020016040519081016040528092919081815260200182805461027a90610c36565b80156102c75780601f1061029c576101008083540402835291602001916102c7565b820191906000526020600020905b8154815290600101906020018083116102aa57829003601f168201915b5050505050908060020154908060030154908060040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060040160149054906101000a900460ff16908060050154908060060160009054906101000a900460ff16905088565b6000835111610373576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161036a90610cb3565b60405180910390fd5b60008251116103b7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103ae90610d1f565b60405180910390fd5b600081116103fa576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103f190610db1565b60405180910390fd5b662386f26fc100003414610443576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161043a90610e1d565b60405180910390fd5b6001600081548092919061045690610e6c565b9190505550604051806101000160405280848152602001838152602001828152602001600081526020013373ffffffffffffffffffffffffffffffffffffffff168152602001600115158152602001662386f26fc10000815260200160011515815250600080600154815260200190815260200160002060008201518160000190816104e29190611060565b5060208201518160010190816104f89190611060565b50604082015181600201556060820151816003015560808201518160040160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060a08201518160040160146101000a81548160ff02191690831515021790555060c0820151816005015560e08201518160060160006101000a81548160ff0219169083151502179055509050506001547f6245d01eb0db8df9242165c3ee1e2324367f93303d7b8f6a86e38a8767e643ae84836040516105d5929190611132565b60405180910390a23373ffffffffffffffffffffffffffffffffffffffff166001547f06af8fc8f6ad5f5847716f01e384ac1401354f504417d739408a26b29d7d2c8760405160405180910390a3505050565b60015481565b6000600154905090565b6000662386f26fc10000905090565b662386f26fc1000081565b60008111801561066457506001548111155b6106a3576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161069a906111ae565b60405180910390fd5b60008082815260200190815260200160002060040160149054906101000a900460ff16610705576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106fc9061121a565b60405180910390fd5b60003411610748576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161073f906112ac565b60405180910390fd5b60008082815260200190815260200160002060060160009054906101000a900460ff166107aa576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107a190611318565b60405180910390fd5b60008060008381526020019081526020016000209050348160030160008282546107d49190611338565b925050819055503373ffffffffffffffffffffffffffffffffffffffff16827f0b5b4c52969ff7329ecf7ee536409fda87812b15a8622bc6e8cdeab3aee14a26346040516108229190610bec565b60405180910390a35050565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b61085581610842565b811461086057600080fd5b50565b6000813590506108728161084c565b92915050565b60006020828403121561088e5761088d610838565b5b600061089c84828501610863565b91505092915050565b600081519050919050565b600082825260208201905092915050565b60005b838110156108df5780820151818401526020810190506108c4565b60008484015250505050565b6000601f19601f8301169050919050565b6000610907826108a5565b61091181856108b0565b93506109218185602086016108c1565b61092a816108eb565b840191505092915050565b61093e81610842565b82525050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061096f82610944565b9050919050565b61097f81610964565b82525050565b60008115159050919050565b61099a81610985565b82525050565b60006101008201905081810360008301526109bb818b6108fc565b905081810360208301526109cf818a6108fc565b90506109de6040830189610935565b6109eb6060830188610935565b6109f86080830187610976565b610a0560a0830186610991565b610a1260c0830185610935565b610a1f60e0830184610991565b9998505050505050505050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610a6e826108eb565b810181811067ffffffffffffffff82111715610a8d57610a8c610a36565b5b80604052505050565b6000610aa061082e565b9050610aac8282610a65565b919050565b600067ffffffffffffffff821115610acc57610acb610a36565b5b610ad5826108eb565b9050602081019050919050565b82818337600083830152505050565b6000610b04610aff84610ab1565b610a96565b905082815260208101848484011115610b2057610b1f610a31565b5b610b2b848285610ae2565b509392505050565b600082601f830112610b4857610b47610a2c565b5b8135610b58848260208601610af1565b91505092915050565b600080600060608486031215610b7a57610b79610838565b5b600084013567ffffffffffffffff811115610b9857610b9761083d565b5b610ba486828701610b33565b935050602084013567ffffffffffffffff811115610bc557610bc461083d565b5b610bd186828701610b33565b9250506040610be286828701610863565b9150509250925092565b6000602082019050610c016000830184610935565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610c4e57607f821691505b602082108103610c6157610c60610c07565b5b50919050565b7f5469746c652063616e6e6f7420626520656d7074790000000000000000000000600082015250565b6000610c9d6015836108b0565b9150610ca882610c67565b602082019050919050565b60006020820190508181036000830152610ccc81610c90565b9050919050565b7f4465736372697074696f6e2063616e6e6f7420626520656d7074790000000000600082015250565b6000610d09601b836108b0565b9150610d1482610cd3565b602082019050919050565b60006020820190508181036000830152610d3881610cfc565b9050919050565b7f54617267657420616d6f756e74206d757374206265206772656174657220746860008201527f616e203000000000000000000000000000000000000000000000000000000000602082015250565b6000610d9b6024836108b0565b9150610da682610d3f565b604082019050919050565b60006020820190508181036000830152610dca81610d8e565b9050919050565b7f4d75737420706179206578616374206d696e696d756d20666565000000000000600082015250565b6000610e07601a836108b0565b9150610e1282610dd1565b602082019050919050565b60006020820190508181036000830152610e3681610dfa565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610e7782610842565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610ea957610ea8610e3d565b5b600182019050919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610f167fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610ed9565b610f208683610ed9565b95508019841693508086168417925050509392505050565b6000819050919050565b6000610f5d610f58610f5384610842565b610f38565b610842565b9050919050565b6000819050919050565b610f7783610f42565b610f8b610f8382610f64565b848454610ee6565b825550505050565b600090565b610fa0610f93565b610fab818484610f6e565b505050565b5b81811015610fcf57610fc4600082610f98565b600181019050610fb1565b5050565b601f82111561101457610fe581610eb4565b610fee84610ec9565b81016020851015610ffd578190505b61101161100985610ec9565b830182610fb0565b50505b505050565b600082821c905092915050565b600061103760001984600802611019565b1980831691505092915050565b60006110508383611026565b9150826002028217905092915050565b611069826108a5565b67ffffffffffffffff81111561108257611081610a36565b5b61108c8254610c36565b611097828285610fd3565b600060209050601f8311600181146110ca57600084156110b8578287015190505b6110c28582611044565b86555061112a565b601f1984166110d886610eb4565b60005b82811015611100578489015182556001820191506020850194506020810190506110db565b8683101561111d5784890151611119601f891682611026565b8355505b6001600288020188555050505b505050505050565b6000604082019050818103600083015261114c81856108fc565b905061115b6020830184610935565b9392505050565b7f496e76616c69642070726f6a6563742049440000000000000000000000000000600082015250565b60006111986012836108b0565b91506111a382611162565b602082019050919050565b600060208201905081810360008301526111c78161118b565b9050919050565b7f50726f6a656374206973206e6f74206163746976650000000000000000000000600082015250565b60006112046015836108b0565b915061120f826111ce565b602082019050919050565b60006020820190508181036000830152611233816111f7565b9050919050565b7f446f6e6174696f6e20616d6f756e74206d75737420626520677265617465722060008201527f7468616e20300000000000000000000000000000000000000000000000000000602082015250565b60006112966026836108b0565b91506112a18261123a565b604082019050919050565b600060208201905081810360008301526112c581611289565b9050919050565b7f50726f6a656374206d696e696d756d20666565206e6f74207061696400000000600082015250565b6000611302601c836108b0565b915061130d826112cc565b602082019050919050565b60006020820190508181036000830152611331816112f5565b9050919050565b600061134382610842565b915061134e83610842565b925082820190508082111561136657611365610e3d565b5b9291505056fea2646970667358221220645db7da378387ba349689ea9491c760e94a5a04870e13f51c276457439dd21264736f6c63430008130033",fq=t=>t.length>1;class Vy extends Oz{constructor(...e){fq(e)?super(...e):super(Bd,j3,e[0])}deploy(e){return super.deploy(e||{})}getDeployTransaction(e){return super.getDeployTransaction(e||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static createInterface(){return new Ly(Bd)}static connect(e,n){return new Hy(e,Bd,n)}}X1(Vy,"bytecode",j3),X1(Vy,"abi",Bd);const Ks={id:545,name:"Flow EVM Testnet",nativeCurrency:{decimals:18,name:"Flow",symbol:"FLOW"},rpcUrls:{default:{http:["https://testnet.evm.nodes.onflow.org"]}},blockExplorers:{default:{name:"Flow Diver",url:"https://testnet.flowdiver.io"}}},mS=ee.createContext(void 0),dq=({children:t})=>{const[e,n]=ee.useState(null),[r,i]=ee.useState(null),[o,s]=ee.useState(null),[a,l]=ee.useState(!1),[c,u]=ee.useState(null),[f,d]=ee.useState(null),[p,h]=ee.useState(null),[m,w]=ee.useState({addr:null,loggedIn:!1});ee.useEffect(()=>{(async()=>{try{const N=await bc.init({dappMetaData:{name:"Donate On Flow",icon:"https://cryptologos.cc/logos/flow-flow-logo.png"},actionsConfiguration:{returnStrategy:"none",modals:"all"},uiPreferences:{theme:Xr.LIGHT}});n(N)}catch(N){console.error("Failed to initialize OKX UI:",N)}})()},[]),ee.useEffect(()=>{w(a&&r?{addr:r,loggedIn:!0}:{addr:null,loggedIn:!1})},[a,r]);const x=async()=>{var O,N;if(e)try{const R=await e.openModal({namespaces:{eip155:{chains:[`eip155:${Ks.id}`],defaultChain:Ks.id.toString()}}});if(!R||!R.namespaces.eip155){console.error("Session is undefined or invalid");return}const L=(O=R.namespaces.eip155.accounts[0])==null?void 0:O.split(":")[2],W=((N=R.namespaces.eip155.chains[0])==null?void 0:N.split(":")[1])||null;if(!window.ethereum)throw new Error("No ethereum provider found");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${Ks.id.toString(16)}`}]})}catch(g){if(g.code===4902)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${Ks.id.toString(16)}`,chainName:Ks.name,nativeCurrency:Ks.nativeCurrency,rpcUrls:Ks.rpcUrls.default.http,blockExplorerUrls:[Ks.blockExplorers.default.url]}]})}catch(_){throw console.error("Error adding Flow EVM chain:",_),_}else throw g}await window.ethereum.request({method:"eth_requestAccounts"});const M=new sq(window.ethereum);await M.ready;const F=M.getSigner(),$=await F.getAddress();if(!$)throw new Error("Failed to get signer address");const P="0xA3a800F6EcB9dAed1D7B3B314931c1568c1fBc02";console.log("Using contract address:",P);const v=Vy.connect(P,F);i($),s(W),l(!0),u(F),d(v),window.ethereum.on("chainChanged",g=>{window.location.reload()}),window.ethereum.on("accountsChanged",g=>{g.length===0?y():i(g[0])})}catch(R){throw console.error("Failed to connect wallet:",R),await y(),R}},y=async()=>{if(e)try{await e.disconnect(),window.ethereum&&(window.ethereum.removeAllListeners("chainChanged"),window.ethereum.removeAllListeners("accountsChanged")),i(null),s(null),l(!1),u(null),d(null),w({addr:null,loggedIn:!1})}catch(O){console.error("Failed to disconnect wallet:",O)}},b=async()=>{if(typeof window<"u"&&WebApp)try{const O="7836566125",N=WebApp.initData;if(validate3rd(N,Number(O))){const L=WebApp.initDataUnsafe.user;L&&h({id:L.id,first_name:L.first_name,username:L.username})}}catch(O){console.error("Error validating Telegram user:",O)}},E=()=>{h(null)};return oe.jsx(mS.Provider,{value:{connected:a,walletAddress:r,chainId:o,signer:c,charityContract:f,telegramUser:p,user:m,logIn:x,logOut:y,telegramLogIn:b,telegramLogOut:E},children:t})},Rl=()=>{const t=ee.useContext(mS);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},hq="modulepreload",pq=function(t){return"/"+t},K3={},Zc=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=pq(l),l in K3)return;K3[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":hq,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((d,p)=>{f.addEventListener("load",d),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},gq=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zc(async()=>{const{default:r}=await Promise.resolve().then(()=>wu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class cx extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class vq extends cx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mq extends cx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yq extends cx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Jy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Jy||(Jy={}));var bq=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class xq{constructor(e,{headers:n={},customFetch:r,region:i=Jy.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=gq(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return bq(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:s}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(h=>{throw new vq(h)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new mq(u);if(!u.ok)throw new yq(u);let d=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return d==="application/json"?p=yield u.json():d==="application/octet-stream"?p=yield u.blob():d==="text/event-stream"?p=u:d==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var ai={},ux={},N1={},$f={},P1={},k1={},wq=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},eu=wq();const _q=eu.fetch,yS=eu.fetch.bind(eu),bS=eu.Headers,Eq=eu.Request,Cq=eu.Response,wu=Object.freeze(Object.defineProperty({__proto__:null,Headers:bS,Request:Eq,Response:Cq,default:yS,fetch:_q},Symbol.toStringTag,{value:"Module"})),Aq=gp(wu);var I1={};Object.defineProperty(I1,"__esModule",{value:!0});let Sq=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};I1.default=Sq;var xS=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(k1,"__esModule",{value:!0});const Oq=xS(Aq),Dq=xS(I1);let Rq=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Oq.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let c=null,u=null,f=null,d=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const x=await o.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}const m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),w=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,d=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await o.text();try{c=JSON.parse(m),Array.isArray(c)&&o.status===404&&(u=[],c=null,d=200,p="OK")}catch{o.status===404&&m===""?(d=204,p="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,d=200,p="OK"),c&&this.shouldThrowOnError)throw new Dq.default(c)}return{error:c,data:u,count:f,status:d,statusText:p}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o==null?void 0:o.name)!==null&&s!==void 0?s:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}};k1.default=Rq;var Tq=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(P1,"__esModule",{value:!0});const Nq=Tq(k1);let Pq=class extends Nq.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};P1.default=Pq;var kq=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($f,"__esModule",{value:!0});const Iq=kq(P1);let Mq=class extends Iq.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};$f.default=Mq;var Bq=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(N1,"__esModule",{value:!0});const zu=Bq($f);let Fq=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let o=!1;const s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new zu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new zu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){const s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new zu.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new zu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new zu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};N1.default=Fq;var M1={},B1={};Object.defineProperty(B1,"__esModule",{value:!0});B1.version=void 0;B1.version="0.0.0-automated";Object.defineProperty(M1,"__esModule",{value:!0});M1.DEFAULT_HEADERS=void 0;const Lq=B1;M1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Lq.version}`};var wS=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ux,"__esModule",{value:!0});const Uq=wS(N1),$q=wS($f),jq=M1;let Kq=class _S{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},jq.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new Uq.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new _S(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){let s;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{a.searchParams.append(u,f)})):(s="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new $q.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ux.default=Kq;var _u=ne&&ne.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ai,"__esModule",{value:!0});ai.PostgrestError=ai.PostgrestBuilder=ai.PostgrestTransformBuilder=ai.PostgrestFilterBuilder=ai.PostgrestQueryBuilder=ai.PostgrestClient=void 0;const ES=_u(ux);ai.PostgrestClient=ES.default;const CS=_u(N1);ai.PostgrestQueryBuilder=CS.default;const AS=_u($f);ai.PostgrestFilterBuilder=AS.default;const SS=_u(P1);ai.PostgrestTransformBuilder=SS.default;const OS=_u(k1);ai.PostgrestBuilder=OS.default;const DS=_u(I1);ai.PostgrestError=DS.default;var Wq=ai.default={PostgrestClient:ES.default,PostgrestQueryBuilder:CS.default,PostgrestFilterBuilder:AS.default,PostgrestTransformBuilder:SS.default,PostgrestBuilder:OS.default,PostgrestError:DS.default};const{PostgrestClient:Hq,PostgrestQueryBuilder:LZ,PostgrestFilterBuilder:UZ,PostgrestTransformBuilder:$Z,PostgrestBuilder:jZ,PostgrestError:KZ}=Wq,Xq="2.11.2",zq={"X-Client-Info":`realtime-js/${Xq}`},qq="1.0.0",RS=1e4,Vq=1e3;var Ic;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ic||(Ic={}));var gi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gi||(gi={}));var so;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(so||(so={}));var Gy;(function(t){t.websocket="websocket"})(Gy||(Gy={}));var ja;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ja||(ja={}));class Jq{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(e.slice(s,s+i));s=s+i;const l=r.decode(e.slice(s,s+o));s=s+o;const c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class TS{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Cn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Cn||(Cn={}));const W3=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,s)=>(o[s]=Gq(s,t,e,i),o),{})},Gq=(t,e,n,r)=>{const i=e.find(a=>a.name===t),o=i==null?void 0:i.type,s=n[t];return o&&!r.includes(o)?NS(o,s):Qy(s)},NS=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return eV(e,n)}switch(t){case Cn.bool:return Qq(e);case Cn.float4:case Cn.float8:case Cn.int2:case Cn.int4:case Cn.int8:case Cn.numeric:case Cn.oid:return Yq(e);case Cn.json:case Cn.jsonb:return Zq(e);case Cn.timestamp:return tV(e);case Cn.abstime:case Cn.date:case Cn.daterange:case Cn.int4range:case Cn.int8range:case Cn.money:case Cn.reltime:case Cn.text:case Cn.time:case Cn.timestamptz:case Cn.timetz:case Cn.tsrange:case Cn.tstzrange:return Qy(e);default:return Qy(e)}},Qy=t=>t,Qq=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Yq=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Zq=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},eV=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const s=t.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>NS(e,a))}return t},tV=t=>typeof t=="string"?t.replace(" ","T"):t,PS=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class em{constructor(e,n,r={},i=RS){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var H3;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(H3||(H3={}));class E0{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=E0.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=E0.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=E0.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),s=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const f=o[c];if(f){const d=u.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),h=u.filter(w=>p.indexOf(w.presence_ref)<0),m=f.filter(w=>d.indexOf(w.presence_ref)<0);h.length>0&&(a[c]=h),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const f=e[a].map(p=>p.presence_ref),d=u.filter(p=>f.indexOf(p.presence_ref)<0);e[a].unshift(...d)}r(a,u,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var X3;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(X3||(X3={}));var z3;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(z3||(z3={}));var ss;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ss||(ss={}));class fx{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=gi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new em(this,so.join,this.params,this.timeout),this.rejoinTimer=new TS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gi.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=gi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(so.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new E0(this),this.broadcastEndpointURL=PS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(u=>e==null?void 0:e(ss.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(ss.CLOSED));const l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){e==null||e(ss.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,p=(f=d==null?void 0:d.length)!==null&&f!==void 0?f:0,h=[];for(let m=0;m<p;m++){const w=d[m],{filter:{event:x,schema:y,table:b,filter:E}}=w,O=u&&u[m];if(O&&O.event===x&&O.schema===y&&O.table===b&&O.filter===E)h.push(Object.assign(Object.assign({},w),{id:O.id}));else{this.unsubscribe(),e==null||e(ss.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,e&&e(ss.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(ss.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ss.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gi.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(so.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new em(this,so.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new em(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=so;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let d=this._onMessage(s,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var h,m,w;return((h=p.filter)===null||h===void 0?void 0:h.event)==="*"||((w=(m=p.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(p=>p.callback(d,r)):(o=this.bindings[s])===null||o===void 0||o.filter(p=>{var h,m,w,x,y,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const E=p.id,O=(h=p.filter)===null||h===void 0?void 0:h.event;return E&&((m=n.ids)===null||m===void 0?void 0:m.includes(E))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const E=(y=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return E==="*"||E===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof d=="object"&&"ids"in d){const h=d.data,{schema:m,table:w,commit_timestamp:x,type:y,errors:b}=h;d=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:x,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(h))}p.callback(d,r)})}_isClosed(){return this.state===gi.closed}_isJoined(){return this.state===gi.joined}_isJoining(){return this.state===gi.joining}_isLeaving(){return this.state===gi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&fx.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(so.close,{},e)}_onError(e){this._on(so.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=W3(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=W3(e.columns,e.old_record)),n}}const nV=()=>{},rV=typeof WebSocket<"u",iV=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class oV{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=zq,this.params={},this.timeout=RS,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=nV,this.conn=null,this.sendBuffer=[],this.serializer=new Jq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>Zc(async()=>{const{default:l}=await Promise.resolve().then(()=>wu);return{default:l}},void 0).then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${Gy.websocket}`,this.httpEndpoint=PS(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,s)=>s(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new TS(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(rV){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new sV(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Zc(async()=>{const{default:e}=await import("./browser-DjvZ1dLH.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qq}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ic.connecting:return ja.Connecting;case Ic.open:return ja.Open;case Ic.closing:return ja.Closing;default:return ja.Closed}}isConnected(){return this.connectionState()===ja.Open}channel(e,n={config:{}}){const r=new fx(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(so.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Vq,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:o,ref:s}=n;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(so.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([iV],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class sV{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ic.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class dx extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function gr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class aV extends dx{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Yy extends dx{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var lV=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const kS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zc(async()=>{const{default:r}=await Promise.resolve().then(()=>wu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},cV=()=>lV(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zc(()=>Promise.resolve().then(()=>wu),void 0)).Response:Response}),Zy=t=>{if(Array.isArray(t))return t.map(n=>Zy(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=Zy(r)}),e};var Tl=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const tm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uV=(t,e,n)=>Tl(void 0,void 0,void 0,function*(){const r=yield cV();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new aV(tm(i),t.status||500))}).catch(i=>{e(new Yy(tm(i),i))}):e(new Yy(tm(t),t))}),fV=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function jf(t,e,n,r,i,o){return Tl(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,fV(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>uV(l,a,r))})})}function cp(t,e,n,r){return Tl(this,void 0,void 0,function*(){return jf(t,"GET",e,n,r)})}function Js(t,e,n,r,i){return Tl(this,void 0,void 0,function*(){return jf(t,"POST",e,r,i,n)})}function dV(t,e,n,r,i){return Tl(this,void 0,void 0,function*(){return jf(t,"PUT",e,r,i,n)})}function hV(t,e,n,r){return Tl(this,void 0,void 0,function*(){return jf(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function IS(t,e,n,r,i){return Tl(this,void 0,void 0,function*(){return jf(t,"DELETE",e,r,i,n)})}var ri=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const pV={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},q3={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gV{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=kS(i)}uploadOrUpdate(e,n,r,i){return ri(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},q3),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:o,headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{})),d=yield f.json();return f.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(o){if(gr(o))return{data:null,error:o};throw o}})}upload(e,n,r){return ri(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ri(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:q3.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),d=yield f.json();return f.ok?{data:{path:o,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(gr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ri(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Js(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new dx("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(gr(r))return{data:null,error:r};throw r}})}update(e,n,r){return ri(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ri(this,void 0,void 0,function*(){try{return{data:yield Js(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(gr(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ri(this,void 0,void 0,function*(){try{return{data:{path:(yield Js(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(gr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ri(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Js(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(gr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ri(this,void 0,void 0,function*(){try{const i=yield Js(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(gr(i))return{data:null,error:i};throw i}})}download(e,n){return ri(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=o?`?${o}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield cp(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(gr(a))return{data:null,error:a};throw a}})}info(e){return ri(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield cp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Zy(r),error:null}}catch(r){if(gr(r))return{data:null,error:r};throw r}})}exists(e){return ri(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield hV(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(gr(r)&&r instanceof Yy){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return ri(this,void 0,void 0,function*(){try{return{data:yield IS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(gr(n))return{data:null,error:n};throw n}})}list(e,n,r){return ri(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},pV),n),{prefix:e||""});return{data:yield Js(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(gr(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const vV="2.7.1",mV={"X-Client-Info":`storage-js/${vV}`};var Yl=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class yV{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},mV),n),this.fetch=kS(r)}listBuckets(){return Yl(this,void 0,void 0,function*(){try{return{data:yield cp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(gr(e))return{data:null,error:e};throw e}})}getBucket(e){return Yl(this,void 0,void 0,function*(){try{return{data:yield cp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(gr(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Yl(this,void 0,void 0,function*(){try{return{data:yield Js(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(gr(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Yl(this,void 0,void 0,function*(){try{return{data:yield dV(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(gr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Yl(this,void 0,void 0,function*(){try{return{data:yield Js(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(gr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Yl(this,void 0,void 0,function*(){try{return{data:yield IS(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(gr(n))return{data:null,error:n};throw n}})}}class bV extends yV{constructor(e,n={},r){super(e,n,r)}from(e){return new gV(this.url,this.headers,e,this.fetch)}}const xV="2.47.10";let s0="";typeof Deno<"u"?s0="deno":typeof document<"u"?s0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?s0="react-native":s0="node";const wV={"X-Client-Info":`supabase-js-${s0}/${xV}`},_V={headers:wV},EV={schema:"public"},CV={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AV={};var SV=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const OV=t=>{let e;return t?e=t:typeof fetch>"u"?e=yS:e=fetch,(...n)=>e(...n)},DV=()=>typeof Headers>"u"?bS:Headers,RV=(t,e,n)=>{const r=OV(n),i=DV();return(o,s)=>SV(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var TV=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function NV(t){return t.replace(/\/$/,"")}function PV(t,e){const{db:n,auth:r,realtime:i,global:o}=t,{db:s,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),o),accessToken:()=>TV(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const MS="2.67.3",kV="http://localhost:9999",IV="supabase.auth.token",MV={"X-Client-Info":`gotrue-js/${MS}`},V3=10,e2="X-Supabase-Api-Version",BS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function BV(t){return Math.round(Date.now()/1e3)+t}function FV(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Co=()=>typeof window<"u"&&typeof document<"u",Ba={tested:!1,writable:!1},C0=()=>{if(!Co())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ba.tested)return Ba.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ba.tested=!0,Ba.writable=!0}catch{Ba.tested=!0,Ba.writable=!1}return Ba.writable};function LV(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const FS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zc(async()=>{const{default:r}=await Promise.resolve().then(()=>wu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},UV=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",LS=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Fd=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ld=async(t,e)=>{await t.removeItem(e)};function $V(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,o,s,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)s=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=s<<2|a>>4,i=(a&15)<<4|l>>2,o=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&i!=0&&(n=n+String.fromCharCode(i)),c!=64&&o!=0&&(n=n+String.fromCharCode(o));return n}class F1{constructor(){this.promise=new F1.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}F1.promiseConstructor=Promise;function J3(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse($V(r))}async function jV(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function KV(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await t(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})()})}function WV(t){return("0"+t.toString(16)).substr(-2)}function HV(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,WV).join("")}async function XV(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}function zV(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qV(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await XV(t);return zV(n)}async function Zl(t,e,n=!1){const r=HV();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await LS(t,`${e}-code-verifier`,i);const o=await qV(r);return[o,r===o?"plain":"s256"]}const VV=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function JV(t){const e=t.headers.get(e2);if(!e||!e.match(VV))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class hx extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Wt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class GV extends hx{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function QV(t){return Wt(t)&&t.name==="AuthApiError"}class US extends hx{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Nl extends hx{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Hs extends Nl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function YV(t){return Wt(t)&&t.name==="AuthSessionMissingError"}class nm extends Nl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ud extends Nl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $d extends Nl{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ZV(t){return Wt(t)&&t.name==="AuthImplicitGrantRedirectError"}class G3 extends Nl{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class t2 extends Nl{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function rm(t){return Wt(t)&&t.name==="AuthRetryableFetchError"}class Q3 extends Nl{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var eJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ua=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tJ=[502,503,504];async function Y3(t){var e;if(!UV(t))throw new t2(Ua(t),0);if(tJ.includes(t.status))throw new t2(Ua(t),t.status);let n;try{n=await t.json()}catch(o){throw new US(Ua(o),o)}let r;const i=JV(t);if(i&&i.getTime()>=BS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Q3(Ua(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Hs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Q3(Ua(n),t.status,n.weak_password.reasons);throw new GV(Ua(n),t.status||500,r)}const nJ=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function tn(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[e2]||(o[e2]=BS["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await rJ(t,e,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function rJ(t,e,n,r,i,o){const s=nJ(e,r,i,o);let a;try{a=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new t2(Ua(l),0)}if(a.ok||await Y3(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Y3(l)}}function Xs(t){var e;let n=null;aJ(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=BV(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Z3(t){const e=Xs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Zs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function iJ(t){return{data:t,error:null}}function oJ(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,s=eJ(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function sJ(t){return t}function aJ(t){return t.access_token&&t.refresh_token&&t.expires_in}var lJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class cJ{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=FS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await tn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await tn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zs})}catch(r){if(Wt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=lJ(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await tn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:oJ,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Wt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await tn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zs})}catch(n){if(Wt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,s,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await tn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:sJ});if(u.error)throw u.error;const f=await u.json(),d=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(h=>{const m=parseInt(h.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(h.split(";")[1].split("=")[1]);c[`${w}Page`]=m}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Wt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await tn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zs})}catch(n){if(Wt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await tn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Zs})}catch(r){if(Wt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await tn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zs})}catch(r){if(Wt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await tn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Wt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await tn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}}}const uJ={getItem:t=>C0()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{C0()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{C0()&&globalThis.localStorage.removeItem(t)}};function e5(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function fJ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ec={debug:!!(globalThis&&C0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $S extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class dJ extends $S{}async function hJ(t,e,n){ec.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ec.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ec.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ec.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ec.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new dJ(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ec.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}fJ();const pJ={url:kV,storageKey:IV,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:MV,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},qu=30*1e3,t5=3;async function n5(t,e,n){return await n()}class cf{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cf.nextInstanceID,cf.nextInstanceID+=1,this.instanceID>0&&Co()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},pJ),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new cJ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=FS(i.fetch),this.lock=i.lock||n5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Co()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=hJ:this.lock=n5,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:C0()?this.storage=uJ:(this.memoryStorage={},this.storage=e5(this.memoryStorage)):(this.memoryStorage={},this.storage=e5(this.memoryStorage)),Co()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${MS}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=LV(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Co()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),ZV(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Wt(n)?{error:n}:{error:new US("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await tn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Xs}),{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(Wt(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:u,password:f,options:d}=e;let p=null,h=null;this.flowType==="pkce"&&([p,h]=await Zl(this.storage,this.storageKey)),o=await tn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:h},xform:Xs})}else if("phone"in e){const{phone:u,password:f,options:d}=e;o=await tn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Xs})}else throw new Ud("You must provide either an email or phone number and a password");const{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(Wt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:s,options:a}=e;n=await tn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Z3})}else if("phone"in e){const{phone:o,password:s,options:a}=e;n=await tn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Z3})}else throw new Ud("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new nm}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Wt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Fd(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:s}=await tn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Xs});if(await Ld(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new nm}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(Wt(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:s}=e,a=await tn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xs}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new nm}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Wt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,o,s;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Zl(this.storage,this.storageKey));const{error:f}=await tn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await tn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Ud("You must provide either an email or phone number.")}catch(a){if(Wt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:a}=await tn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Xs});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Wt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let o=null,s=null;return this.flowType==="pkce"&&([o,s]=await Zl(this.storage,this.storageKey)),await tn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:iJ})}catch(o){if(Wt(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Hs;const{error:i}=await tn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Wt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:s}=await tn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:s,error:a}=await tn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a}}throw new Ud("You must provide either an email or phone number and a type")}catch(n){if(Wt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Fd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await tn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zs}):await this._useSession(async n=>{var r,i,o;const{data:s,error:a}=n;if(a)throw a;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hs}:await tn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Zs})})}catch(n){if(Wt(n))return YV(n)&&(await this._removeSession(),await Ld(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Hs;const s=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Zl(this.storage,this.storageKey));const{data:c,error:u}=await tn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:Zs});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(Wt(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return J3(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Hs;const n=Date.now()/1e3;let r=n,i=!0,o=null;const s=J3(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Wt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:a}=n;if(a)throw a;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Hs;const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Wt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Co())throw new $d("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $d(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new G3("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $d("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new G3("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!s||!c)throw new $d("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let d=u+f;l&&(d=parseInt(l));const p=d-u;p*1e3<=qu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const h=d-f;u-h>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",h,d,u):u-h<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",h,d,u);const{data:m,error:w}=await this._getUser(o);if(w)throw w;const x={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:d,refresh_token:s,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(r){if(Wt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Fd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:a}=await this.admin.signOut(s,e);if(a&&!(QV(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ld(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=FV(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Zl(this.storage,this.storageKey,!0));try{return await tn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Wt(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var s,a,l,c,u;const{data:f,error:d}=o;if(d)throw d;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await tn(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Co()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Wt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)throw s;return await tn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Wt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await KV(async i=>(i>0&&await jV(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await tn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xs})),(i,o)=>{const s=200*Math.pow(2,i);return o&&rm(o)&&Date.now()+s-r<qu})}catch(r){if(this._debug(n,"error",r),Wt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Co()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Fd(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),o=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+V3;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${V3}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),rm(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Hs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new F1;const{data:o,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!o.session)throw new Hs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),Wt(o)){const s={session:null,error:o};return rm(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(s),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await LS(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ld(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Co()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/qu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${qu}ms, refresh threshold is ${t5} ticks`),i<=t5&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $S)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Co()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,s]=await Zl(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await tn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Wt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await tn(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Wt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:s,error:a}=await tn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})})}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await tn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Wt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),o=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(i.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}cf.nextInstanceID=0;const gJ=cf;class vJ extends gJ{constructor(e){super(e)}}var mJ=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class yJ{constructor(e,n,r){var i,o,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=NV(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:EV,realtime:AV,auth:Object.assign(Object.assign({},CV),{storageKey:l}),global:_V},u=PV(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=RV(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Hq(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new xq(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new bV(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return mJ(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,u){var f;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vJ({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(e){return new oV(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bJ=(t,e,n)=>new yJ(t,e,n),yo=bJ("https://mdlorawrspaacqhvkzpz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1kbG9yYXdyc3BhYWNxaHZrenB6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzUzMDcwMDksImV4cCI6MjA1MDg4MzAwOX0.op36q5KCMPomwNDqcWKda3NsjZc-KnCwBG5Lom2XYHc");async function xJ(t){try{console.log("Calling Supabase getProjects with options:",t);let e=yo.from("projects").select("*").order("created_at",{ascending:!1});t!=null&&t.category&&(e=e.eq("category",t.category)),t!=null&&t.status&&(e=e.eq("status",t.status)),t!=null&&t.search&&(e=e.ilike("title",`%${t.search}%`));const{data:n,error:r}=await e;if(r)throw console.error("Supabase error:",r),r;return console.log("Supabase response:",n),n}catch(e){throw console.error("Error in getProjects:",e),e}}async function wJ(t){try{console.log("Calling Supabase getProjectById with id:",t);const{data:e,error:n}=await yo.from("projects").select(`
        *,
        milestones (*)
      `).eq("id",t).single();if(n)throw console.error("Supabase error:",n),n;return console.log("Supabase response:",e),e}catch(e){throw console.error("Error in getProjectById:",e),e}}async function _J(t){try{console.log("Calling Supabase getProjectMilestones with projectId:",t);const{data:e,error:n}=await yo.from("milestones").select("*").eq("project_id",t).order("percentage",{ascending:!0});if(n)throw console.error("Supabase error:",n),n;return console.log("Supabase response:",e),e}catch(e){throw console.error("Error in getProjectMilestones:",e),e}}async function EJ(t){try{console.log("Calling Supabase getProjectDonations with projectId:",t);const{data:e,error:n}=await yo.from("donations").select("*").eq("project_id",t).order("created_at",{ascending:!1});if(n)throw console.error("Supabase error:",n),n;return console.log("Supabase response:",e),e}catch(e){throw console.error("Error in getProjectDonations:",e),e}}async function CJ(t){try{console.log("Calling Supabase createProject with project:",t);const{data:e,error:n}=await yo.from("projects").insert([t]).select().single();if(n)throw console.error("Supabase error:",n),n;return console.log("Supabase response:",e),e}catch(e){throw console.error("Error in createProject:",e),e}}async function AJ(t){try{console.log("Calling Supabase createDonation with donation:",t);const{data:e,error:n}=await yo.from("donations").insert([t]).select().single();if(n)throw console.error("Supabase error:",n),n;return console.log("Supabase response:",e),e}catch(e){throw console.error("Error in createDonation:",e),e}}async function SJ(t,e){try{console.log("Calling Supabase updateProjectAmount with projectId and amount:",t,e);const{data:n,error:r}=await yo.from("projects").update({current_amount:e}).eq("id",t).select().single();if(r)throw console.error("Supabase error:",r),r;return console.log("Supabase response:",n),n}catch(n){throw console.error("Error in updateProjectAmount:",n),n}}async function OJ(t,e){try{console.log("Calling Supabase updateProjectStatus with projectId and status:",t,e);const{data:n,error:r}=await yo.from("projects").update({status:e}).eq("id",t).select().single();if(r)throw console.error("Supabase error:",r),r;return console.log("Supabase response:",n),n}catch(n){throw console.error("Error in updateProjectStatus:",n),n}}async function r5(t){try{console.log("Calling Supabase getProjectsByCreator with creatorAddress:",t);const{data:e,error:n}=await yo.from("projects").select(`
        *,
        milestones (*)
      `).eq("creator_address",t).order("created_at",{ascending:!1});if(n)throw console.error("Supabase error:",n),n;return console.log("Supabase response:",e),e}catch(e){throw console.error("Error in getProjectsByCreator:",e),e}}async function DJ(t){try{console.log("Calling Supabase getDonationsByDonor with donorAddress:",t);const{data:e,error:n}=await yo.from("donations").select(`
        *,
        project:projects (
          id,
          title,
          status,
          category,
          image_url
        )
      `).eq("donor_address",t).order("created_at",{ascending:!1});if(n)throw console.error("Supabase error:",n),n;return console.log("Supabase response:",e),e}catch(e){throw console.error("Error in getDonationsByDonor:",e),e}}const jS=(t,e)=>{if(e)return e;const n={EDUCATION:"https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=800",HEALTHCARE:"https://images.unsplash.com/photo-1584982751601-97dcc096659c?w=800",ENVIRONMENT:"https://images.unsplash.com/photo-1498925008800-019c7d59d903?w=800",TECHNOLOGY:"https://images.unsplash.com/photo-1518770660439-4636190af475?w=800",COMMUNITY:"https://images.unsplash.com/photo-1511632765486-a01980e01a18?w=800",ARTS:"https://images.unsplash.com/photo-1460661419201-fd4cecdf8a8b?w=800",DEFAULT:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?w=800"};return n[t]||n.DEFAULT},RJ=({project:t,onSync:e})=>{const{charityContract:n,signer:r}=Rl(),[i,o]=ee.useState(!1),s=async()=>{var a;if(!n||!r){alert("Please connect your wallet first");return}try{if(o(!0),t.chain_project_id){alert("Project already synced");return}const l=await n.getMinimumFee();console.log("Minimum fee:",ax(l));const c=await n.createProject(t.title,t.description,lx(t.target_amount.toString()),{value:l,gasLimit:5e5});console.log("Transaction sent:",c.hash);const u=await c.wait();console.log("Transaction confirmed:",u);const f=(a=u.events)==null?void 0:a.find(h=>h.event==="ProjectCreated");if(!f)throw new Error("ProjectCreated event not found");const d=f.args.projectId.toString();console.log("Chain project ID:",d);const{error:p}=await yo.from("projects").update({chain_project_id:d,minimum_fee_paid:!0}).eq("id",t.id);if(p)throw p;alert("Project synced successfully!"),e==null||e()}catch(l){console.error("Error syncing project:",l),alert("Failed to sync project. Please try again.")}finally{o(!1)}};return oe.jsx("button",{onClick:s,disabled:i||!!t.chain_project_id,className:`inline-flex items-center px-3 py-1 text-sm font-medium rounded-md ${t.chain_project_id?"bg-gray-100 text-gray-400 cursor-not-allowed":i?"bg-blue-100 text-blue-400":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:i?oe.jsxs(oe.Fragment,{children:[oe.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Syncing..."]}):t.chain_project_id?"Synced":"Sync to Chain"})},TJ=()=>{const{user:t}=Rl(),[e,n]=on.useState([]),[r,i]=on.useState(!0),[o,s]=on.useState(""),[a,l]=on.useState(""),c=["All","Education","Healthcare","Environment","Technology","Arts & Culture"],u=async()=>{try{console.log("Fetching projects with options:",{category:o,search:a});const d=await xJ({category:o,search:a||void 0});console.log("Fetched projects:",d),n(d)}catch(d){console.error("Error fetching projects:",d)}finally{i(!1)}};on.useEffect(()=>{u()},[o,a]);const f=d=>d.current_amount/d.target_amount*100;return r?oe.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:oe.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):oe.jsx("div",{className:"max-w-7xl mx-auto",children:oe.jsxs("div",{className:"mb-8",children:[oe.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-8 mb-8 text-white",children:[oe.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Make a Difference Today"}),oe.jsx("p",{className:"text-lg mb-6",children:"Support meaningful projects and track their progress through milestones."}),t!=null&&t.loggedIn?oe.jsx(oi,{to:"/create",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-blue-600 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Start a Project"}):oe.jsx("button",{className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-blue-600 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>alert("Please connect your wallet first"),children:"Connect Wallet to Start"})]}),oe.jsx("div",{className:"mb-8",children:oe.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[oe.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(d=>oe.jsx("button",{onClick:()=>s(d==="All"?"":d),className:`px-4 py-2 rounded-full text-sm font-medium ${d==="All"&&!o||d===o?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:d},d))}),oe.jsx("div",{className:"w-full sm:w-auto",children:oe.jsx("input",{type:"text",placeholder:"Search projects...",value:a,onChange:d=>l(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})})]})}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(d=>oe.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[oe.jsxs("div",{className:"relative h-48",children:[oe.jsx("img",{src:jS(d.category,d.image_url),alt:d.title,className:"w-full h-full object-cover"}),oe.jsx("div",{className:"absolute top-0 right-0 mt-2 mr-2",children:oe.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:d.category})})]}),oe.jsxs("div",{className:"p-6",children:[oe.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:d.title}),oe.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:d.description}),oe.jsxs("div",{className:"mb-4",children:[oe.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[oe.jsx("span",{children:"Progress"}),oe.jsxs("span",{children:[d.current_amount," / ",d.target_amount," FLOW"]})]}),oe.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:oe.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${f(d)}%`}})})]}),oe.jsxs("div",{className:"flex justify-between items-center mt-4",children:[oe.jsx(oi,{to:`/project/${d.id}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details →"}),oe.jsx(RJ,{project:d,onSync:()=>u()})]})]})]},d.id)),e.length===0&&oe.jsx("div",{className:"col-span-full text-center text-gray-500 py-12",children:"No projects found matching your criteria"})]})]})})},NJ=()=>{const t=cb(),{connected:e,walletAddress:n,charityContract:r}=Rl(),[i,o]=ee.useState(""),[s,a]=ee.useState(""),[l,c]=ee.useState(""),[u,f]=ee.useState("Education"),[d,p]=ee.useState(""),[h,m]=ee.useState(!1);ee.useEffect(()=>{e||t("/")},[e,t]);const w=["Education","Healthcare","Environment","Technology","Arts & Culture"],x=async y=>{var b;if(y.preventDefault(),!e||!n||!r){alert("Please connect your wallet first");return}try{m(!0);const E=await r.getMinimumFee();console.log("Minimum fee:",ax(E),"ETH");const N=await(await r.createProject(i,s,lx(l),{value:E,gasLimit:5e5})).wait();console.log("Transaction receipt:",N);const R=(b=N.events)==null?void 0:b.find(W=>W.event==="ProjectCreated");if(!R)throw new Error("Failed to get project ID from transaction");const L=R.args.projectId.toNumber();console.log("Created project ID:",L),await CJ({title:i,description:s,target_amount:parseFloat(l),category:u,image_url:d,creator_address:n,status:"ACTIVE",chain_project_id:L,minimum_fee_paid:!0}),t("/dashboard")}catch(E){console.error("Error creating project:",E),E.data&&console.error("Error data:",E.data),alert(E.message||"Failed to create project. Please try again.")}finally{m(!1)}};return oe.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[oe.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Create New Project"}),e?oe.jsxs("form",{onSubmit:x,className:"space-y-6",children:[oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Project Title"}),oe.jsx("input",{type:"text",id:"title",value:i,onChange:y=>o(y.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),oe.jsx("textarea",{id:"description",value:s,onChange:y=>a(y.target.value),required:!0,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"targetAmount",className:"block text-sm font-medium text-gray-700",children:"Target Amount (FLOW)"}),oe.jsx("input",{type:"number",step:"0.01",min:"0",id:"targetAmount",value:l,onChange:y=>c(y.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),oe.jsx("select",{id:"category",value:u,onChange:y=>f(y.target.value),required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:w.map(y=>oe.jsx("option",{value:y,children:y},y))})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700",children:"Image URL"}),oe.jsx("input",{type:"url",id:"imageUrl",value:d,onChange:y=>p(y.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),oe.jsxs("div",{className:"flex justify-end space-x-3",children:[oe.jsx("button",{type:"button",onClick:()=>t("/"),className:"px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),oe.jsx("button",{type:"submit",disabled:h,className:"inline-flex justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400",children:h?"Creating Project...":"Create Project"})]})]}):oe.jsxs("div",{className:"text-center py-8",children:[oe.jsx("p",{className:"text-gray-600 mb-4",children:"Please connect your wallet to create a project"}),oe.jsx("button",{onClick:()=>t("/"),className:"inline-flex justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Connect Wallet"})]})]})},PJ=({projectId:t})=>{const[e,n]=on.useState([]),[r,i]=on.useState(!0);return on.useEffect(()=>{(async()=>{try{const s=await EJ(t);n(s)}catch(s){console.error("Error fetching donations:",s)}finally{i(!1)}})()},[t]),r?oe.jsx("div",{className:"flex justify-center items-center h-32",children:oe.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.length===0?oe.jsx("div",{className:"text-center py-8 text-gray-500",children:"No donations yet. Be the first to donate!"}):oe.jsxs("div",{className:"space-y-4",children:[oe.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Donations"}),oe.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg",children:oe.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[oe.jsx("thead",{className:"bg-gray-50",children:oe.jsxs("tr",{children:[oe.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Donor"}),oe.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Amount"}),oe.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Date"}),oe.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Transaction"})]})}),oe.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:e.map(o=>oe.jsxs("tr",{children:[oe.jsxs("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:[o.donor_address.slice(0,8),"...",o.donor_address.slice(-4)]}),oe.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:[o.amount," FLOW"]}),oe.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:new Date(o.created_at).toLocaleDateString()}),oe.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:oe.jsx("a",{href:`https://testnet.flowscan.org/transaction/${o.transaction_id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"View"})})]},o.id))})]})})]})},kJ=()=>{const{id:t}=TD(),{user:e,charityContract:n,signer:r}=Rl(),[i,o]=on.useState(null),[s,a]=on.useState([]),[l,c]=on.useState(!0),[u,f]=on.useState(""),d=async()=>{try{if(!t)return;const w=await wJ(parseInt(t));if(!w)return;o(w);const x=await _J(parseInt(t));a(x)}catch(w){console.error("Error fetching project:",w)}finally{c(!1)}};on.useEffect(()=>{d()},[t]);const p=async w=>{if(w.preventDefault(),!(e!=null&&e.addr)||!n||!r){alert("Please connect your wallet first");return}if(!i){alert("Project not found");return}if(!u||parseFloat(u)<=0){alert("Please enter a valid donation amount");return}try{const x=lx(u);console.log("Donating amount in wei:",x.toString());const y=await n.donate(i.chain_project_id,{value:x,gasLimit:5e5});console.log("Transaction sent:",y.hash);const b=await y.wait();console.log("Transaction confirmed:",b),await AJ({project_id:parseInt(t),donor_address:e.addr,amount:parseFloat(u),transaction_id:y.hash});const E=i.current_amount+parseFloat(u);await SJ(parseInt(t),E),d(),f(""),alert("Donation successful!")}catch(x){console.error("Error donating:",x),alert("Failed to donate. Please try again.")}};if(l)return oe.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:oe.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!i)return oe.jsx("div",{className:"max-w-4xl mx-auto py-12 px-4",children:oe.jsxs("div",{className:"text-center",children:[oe.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Project Not Found"}),oe.jsx("p",{className:"text-gray-600 mb-8",children:"The project you're looking for doesn't exist or has been removed."}),oe.jsx(oi,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Back to Projects"})]})});const h=()=>i.current_amount/i.target_amount*100,m=()=>{const w=h();return s.find(x=>w<x.percentage)||s[s.length-1]};return oe.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4",children:oe.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[oe.jsxs("div",{className:"relative h-96",children:[oe.jsx("img",{src:jS(i.category,i.image_url),alt:i.title,className:"w-full h-full object-cover"}),oe.jsxs("div",{className:"absolute top-0 right-0 mt-4 mr-4 flex gap-2",children:[oe.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:i.category}),oe.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${i.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i.status})]})]}),oe.jsxs("div",{className:"p-8",children:[oe.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:i.title}),oe.jsxs("div",{className:"mb-8",children:[oe.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[oe.jsx("span",{children:"Progress"}),oe.jsxs("span",{children:[i.current_amount," / ",i.target_amount," "]})]}),oe.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:oe.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${h()}%`}})})]}),oe.jsxs("div",{className:"prose max-w-none mb-8",children:[oe.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"About This Project"}),oe.jsx("p",{className:"text-gray-600",children:i.description})]}),oe.jsxs("div",{className:"mb-8",children:[oe.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Milestones"}),oe.jsx("div",{className:"space-y-4",children:s.map((w,x)=>{const y=m(),b=w.id===(y==null?void 0:y.id);return oe.jsxs("div",{className:`p-4 rounded-lg border ${b?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:[oe.jsxs("div",{className:"flex justify-between items-center mb-2",children:[oe.jsxs("h3",{className:"font-medium text-gray-900",children:["Milestone ",x+1,": ",w.percentage,"%"]}),oe.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w.status==="COMPLETED"?"bg-green-100 text-green-800":w.status==="ACTIVE"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:w.status})]}),oe.jsx("p",{className:"text-gray-600 text-sm mb-2",children:w.description}),oe.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[oe.jsxs("span",{children:["Required: ",w.required_amount," FLOW"]}),oe.jsxs("span",{children:["Current: ",w.current_amount," FLOW"]})]})]},w.id)})})]}),i.status==="ACTIVE"&&oe.jsxs("div",{className:"border-t pt-8",children:[oe.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Make a Donation"}),e!=null&&e.loggedIn?oe.jsxs("form",{onSubmit:p,className:"space-y-4",children:[oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Amount (FLOW)"}),oe.jsx("div",{className:"mt-1",children:oe.jsx("input",{type:"number",name:"amount",id:"amount",step:"0.01",min:"0",value:u,onChange:w=>f(w.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Enter amount"})})]}),oe.jsx("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Donate Now"})]}):oe.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[oe.jsx("p",{className:"text-gray-600 mb-4",children:"Please connect your wallet to make a donation"}),oe.jsx("button",{onClick:()=>alert("Please connect your wallet first"),className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Connect Wallet"})]})]}),oe.jsx("div",{className:"border-t pt-8 mt-8",children:oe.jsx(PJ,{projectId:parseInt(t)})})]})]})})},KS=typeof document<"u"?on.useLayoutEffect:()=>{};function IJ(t){const e=ee.useRef(null);return KS(()=>{e.current=t},[t]),ee.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const Kf=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Ga=t=>t&&"window"in t&&t.window===t?t:Kf(t).defaultView||window;function MJ(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function BJ(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function WS(t){let e=null;return()=>(e==null&&(e=t()),e)}const FJ=WS(function(){return BJ(/^Mac/i)}),LJ=WS(function(){return MJ(/Android/i)});function UJ(t){return t.mozInputSource===0&&t.isTrusted?!0:LJ()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}class $J{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=e}}function HS(t){let e=ee.useRef({isFocused:!1,observer:null});KS(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=IJ(r=>{t==null||t(r)});return ee.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,o=s=>{e.current.isFocused=!1,i.disabled&&n(new $J("blur",s)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var s;(s=e.current.observer)===null||s===void 0||s.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function jJ(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const o=ee.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),s=HS(o),a=ee.useCallback(l=>{const c=Kf(l.target);l.target===l.currentTarget&&c.activeElement===l.target&&(n&&n(l),i&&i(!0),s(l))},[i,n,s]);return{focusProps:{onFocus:!e&&(n||i||r)?a:void 0,onBlur:!e&&(r||i)?o:void 0}}}let Wf=null,n2=new Set,A0=new Map,dl=!1,r2=!1;const KJ={Tab:!0,Escape:!0};function px(t,e){for(let n of n2)n(t,e)}function WJ(t){return!(t.metaKey||!FJ()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function up(t){dl=!0,WJ(t)&&(Wf="keyboard",px("keyboard",t))}function Bi(t){Wf="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(dl=!0,px("pointer",t))}function XS(t){UJ(t)&&(dl=!0,Wf="virtual")}function zS(t){t.target===window||t.target===document||(!dl&&!r2&&(Wf="virtual",px("virtual",t)),dl=!1,r2=!1)}function qS(){dl=!1,r2=!0}function i2(t){if(typeof window>"u"||A0.get(Ga(t)))return;const e=Ga(t),n=Kf(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){dl=!0,r.apply(this,arguments)},n.addEventListener("keydown",up,!0),n.addEventListener("keyup",up,!0),n.addEventListener("click",XS,!0),e.addEventListener("focus",zS,!0),e.addEventListener("blur",qS,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",Bi,!0),n.addEventListener("pointermove",Bi,!0),n.addEventListener("pointerup",Bi,!0)):(n.addEventListener("mousedown",Bi,!0),n.addEventListener("mousemove",Bi,!0),n.addEventListener("mouseup",Bi,!0)),e.addEventListener("beforeunload",()=>{VS(t)},{once:!0}),A0.set(e,{focus:r})}const VS=(t,e)=>{const n=Ga(t),r=Kf(t);e&&r.removeEventListener("DOMContentLoaded",e),A0.has(n)&&(n.HTMLElement.prototype.focus=A0.get(n).focus,r.removeEventListener("keydown",up,!0),r.removeEventListener("keyup",up,!0),r.removeEventListener("click",XS,!0),n.removeEventListener("focus",zS,!0),n.removeEventListener("blur",qS,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",Bi,!0),r.removeEventListener("pointermove",Bi,!0),r.removeEventListener("pointerup",Bi,!0)):(r.removeEventListener("mousedown",Bi,!0),r.removeEventListener("mousemove",Bi,!0),r.removeEventListener("mouseup",Bi,!0)),A0.delete(n))};function HJ(t){const e=Kf(t);let n;return e.readyState!=="loading"?i2(t):(n=()=>{i2(t)},e.addEventListener("DOMContentLoaded",n)),()=>VS(t,n)}typeof document<"u"&&HJ();function JS(){return Wf!=="pointer"}const XJ=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function zJ(t,e,n){var r;const i=typeof window<"u"?Ga(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?Ga(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?Ga(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?Ga(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||(n==null?void 0:n.target)instanceof i&&!XJ.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof o||(n==null?void 0:n.target)instanceof s&&(n==null?void 0:n.target.isContentEditable),!(t&&e==="keyboard"&&n instanceof a&&!KJ[n.key])}function qJ(t,e,n){i2(),ee.useEffect(()=>{let r=(i,o)=>{zJ(!!(n!=null&&n.isTextInput),i,o)&&t(JS())};return n2.add(r),()=>{n2.delete(r)}},e)}function VJ(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,o=ee.useRef({isFocusWithin:!1}),s=ee.useCallback(c=>{o.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(c),i&&i(!1))},[n,i,o]),a=HS(s),l=ee.useCallback(c=>{!o.current.isFocusWithin&&document.activeElement===c.target&&(r&&r(c),i&&i(!0),o.current.isFocusWithin=!0,a(c))},[r,i,a]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:s}}}let fp=!1,im=0;function o2(){fp=!0,setTimeout(()=>{fp=!1},50)}function i5(t){t.pointerType==="touch"&&o2()}function JJ(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",i5):document.addEventListener("touchend",o2),im++,()=>{im--,!(im>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",i5):document.removeEventListener("touchend",o2))}}function GJ(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[o,s]=ee.useState(!1),a=ee.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;ee.useEffect(JJ,[]);let{hoverProps:l,triggerHoverEnd:c}=ee.useMemo(()=>{let u=(p,h)=>{if(a.pointerType=h,i||h==="touch"||a.isHovered||!p.currentTarget.contains(p.target))return;a.isHovered=!0;let m=p.currentTarget;a.target=m,e&&e({type:"hoverstart",target:m,pointerType:h}),n&&n(!0),s(!0)},f=(p,h)=>{if(a.pointerType="",a.target=null,h==="touch"||!a.isHovered)return;a.isHovered=!1;let m=p.currentTarget;r&&r({type:"hoverend",target:m,pointerType:h}),n&&n(!1),s(!1)},d={};return typeof PointerEvent<"u"?(d.onPointerEnter=p=>{fp&&p.pointerType==="mouse"||u(p,p.pointerType)},d.onPointerLeave=p=>{!i&&p.currentTarget.contains(p.target)&&f(p,p.pointerType)}):(d.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},d.onMouseEnter=p=>{!a.ignoreEmulatedMouseEvents&&!fp&&u(p,"mouse"),a.ignoreEmulatedMouseEvents=!1},d.onMouseLeave=p=>{!i&&p.currentTarget.contains(p.target)&&f(p,"mouse")}),{hoverProps:d,triggerHoverEnd:f}},[e,n,r,i,a]);return ee.useEffect(()=>{i&&c({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:o}}function QJ(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=ee.useRef({isFocused:!1,isFocusVisible:e||JS()}),[o,s]=ee.useState(!1),[a,l]=ee.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=ee.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),u=ee.useCallback(p=>{i.current.isFocused=p,s(p),c()},[c]);qJ(p=>{i.current.isFocusVisible=p,c()},[],{isTextInput:n});let{focusProps:f}=jJ({isDisabled:r,onFocusChange:u}),{focusWithinProps:d}=VJ({isDisabled:!r,onFocusWithinChange:u});return{isFocused:o,isFocusVisible:a,focusProps:r?d:f}}var YJ=Object.defineProperty,ZJ=(t,e,n)=>e in t?YJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,om=(t,e,n)=>(ZJ(t,typeof e!="symbol"?e+"":e,n),n);let eG=class{constructor(){om(this,"current",this.detect()),om(this,"handoffState","pending"),om(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},tl=new eG;function Eu(t){return tl.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function GS(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Vo(){let t=[],e={addEventListener(n,r,i,o){return n.addEventListener(r,i,o),e.add(()=>n.removeEventListener(r,i,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return GS(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=Vo();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function L1(){let[t]=ee.useState(Vo);return ee.useEffect(()=>()=>t.dispose(),[t]),t}let ir=(t,e)=>{tl.isServer?ee.useEffect(t,e):ee.useLayoutEffect(t,e)};function Hf(t){let e=ee.useRef(t);return ir(()=>{e.current=t},[t]),e}let Nn=function(t){let e=Hf(t);return on.useCallback((...n)=>e.current(...n),[e])};function tG(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function nG(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function rG({disabled:t=!1}={}){let e=ee.useRef(null),[n,r]=ee.useState(!1),i=L1(),o=Nn(()=>{e.current=null,r(!1),i.dispose()}),s=Nn(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let l=Eu(a.currentTarget);i.addEventListener(l,"pointerup",o,!1),i.addEventListener(l,"pointermove",c=>{if(e.current){let u=tG(c);r(nG(u,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",o,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:s,onPointerUp:o,onClick:o}}}let iG=ee.createContext(void 0);function QS(){return ee.useContext(iG)}function o5(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Xf(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Xf),r}var s2=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(s2||{}),oG=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(oG||{});function Vi(){let t=aG();return ee.useCallback(e=>sG({mergeRefs:t,...e}),[t])}function sG({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:o=!0,name:s,mergeRefs:a}){a=a??lG;let l=YS(e,t);if(o)return jd(l,n,r,s,a);let c=i??0;if(c&2){let{static:u=!1,...f}=l;if(u)return jd(f,n,r,s,a)}if(c&1){let{unmount:u=!0,...f}=l;return Xf(u?0:1,{0(){return null},1(){return jd({...f,hidden:!0,style:{display:"none"}},n,r,s,a)}})}return jd(l,n,r,s,a)}function jd(t,e={},n,r,i){let{as:o=n,children:s,refName:a="ref",...l}=sm(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},u=typeof s=="function"?s(e):s;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let f={};if(e){let d=!1,p=[];for(let[h,m]of Object.entries(e))typeof m=="boolean"&&(d=!0),m===!0&&p.push(h.replace(/([A-Z])/g,w=>`-${w.toLowerCase()}`));if(d){f["data-headlessui-state"]=p.join(" ");for(let h of p)f[`data-${h}`]=""}}if(o===ee.Fragment&&(Object.keys(tc(l)).length>0||Object.keys(tc(f)).length>0))if(!ee.isValidElement(u)||Array.isArray(u)&&u.length>1){if(Object.keys(tc(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(tc(l)).concat(Object.keys(tc(f))).map(d=>`  - ${d}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(d=>`  - ${d}`).join(`
`)].join(`
`))}else{let d=u.props,p=d==null?void 0:d.className,h=typeof p=="function"?(...x)=>o5(p(...x),l.className):o5(p,l.className),m=h?{className:h}:{},w=YS(u.props,tc(sm(l,["ref"])));for(let x in f)x in w&&delete f[x];return ee.cloneElement(u,Object.assign({},w,f,c,{ref:i(cG(u),c.ref)},m))}return ee.createElement(o,Object.assign({},sm(l,["ref"]),o!==ee.Fragment&&c,o!==ee.Fragment&&f),u)}function aG(){let t=ee.useRef([]),e=ee.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function lG(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function YS(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var o;return(o=i==null?void 0:i.preventDefault)==null?void 0:o.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...o){let s=n[r];for(let a of s){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...o)}}});return e}function ZS(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let o=n[r];for(let s of o)s==null||s(...i)}});return e}function Ji(t){var e;return Object.assign(ee.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function tc(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function sm(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function cG(t){return on.version.split(".")[0]>="19"?t.props.ref:t.ref}let uG=ee.createContext(void 0);function fG(){return ee.useContext(uG)}function dG(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&hG(n)?!1:r}function hG(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let eO=Symbol();function pG(t,e=!0){return Object.assign(t,{[eO]:e})}function Bs(...t){let e=ee.useRef(t);ee.useEffect(()=>{e.current=t},[t]);let n=Nn(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[eO]))?void 0:n}let gx=ee.createContext(null);gx.displayName="DescriptionContext";function tO(){let t=ee.useContext(gx);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,tO),e}return t}function gG(){let[t,e]=ee.useState([]);return[t.length>0?t.join(" "):void 0,ee.useMemo(()=>function(n){let r=Nn(o=>(e(s=>[...s,o]),()=>e(s=>{let a=s.slice(),l=a.indexOf(o);return l!==-1&&a.splice(l,1),a}))),i=ee.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return on.createElement(gx.Provider,{value:i},n.children)},[e])]}let vG="p";function mG(t,e){let n=ee.useId(),r=QS(),{id:i=`headlessui-description-${n}`,...o}=t,s=tO(),a=Bs(e);ir(()=>s.register(i),[i,s.register]);let l=r||!1,c=ee.useMemo(()=>({...s.slot,disabled:l}),[s.slot,l]),u={ref:a,...s.props,id:i};return Vi()({ourProps:u,theirProps:o,slot:c,defaultTag:vG,name:s.name||"Description"})}let yG=Ji(mG);Object.assign(yG,{});var Sr=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Sr||{});let U1=ee.createContext(null);U1.displayName="LabelContext";function vx(){let t=ee.useContext(U1);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,vx),e}return t}function bG(t){var e,n,r;let i=(n=(e=ee.useContext(U1))==null?void 0:e.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function nO({inherit:t=!1}={}){let e=bG(),[n,r]=ee.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,ee.useMemo(()=>function(o){let s=Nn(l=>(r(c=>[...c,l]),()=>r(c=>{let u=c.slice(),f=u.indexOf(l);return f!==-1&&u.splice(f,1),u}))),a=ee.useMemo(()=>({register:s,slot:o.slot,name:o.name,props:o.props,value:o.value}),[s,o.slot,o.name,o.props,o.value]);return on.createElement(U1.Provider,{value:a},o.children)},[r])]}let xG="label";function wG(t,e){var n;let r=ee.useId(),i=vx(),o=fG(),s=QS(),{id:a=`headlessui-label-${r}`,htmlFor:l=o??((n=i.props)==null?void 0:n.htmlFor),passive:c=!1,...u}=t,f=Bs(e);ir(()=>i.register(a),[a,i.register]);let d=Nn(w=>{let x=w.currentTarget;if(x instanceof HTMLLabelElement&&w.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(w),x instanceof HTMLLabelElement){let y=document.getElementById(x.htmlFor);if(y){let b=y.getAttribute("disabled");if(b==="true"||b==="")return;let E=y.getAttribute("aria-disabled");if(E==="true"||E==="")return;(y instanceof HTMLInputElement&&(y.type==="radio"||y.type==="checkbox")||y.role==="radio"||y.role==="checkbox"||y.role==="switch")&&y.click(),y.focus({preventScroll:!0})}}}),p=s||!1,h=ee.useMemo(()=>({...i.slot,disabled:p}),[i.slot,p]),m={ref:f,...i.props,id:a,htmlFor:l,onClick:d};return c&&("onClick"in m&&(delete m.htmlFor,delete m.onClick),"onClick"in u&&delete u.onClick),Vi()({ourProps:m,theirProps:u,slot:h,defaultTag:l?xG:"div",name:i.name||"Label"})}let _G=Ji(wG);Object.assign(_G,{});function EG(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function CG(t,e=!1){let[n,r]=ee.useReducer(()=>({}),{}),i=ee.useMemo(()=>EG(t),[t,n]);return ir(()=>{if(!t)return;let o=new ResizeObserver(r);return o.observe(t),()=>{o.disconnect()}},[t]),e?{width:`${i.width}px`,height:`${i.height}px`}:i}let AG=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function rO(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let s=e[i].call(n,...o);s&&(n=s,r.forEach(a=>a()))}}}function iO(t){return ee.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let SG=new AG(()=>rO(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function mx(t,e){let n=SG.get(e),r=ee.useId(),i=iO(n);if(ir(()=>{if(t)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,t]),!t)return!1;let o=i.indexOf(r),s=i.length;return o===-1&&(o=s,s+=1),o===s-1}let a2=new Map,S0=new Map;function s5(t){var e;let n=(e=S0.get(t))!=null?e:0;return S0.set(t,n+1),n!==0?()=>a5(t):(a2.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>a5(t))}function a5(t){var e;let n=(e=S0.get(t))!=null?e:1;if(n===1?S0.delete(t):S0.set(t,n-1),n!==1)return;let r=a2.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,a2.delete(t))}function OG(t,{allowed:e,disallowed:n}={}){let r=mx(t,"inert-others");ir(()=>{var i,o;if(!r)return;let s=Vo();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&s.add(s5(l));let a=(o=e==null?void 0:e())!=null?o:[];for(let l of a){if(!l)continue;let c=Eu(l);if(!c)continue;let u=l.parentElement;for(;u&&u!==c.body;){for(let f of u.children)a.some(d=>f.contains(d))||s.add(s5(f));u=u.parentElement}}return s.dispose},[r,e,n])}function DG(t,e,n){let r=Hf(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});ee.useEffect(()=>{if(!t)return;let i=e===null?null:e instanceof HTMLElement?e:e.current;if(!i)return;let o=Vo();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}return()=>o.dispose()},[e,r,t])}let l2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),RG=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var c2=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(c2||{}),TG=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(TG||{}),NG=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(NG||{});function oO(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(l2)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function PG(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(RG)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var yx=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(yx||{});function bx(t,e=0){var n;return t===((n=Eu(t))==null?void 0:n.body)?!1:Xf(e,{0(){return t.matches(l2)},1(){let r=t;for(;r!==null;){if(r.matches(l2))return!0;r=r.parentElement}return!1}})}function sO(t){let e=Eu(t);Vo().nextFrame(()=>{e&&!bx(e.activeElement,0)&&IG(t)})}var kG=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(kG||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function IG(t){t==null||t.focus({preventScroll:!0})}let MG=["textarea","input"].join(",");function BG(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,MG))!=null?n:!1}function aO(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),o=e(r);if(i===null||o===null)return 0;let s=i.compareDocumentPosition(o);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function FG(t,e){return LG(oO(),e,{relativeTo:t})}function LG(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,s=Array.isArray(t)?n?aO(t):t:e&64?PG(t):oO(t);i.length>0&&s.length>1&&(s=s.filter(p=>!i.some(h=>h!=null&&"current"in h?(h==null?void 0:h.current)===p:h===p))),r=r??o.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,s.indexOf(r))-1;if(e&4)return Math.max(0,s.indexOf(r))+1;if(e&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,f=s.length,d;do{if(u>=f||u+f<=0)return 0;let p=l+u;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}d=s[p],d==null||d.focus(c),u+=a}while(d!==o.activeElement);return e&6&&BG(d)&&d.select(),2}function lO(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function UG(){return/Android/gi.test(window.navigator.userAgent)}function $G(){return lO()||UG()}function Vu(t,e,n,r){let i=Hf(n);ee.useEffect(()=>{if(!t)return;function o(s){i.current(s)}return document.addEventListener(e,o,r),()=>document.removeEventListener(e,o,r)},[t,e,r])}function jG(t,e,n,r){let i=Hf(n);ee.useEffect(()=>{if(!t)return;function o(s){i.current(s)}return window.addEventListener(e,o,r),()=>window.removeEventListener(e,o,r)},[t,e,r])}const l5=30;function KG(t,e,n){let r=mx(t,"outside-click"),i=Hf(n),o=ee.useCallback(function(l,c){if(l.defaultPrevented)return;let u=c(l);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let f=function d(p){return typeof p=="function"?d(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let d of f)if(d!==null&&(d.contains(u)||l.composed&&l.composedPath().includes(d)))return;return!bx(u,yx.Loose)&&u.tabIndex!==-1&&l.preventDefault(),i.current(l,u)},[i,e]),s=ee.useRef(null);Vu(r,"pointerdown",l=>{var c,u;s.current=((u=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:u[0])||l.target},!0),Vu(r,"mousedown",l=>{var c,u;s.current=((u=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:u[0])||l.target},!0),Vu(r,"click",l=>{$G()||s.current&&(o(l,()=>s.current),s.current=null)},!0);let a=ee.useRef({x:0,y:0});Vu(r,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),Vu(r,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-a.current.x)>=l5||Math.abs(c.y-a.current.y)>=l5))return o(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),jG(r,"blur",l=>o(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function xx(...t){return ee.useMemo(()=>Eu(...t),[...t])}function WG(t,e){return ee.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function HG(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,t-i);n.style(r,"paddingRight",`${o}px`)}}}function XG(){return lO()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Vo();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);u&&!r(u)&&(s=u)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;o!==l&&window.scrollTo(0,o),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function zG(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function qG(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Qa=rO(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Vo(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:qG(n)},i=[XG(),HG(),zG()];i.forEach(({before:o})=>o==null?void 0:o(r)),i.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Qa.subscribe(()=>{let t=Qa.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Qa.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Qa.dispatch("TEARDOWN",n)}});function VG(t,e,n=()=>({containers:[]})){let r=iO(Qa),i=e?r.get(e):void 0,o=i?i.count>0:!1;return ir(()=>{if(!(!e||!t))return Qa.dispatch("PUSH",e,n),()=>Qa.dispatch("POP",e,n)},[t,e]),o}function JG(t,e,n=()=>[document.body]){let r=mx(t,"scroll-lock");VG(r,e,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function c5(t){return[t.screenX,t.screenY]}function GG(){let t=ee.useRef([-1,-1]);return{wasMoved(e){let n=c5(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=c5(e)}}}function QG(t=0){let[e,n]=ee.useState(t),r=ee.useCallback(l=>n(l),[e]),i=ee.useCallback(l=>n(c=>c|l),[e]),o=ee.useCallback(l=>(e&l)===l,[e]),s=ee.useCallback(l=>n(c=>c&~l),[n]),a=ee.useCallback(l=>n(c=>c^l),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:o,removeFlag:s,toggleFlag:a}}var YG={},u5,f5;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((u5=process==null?void 0:YG)==null?void 0:u5.NODE_ENV)==="test"&&typeof((f5=Element==null?void 0:Element.prototype)==null?void 0:f5.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var ZG=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(ZG||{});function eQ(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function tQ(t,e,n,r){let[i,o]=ee.useState(n),{hasFlag:s,addFlag:a,removeFlag:l}=QG(t&&i?3:0),c=ee.useRef(!1),u=ee.useRef(!1),f=L1();return ir(()=>{var d;if(t){if(n&&o(!0),!e){n&&a(3);return}return(d=void 0)==null||d.call(r,n),nQ(e,{inFlight:c,prepare(){u.current?u.current=!1:u.current=c.current,c.current=!0,!u.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){u.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var p;u.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(c.current=!1,l(7),n||o(!1),(p=void 0)==null||p.call(r,n))}})}},[t,n,e,f]),t?[i,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function nQ(t,{prepare:e,run:n,done:r,inFlight:i}){let o=Vo();return iQ(t,{prepare:e,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(rQ(t,r))})}),o.dispose}function rQ(t,e){var n,r;let i=Vo();if(!t)return i.dispose;let o=!1;i.add(()=>{o=!0});let s=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return s.length===0?(e(),i.dispose):(Promise.allSettled(s.map(a=>a.finished)).then(()=>{o||e()}),i.dispose)}function iQ(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function oQ(t,{container:e,accept:n,walk:r}){let i=ee.useRef(n),o=ee.useRef(r);ee.useEffect(()=>{i.current=n,o.current=r},[n,r]),ir(()=>{if(!e||!t)return;let s=Eu(e);if(!s)return;let a=i.current,l=o.current,c=Object.assign(f=>a(f),{acceptNode:a}),u=s.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)l(u.currentNode)},[e,t,i,o])}function $1(){return typeof window<"u"}function Cu(t){return cO(t)?(t.nodeName||"").toLowerCase():"#document"}function Ci(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Jo(t){var e;return(e=(cO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function cO(t){return $1()?t instanceof Node||t instanceof Ci(t).Node:!1}function Gr(t){return $1()?t instanceof Element||t instanceof Ci(t).Element:!1}function Xo(t){return $1()?t instanceof HTMLElement||t instanceof Ci(t).HTMLElement:!1}function d5(t){return!$1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ci(t).ShadowRoot}function zf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=mo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function sQ(t){return["table","td","th"].includes(Cu(t))}function j1(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function wx(t){const e=_x(),n=Gr(t)?mo(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function aQ(t){let e=ya(t);for(;Xo(e)&&!tu(e);){if(wx(e))return e;if(j1(e))return null;e=ya(e)}return null}function _x(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tu(t){return["html","body","#document"].includes(Cu(t))}function mo(t){return Ci(t).getComputedStyle(t)}function K1(t){return Gr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ya(t){if(Cu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||d5(t)&&t.host||Jo(t);return d5(e)?e.host:e}function uO(t){const e=ya(t);return tu(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xo(e)&&zf(e)?e:uO(e)}function uf(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=uO(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Ci(i);if(o){const a=u2(s);return e.concat(s,s.visualViewport||[],zf(i)?i:[],a&&n?uf(a):[])}return e.concat(i,uf(i,[],n))}function u2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lQ(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const hl=Math.min,$r=Math.max,ff=Math.round,Kd=Math.floor,$o=t=>({x:t,y:t}),cQ={left:"right",right:"left",bottom:"top",top:"bottom"},uQ={start:"end",end:"start"};function h5(t,e,n){return $r(t,hl(e,n))}function Au(t,e){return typeof t=="function"?t(e):t}function ba(t){return t.split("-")[0]}function qf(t){return t.split("-")[1]}function fO(t){return t==="x"?"y":"x"}function dO(t){return t==="y"?"height":"width"}function pl(t){return["top","bottom"].includes(ba(t))?"y":"x"}function hO(t){return fO(pl(t))}function fQ(t,e,n){n===void 0&&(n=!1);const r=qf(t),i=hO(t),o=dO(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=dp(s)),[s,dp(s)]}function dQ(t){const e=dp(t);return[f2(t),e,f2(e)]}function f2(t){return t.replace(/start|end/g,e=>uQ[e])}function hQ(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function pQ(t,e,n,r){const i=qf(t);let o=hQ(ba(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(f2)))),o}function dp(t){return t.replace(/left|right|bottom|top/g,e=>cQ[e])}function gQ(t){return{top:0,right:0,bottom:0,left:0,...t}}function vQ(t){return typeof t!="number"?gQ(t):{top:t,right:t,bottom:t,left:t}}function hp(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function p5(t,e,n){let{reference:r,floating:i}=t;const o=pl(e),s=hO(e),a=dO(s),l=ba(e),c=o==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(qf(e)){case"start":p[s]-=d*(n&&c?-1:1);break;case"end":p[s]+=d*(n&&c?-1:1);break}return p}const mQ=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=p5(c,r,l),d=r,p={},h=0;for(let m=0;m<a.length;m++){const{name:w,fn:x}=a[m],{x:y,y:b,data:E,reset:O}=await x({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:t,floating:e}});u=y??u,f=b??f,p={...p,[w]:{...p[w],...E}},O&&h<=50&&(h++,typeof O=="object"&&(O.placement&&(d=O.placement),O.rects&&(c=O.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:u,y:f}=p5(c,d,l)),m=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:p}};async function W1(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=Au(e,t),h=vQ(p),w=a[d?f==="floating"?"reference":"floating":f],x=hp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),E=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},O=hp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(x.top-O.top+h.top)/E.y,bottom:(O.bottom-x.bottom+h.bottom)/E.y,left:(x.left-O.left+h.left)/E.x,right:(O.right-x.right+h.right)/E.x}}const yQ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...w}=Au(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=ba(i),y=pl(a),b=ba(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=d||(b||!m?[dp(a)]:dQ(a)),N=h!=="none";!d&&N&&O.push(...pQ(a,m,h,E));const R=[a,...O],L=await W1(e,w),W=[];let M=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&W.push(L[x]),f){const v=fQ(i,s,E);W.push(L[v[0]],L[v[1]])}if(M=[...M,{placement:i,overflows:W}],!W.every(v=>v<=0)){var F,$;const v=(((F=o.flip)==null?void 0:F.index)||0)+1,g=R[v];if(g)return{data:{index:v,overflows:M},reset:{placement:g}};let _=($=M.filter(T=>T.overflows[0]<=0).sort((T,D)=>T.overflows[1]-D.overflows[1])[0])==null?void 0:$.placement;if(!_)switch(p){case"bestFit":{var P;const T=(P=M.filter(D=>{if(N){const I=pl(D.placement);return I===y||I==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(I=>I>0).reduce((I,j)=>I+j,0)]).sort((D,I)=>D[1]-I[1])[0])==null?void 0:P[0];T&&(_=T);break}case"initialPlacement":_=a;break}if(i!==_)return{reset:{placement:_}}}return{}}}};async function bQ(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ba(n),a=qf(n),l=pl(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,f=Au(e,t);let{mainAxis:d,crossAxis:p,alignmentAxis:h}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof h=="number"&&(p=a==="end"?h*-1:h),l?{x:p*u,y:d*c}:{x:d*c,y:p*u}}const xQ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await bQ(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},wQ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:w=>{let{x,y}=w;return{x,y}}},...l}=Au(t,e),c={x:n,y:r},u=await W1(e,l),f=pl(ba(i)),d=fO(f);let p=c[d],h=c[f];if(o){const w=d==="y"?"top":"left",x=d==="y"?"bottom":"right",y=p+u[w],b=p-u[x];p=h5(y,p,b)}if(s){const w=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=h+u[w],b=h-u[x];h=h5(y,h,b)}const m=a.fn({...e,[d]:p,[f]:h});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[d]:o,[f]:s}}}}}},_Q=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=Au(t,e),u=await W1(e,c),f=ba(i),d=qf(i),p=pl(i)==="y",{width:h,height:m}=o.floating;let w,x;f==="top"||f==="bottom"?(w=f,x=d===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,w=d==="end"?"top":"bottom");const y=m-u.top-u.bottom,b=h-u.left-u.right,E=hl(m-u[w],y),O=hl(h-u[x],b),N=!e.middlewareData.shift;let R=E,L=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(L=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=y),N&&!d){const M=$r(u.left,0),F=$r(u.right,0),$=$r(u.top,0),P=$r(u.bottom,0);p?L=h-2*(M!==0||F!==0?M+F:$r(u.left,u.right)):R=m-2*($!==0||P!==0?$+P:$r(u.top,u.bottom))}await l({...e,availableWidth:L,availableHeight:R});const W=await s.getDimensions(a.floating);return h!==W.width||m!==W.height?{reset:{rects:!0}}:{}}}};function pO(t){const e=mo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Xo(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=ff(n)!==o||ff(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Ex(t){return Gr(t)?t:t.contextElement}function Mc(t){const e=Ex(t);if(!Xo(e))return $o(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=pO(e);let s=(o?ff(n.width):n.width)/r,a=(o?ff(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const EQ=$o(0);function gO(t){const e=Ci(t);return!_x()||!e.visualViewport?EQ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function CQ(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ci(t)?!1:e}function gl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Ex(t);let s=$o(1);e&&(r?Gr(r)&&(s=Mc(r)):s=Mc(t));const a=CQ(o,n,r)?gO(o):$o(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,f=i.height/s.y;if(o){const d=Ci(o),p=r&&Gr(r)?Ci(r):r;let h=d,m=u2(h);for(;m&&r&&p!==h;){const w=Mc(m),x=m.getBoundingClientRect(),y=mo(m),b=x.left+(m.clientLeft+parseFloat(y.paddingLeft))*w.x,E=x.top+(m.clientTop+parseFloat(y.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,f*=w.y,l+=b,c+=E,h=Ci(m),m=u2(h)}}return hp({width:u,height:f,x:l,y:c})}function Cx(t,e){const n=K1(t).scrollLeft;return e?e.left+n:gl(Jo(t)).left+n}function vO(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Cx(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function AQ(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Jo(r),a=e?j1(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=$o(1);const u=$o(0),f=Xo(r);if((f||!f&&!o)&&((Cu(r)!=="body"||zf(s))&&(l=K1(r)),Xo(r))){const p=gl(r);c=Mc(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const d=s&&!f&&!o?vO(s,l,!0):$o(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:n.y*c.y-l.scrollTop*c.y+u.y+d.y}}function SQ(t){return Array.from(t.getClientRects())}function OQ(t){const e=Jo(t),n=K1(t),r=t.ownerDocument.body,i=$r(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=$r(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Cx(t);const a=-n.scrollTop;return mo(r).direction==="rtl"&&(s+=$r(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function DQ(t,e){const n=Ci(t),r=Jo(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=_x();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function RQ(t,e){const n=gl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Xo(t)?Mc(t):$o(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function g5(t,e,n){let r;if(e==="viewport")r=DQ(t,n);else if(e==="document")r=OQ(Jo(t));else if(Gr(e))r=RQ(e,n);else{const i=gO(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return hp(r)}function mO(t,e){const n=ya(t);return n===e||!Gr(n)||tu(n)?!1:mo(n).position==="fixed"||mO(n,e)}function TQ(t,e){const n=e.get(t);if(n)return n;let r=uf(t,[],!1).filter(a=>Gr(a)&&Cu(a)!=="body"),i=null;const o=mo(t).position==="fixed";let s=o?ya(t):t;for(;Gr(s)&&!tu(s);){const a=mo(s),l=wx(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||zf(s)&&!l&&mO(t,s))?r=r.filter(u=>u!==s):i=a,s=ya(s)}return e.set(t,r),r}function NQ(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?j1(e)?[]:TQ(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const f=g5(e,u,i);return c.top=$r(f.top,c.top),c.right=hl(f.right,c.right),c.bottom=hl(f.bottom,c.bottom),c.left=$r(f.left,c.left),c},g5(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function PQ(t){const{width:e,height:n}=pO(t);return{width:e,height:n}}function kQ(t,e,n){const r=Xo(e),i=Jo(e),o=n==="fixed",s=gl(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=$o(0);if(r||!r&&!o)if((Cu(e)!=="body"||zf(i))&&(a=K1(e)),r){const d=gl(e,!0,o,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=Cx(i));const c=i&&!r&&!o?vO(i,a):$o(0),u=s.left+a.scrollLeft-l.x-c.x,f=s.top+a.scrollTop-l.y-c.y;return{x:u,y:f,width:s.width,height:s.height}}function am(t){return mo(t).position==="static"}function v5(t,e){if(!Xo(t)||mo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Jo(t)===n&&(n=n.ownerDocument.body),n}function yO(t,e){const n=Ci(t);if(j1(t))return n;if(!Xo(t)){let i=ya(t);for(;i&&!tu(i);){if(Gr(i)&&!am(i))return i;i=ya(i)}return n}let r=v5(t,e);for(;r&&sQ(r)&&am(r);)r=v5(r,e);return r&&tu(r)&&am(r)&&!wx(r)?n:r||aQ(t)||n}const IQ=async function(t){const e=this.getOffsetParent||yO,n=this.getDimensions,r=await n(t.floating);return{reference:kQ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function MQ(t){return mo(t).direction==="rtl"}const BQ={convertOffsetParentRelativeRectToViewportRelativeRect:AQ,getDocumentElement:Jo,getClippingRect:NQ,getOffsetParent:yO,getElementRects:IQ,getClientRects:SQ,getDimensions:PQ,getScale:Mc,isElement:Gr,isRTL:MQ};function FQ(t,e){let n=null,r;const i=Jo(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:f,height:d}=t.getBoundingClientRect();if(a||e(),!f||!d)return;const p=Kd(u),h=Kd(i.clientWidth-(c+f)),m=Kd(i.clientHeight-(u+d)),w=Kd(c),y={rootMargin:-p+"px "+-h+"px "+-m+"px "+-w+"px",threshold:$r(0,hl(1,l))||1};let b=!0;function E(O){const N=O[0].intersectionRatio;if(N!==l){if(!b)return s();N?s(!1,N):r=setTimeout(()=>{s(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(E,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,y)}n.observe(t)}return s(!0),o}function LQ(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Ex(t),u=i||o?[...c?uf(c):[],...uf(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=c&&a?FQ(c,n):null;let d=-1,p=null;s&&(p=new ResizeObserver(x=>{let[y]=x;y&&y.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let h,m=l?gl(t):null;l&&w();function w(){const x=gl(t);m&&(x.x!==m.x||x.y!==m.y||x.width!==m.width||x.height!==m.height)&&n(),m=x,h=requestAnimationFrame(w)}return n(),()=>{var x;u.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const lm=W1,UQ=xQ,$Q=wQ,jQ=yQ,KQ=_Q,WQ=(t,e,n)=>{const r=new Map,i={platform:BQ,...n},o={...i.platform,_c:r};return mQ(t,e,{...i,platform:o})};var uh=typeof document<"u"?ee.useLayoutEffect:ee.useEffect;function pp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!pp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!pp(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function bO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function m5(t,e){const n=bO(t);return Math.round(e*n)/n}function cm(t){const e=ee.useRef(t);return uh(()=>{e.current=t}),e}function HQ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=ee.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,p]=ee.useState(r);pp(d,r)||p(r);const[h,m]=ee.useState(null),[w,x]=ee.useState(null),y=ee.useCallback(D=>{D!==N.current&&(N.current=D,m(D))},[]),b=ee.useCallback(D=>{D!==R.current&&(R.current=D,x(D))},[]),E=o||h,O=s||w,N=ee.useRef(null),R=ee.useRef(null),L=ee.useRef(u),W=l!=null,M=cm(l),F=cm(i),$=cm(c),P=ee.useCallback(()=>{if(!N.current||!R.current)return;const D={placement:e,strategy:n,middleware:d};F.current&&(D.platform=F.current),WQ(N.current,R.current,D).then(I=>{const j={...I,isPositioned:$.current!==!1};v.current&&!pp(L.current,j)&&(L.current=j,fo.flushSync(()=>{f(j)}))})},[d,e,n,F,$]);uh(()=>{c===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[c]);const v=ee.useRef(!1);uh(()=>(v.current=!0,()=>{v.current=!1}),[]),uh(()=>{if(E&&(N.current=E),O&&(R.current=O),E&&O){if(M.current)return M.current(E,O,P);P()}},[E,O,P,M,W]);const g=ee.useMemo(()=>({reference:N,floating:R,setReference:y,setFloating:b}),[y,b]),_=ee.useMemo(()=>({reference:E,floating:O}),[E,O]),T=ee.useMemo(()=>{const D={position:n,left:0,top:0};if(!_.floating)return D;const I=m5(_.floating,u.x),j=m5(_.floating,u.y);return a?{...D,transform:"translate("+I+"px, "+j+"px)",...bO(_.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:j}},[n,a,_.floating,u.x,u.y]);return ee.useMemo(()=>({...u,update:P,refs:g,elements:_,floatingStyles:T}),[u,P,g,_,T])}const xO=(t,e)=>({...UQ(t),options:[t,e]}),XQ=(t,e)=>({...$Q(t),options:[t,e]}),zQ=(t,e)=>({...jQ(t),options:[t,e]}),qQ=(t,e)=>({...KQ(t),options:[t,e]}),wO={...fh},VQ=wO.useInsertionEffect,JQ=VQ||(t=>t());function _O(t){const e=ee.useRef(()=>{});return JQ(()=>{e.current=t}),ee.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var d2=typeof document<"u"?ee.useLayoutEffect:ee.useEffect;let y5=!1,GQ=0;const b5=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+GQ++;function QQ(){const[t,e]=ee.useState(()=>y5?b5():void 0);return d2(()=>{t==null&&e(b5())},[]),ee.useEffect(()=>{y5=!0},[]),t}const YQ=wO.useId,ZQ=YQ||QQ;function eY(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const tY=ee.createContext(null),nY=ee.createContext(null),rY=()=>{var t;return((t=ee.useContext(tY))==null?void 0:t.id)||null},iY=()=>ee.useContext(nY),oY="data-floating-ui-focusable";function sY(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=ZQ(),o=ee.useRef({}),[s]=ee.useState(()=>eY()),a=rY()!=null,[l,c]=ee.useState(r.reference),u=_O((p,h,m)=>{o.current.openEvent=p?h:void 0,s.emit("openchange",{open:p,event:h,reason:m,nested:a}),n==null||n(p,h,m)}),f=ee.useMemo(()=>({setPositionReference:c}),[]),d=ee.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return ee.useMemo(()=>({dataRef:o,open:e,onOpenChange:u,elements:d,events:s,floatingId:i,refs:f}),[e,u,d,s,i,f])}function aY(t){t===void 0&&(t={});const{nodeId:e}=t,n=sY({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[o,s]=ee.useState(null),[a,l]=ee.useState(null),u=(i==null?void 0:i.domReference)||o,f=ee.useRef(null),d=iY();d2(()=>{u&&(f.current=u)},[u]);const p=HQ({...t,elements:{...i,...a&&{reference:a}}}),h=ee.useCallback(b=>{const E=Gr(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;l(E),p.refs.setReference(E)},[p.refs]),m=ee.useCallback(b=>{(Gr(b)||b===null)&&(f.current=b,s(b)),(Gr(p.refs.reference.current)||p.refs.reference.current===null||b!==null&&!Gr(b))&&p.refs.setReference(b)},[p.refs]),w=ee.useMemo(()=>({...p.refs,setReference:m,setPositionReference:h,domReference:f}),[p.refs,m,h]),x=ee.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),y=ee.useMemo(()=>({...p,...r,refs:w,elements:x,nodeId:e}),[p,w,x,e,r]);return d2(()=>{r.dataRef.current.floatingContext=y;const b=d==null?void 0:d.nodesRef.current.find(E=>E.id===e);b&&(b.context=y)}),ee.useMemo(()=>({...p,context:y,refs:w,elements:x}),[p,w,x,y])}const x5="active",w5="selected";function um(t,e,n){const r=new Map,i=n==="item";let o=t;if(i&&t){const{[x5]:s,[w5]:a,...l}=t;o=l}return{...n==="floating"&&{tabIndex:-1,[oY]:""},...o,...e.map(s=>{const a=s?s[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(i&&[x5,w5].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var f;(f=r.get(c))==null||f.push(u),s[c]=function(){for(var d,p=arguments.length,h=new Array(p),m=0;m<p;m++)h[m]=arguments[m];return(d=r.get(c))==null?void 0:d.map(w=>w(...h)).find(w=>w!==void 0)}}}else s[c]=u}),s),{})}}function lY(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=ee.useCallback(a=>um(a,t,"reference"),e),o=ee.useCallback(a=>um(a,t,"floating"),n),s=ee.useCallback(a=>um(a,t,"item"),r);return ee.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}function _5(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const cY=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:o=0,index:s=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:c,...u}=Au(t,e),{rects:f,elements:{floating:d}}=e,p=n.current[s],h=(c==null?void 0:c.current)||d,m=d.clientTop||h.clientTop,w=d.clientTop!==0,x=h.clientTop!==0,y=d===h;if(!p)return{};const b={...e,...await xO(-p.offsetTop-d.clientTop-f.reference.height/2-p.offsetHeight/2-o).fn(e)},E=await lm(_5(b,h.scrollHeight+m+d.clientTop),u),O=await lm(b,{...u,elementContext:"reference"}),N=$r(0,E.top),R=b.y+N,M=(h.scrollHeight>h.clientHeight?F=>F:ff)($r(0,h.scrollHeight+(w&&y||x?m*2:0)-N-$r(0,E.bottom)));if(h.style.maxHeight=M+"px",h.scrollTop=N,i){const F=h.offsetHeight<p.offsetHeight*hl(a,n.current.length)-1||O.top>=-l||O.bottom>=-l;fo.flushSync(()=>i(F))}return r&&(r.current=await lm(_5({...b,y:R},h.offsetHeight+m+d.clientTop),u)),{y:R}}});function uY(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:o,scrollRef:s,onChange:a}=e,l=_O(a),c=ee.useRef(!1),u=ee.useRef(null),f=ee.useRef(null);ee.useEffect(()=>{if(!i)return;function p(m){if(m.ctrlKey||!h||o.current==null)return;const w=m.deltaY,x=o.current.top>=-.5,y=o.current.bottom>=-.5,b=h.scrollHeight-h.clientHeight,E=w<0?-1:1,O=w<0?"max":"min";h.scrollHeight<=h.clientHeight||(!x&&w>0||!y&&w<0?(m.preventDefault(),fo.flushSync(()=>{l(N=>N+Math[O](w,b*E))})):/firefox/i.test(lQ())&&(h.scrollTop+=w))}const h=(s==null?void 0:s.current)||r.floating;if(n&&h)return h.addEventListener("wheel",p),requestAnimationFrame(()=>{u.current=h.scrollTop,o.current!=null&&(f.current={...o.current})}),()=>{u.current=null,f.current=null,h.removeEventListener("wheel",p)}},[i,n,r.floating,o,s,l]);const d=ee.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const p=(s==null?void 0:s.current)||r.floating;if(!(!o.current||!p||!c.current)){if(u.current!==null){const h=p.scrollTop-u.current;(o.current.bottom<-.5&&h<-1||o.current.top<-.5&&h>1)&&fo.flushSync(()=>l(m=>m+h))}requestAnimationFrame(()=>{u.current=p.scrollTop})}}}),[r.floating,l,o,s]);return ee.useMemo(()=>i?{floating:d}:{},[i,d])}let Su=ee.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Su.displayName="FloatingContext";let Ax=ee.createContext(null);Ax.displayName="PlacementContext";function fY(t){return ee.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function dY(){return ee.useContext(Su).setReference}function hY(){return ee.useContext(Su).getReferenceProps}function pY(){let{getFloatingProps:t,slot:e}=ee.useContext(Su);return ee.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function gY(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=ee.useContext(Ax),n=ee.useMemo(()=>t,[JSON.stringify(t,(i,o)=>{var s;return(s=o==null?void 0:o.outerHTML)!=null?s:o})]);ir(()=>{e==null||e(n??null)},[e,n]);let r=ee.useContext(Su);return ee.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let E5=4;function vY({children:t,enabled:e=!0}){let[n,r]=ee.useState(null),[i,o]=ee.useState(0),s=ee.useRef(null),[a,l]=ee.useState(null);mY(a);let c=e&&n!==null&&a!==null,{to:u="bottom",gap:f=0,offset:d=0,padding:p=0,inner:h}=yY(n,a),[m,w="center"]=u.split(" ");ir(()=>{c&&o(0)},[c]);let{refs:x,floatingStyles:y,context:b}=aY({open:c,placement:m==="selection"?w==="center"?"bottom":`bottom-${w}`:w==="center"?`${m}`:`${m}-${w}`,strategy:"absolute",transform:!1,middleware:[xO({mainAxis:m==="selection"?0:f,crossAxis:d}),XQ({padding:p}),m!=="selection"&&zQ({padding:p}),m==="selection"&&h?cY({...h,padding:p,overflowRef:s,offset:i,minItemsVisible:E5,referenceOverflowThreshold:p,onFallbackChange(F){var $,P;if(!F)return;let v=b.elements.floating;if(!v)return;let g=parseFloat(getComputedStyle(v).scrollPaddingBottom)||0,_=Math.min(E5,v.childElementCount),T=0,D=0;for(let I of(P=($=b.elements.floating)==null?void 0:$.childNodes)!=null?P:[])if(I instanceof HTMLElement){let j=I.offsetTop,B=j+I.clientHeight+g,C=v.scrollTop,H=C+v.clientHeight;if(j>=C&&B<=H)_--;else{D=Math.max(0,Math.min(B,H)-Math.max(j,C)),T=I.clientHeight;break}}_>=1&&o(I=>{let j=T*_-D+g;return I>=j?I:j})}}):null,qQ({padding:p,apply({availableWidth:F,availableHeight:$,elements:P}){Object.assign(P.floating.style,{overflow:"auto",maxWidth:`${F}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${$}px)`})}})].filter(Boolean),whileElementsMounted:LQ}),[E=m,O=w]=b.placement.split("-");m==="selection"&&(E="selection");let N=ee.useMemo(()=>({anchor:[E,O].filter(Boolean).join(" ")}),[E,O]),R=uY(b,{overflowRef:s,onChange:o}),{getReferenceProps:L,getFloatingProps:W}=lY([R]),M=Nn(F=>{l(F),x.setFloating(F)});return ee.createElement(Ax.Provider,{value:r},ee.createElement(Su.Provider,{value:{setFloating:M,setReference:x.setReference,styles:y,getReferenceProps:L,getFloatingProps:W,slot:N}},t))}function mY(t){ir(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function yY(t,e){var n,r,i;let o=fm((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),s=fm((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),a=fm((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:o,offset:s,padding:a}}function fm(t,e,n=void 0){let r=L1(),i=Nn((l,c)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[n,null];let u=C5(l,c);return[u,f=>{let d=EO(l);{let p=d.map(h=>window.getComputedStyle(c).getPropertyValue(h));r.requestAnimationFrame(function h(){r.nextFrame(h);let m=!1;for(let[x,y]of d.entries()){let b=window.getComputedStyle(c).getPropertyValue(y);if(p[x]!==b){p[x]=b,m=!0;break}}if(!m)return;let w=C5(l,c);u!==w&&(f(w),u=w)})}return r.dispose}]}return[n,null]}),o=ee.useMemo(()=>i(t,e)[0],[t,e]),[s=o,a]=ee.useState();return ir(()=>{let[l,c]=i(t,e);if(a(l),!!c)return c(a)},[t,e]),s}function EO(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...EO(i)]:[r]}return[]}function C5(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}let Sx=ee.createContext(null);Sx.displayName="OpenClosedContext";var df=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(df||{});function bY(){return ee.useContext(Sx)}function xY({value:t,children:e}){return on.createElement(Sx.Provider,{value:t},e)}function wY(t){throw new Error("Unexpected object: "+t)}var jr=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(jr||{});function dm(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let o=0;o<n.length;++o)if(!e.resolveDisabled(n[o],o,n))return o;return r}case 1:{i===-1&&(i=n.length);for(let o=i-1;o>=0;--o)if(!e.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=i+1;o<n.length;++o)if(!e.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!e.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(e.resolveId(n[o],o,n)===t.id)return o;return r}case 5:return null;default:wY(t)}}function _Y(t){let e=Nn(t),n=ee.useRef(!1);ee.useEffect(()=>(n.current=!1,()=>{n.current=!0,GS(()=>{n.current&&e()})}),[e])}function EY(){let t=typeof document>"u";return"useSyncExternalStore"in fh?(e=>e.useSyncExternalStore)(fh)(()=>()=>{},()=>!1,()=>!t):!1}function CY(){let t=EY(),[e,n]=ee.useState(tl.isHandoffComplete);return e&&tl.isHandoffComplete===!1&&n(!1),ee.useEffect(()=>{e!==!0&&n(!0)},[e]),ee.useEffect(()=>tl.handoff(),[]),t?!1:e}let AY=ee.createContext(!1);function SY(){return ee.useContext(AY)}function OY(t){let e=SY(),n=ee.useContext(AO),r=xx(t),[i,o]=ee.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(tl.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return ee.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),ee.useEffect(()=>{e||n!==null&&o(n.current)},[n,o,e]),i}let CO=ee.Fragment,DY=Ji(function(t,e){let n=t,r=ee.useRef(null),i=Bs(pG(f=>{r.current=f}),e),o=xx(r),s=OY(r),[a]=ee.useState(()=>{var f;return tl.isServer?null:(f=o==null?void 0:o.createElement("div"))!=null?f:null}),l=ee.useContext(PY),c=CY();ir(()=>{!s||!a||s.contains(a)||(a.setAttribute("data-headlessui-portal",""),s.appendChild(a))},[s,a]),ir(()=>{if(a&&l)return l.register(a)},[l,a]),_Y(()=>{var f;!s||!a||(a instanceof Node&&s.contains(a)&&s.removeChild(a),s.childNodes.length<=0&&((f=s.parentElement)==null||f.removeChild(s)))});let u=Vi();return c?!s||!a?null:fo.createPortal(u({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:CO,name:"Portal"}),a):null});function RY(t,e){let n=Bs(e),{enabled:r=!0,...i}=t,o=Vi();return r?on.createElement(DY,{...i,ref:n}):o({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:CO,name:"Portal"})}let TY=ee.Fragment,AO=ee.createContext(null);function NY(t,e){let{target:n,...r}=t,i={ref:Bs(e)},o=Vi();return on.createElement(AO.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:TY,name:"Popover.Group"}))}let PY=ee.createContext(null),kY=Ji(RY),IY=Ji(NY),MY=Object.assign(kY,{Group:IY});function BY(t,e){let n=ee.useRef({left:0,top:0});if(ir(()=>{if(!e)return;let i=e.getBoundingClientRect();i&&(n.current=i)},[t,e]),e==null||!t||e===document.activeElement)return!1;let r=e.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let A5=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function S5(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let o=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),o=!0;let s=o?(n=i.innerText)!=null?n:"":r;return A5.test(s)&&(s=s.replace(A5,"")),s}function FY(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let o=document.getElementById(i);if(o){let s=o.getAttribute("aria-label");return typeof s=="string"?s.trim():S5(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return S5(t).trim()}function LY(t){let e=ee.useRef(""),n=ee.useRef("");return Nn(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let o=FY(r).trim().toLowerCase();return e.current=i,n.current=o,o})}var UY=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(UY||{}),$Y=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))($Y||{}),jY=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t))(jY||{});function hm(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=aO(e(t.items.slice()),o=>o.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let KY={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var n,r,i,o,s;if(t.menuState===1)return t;let a={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===jr.Nothing)return{...a,activeItemIndex:null};if(e.focus===jr.Specific)return{...a,activeItemIndex:t.items.findIndex(u=>u.id===e.id)};if(e.focus===jr.Previous){let u=t.activeItemIndex;if(u!==null){let f=t.items[u].dataRef.current.domRef,d=dm(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(d!==null){let p=t.items[d].dataRef.current.domRef;if(((r=f.current)==null?void 0:r.previousElementSibling)===p.current||((i=p.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:d}}}}else if(e.focus===jr.Next){let u=t.activeItemIndex;if(u!==null){let f=t.items[u].dataRef.current.domRef,d=dm(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(d!==null){let p=t.items[d].dataRef.current.domRef;if(((o=f.current)==null?void 0:o.nextElementSibling)===p.current||((s=p.current)==null?void 0:s.nextElementSibling)===null)return{...a,activeItemIndex:d}}}}let l=hm(t),c=dm(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...a,...l,activeItemIndex:c}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(s=>{var a;return((a=s.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!s.dataRef.current.disabled}),o=i?t.items.indexOf(i):-1;return o===-1||o===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=hm(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},6:(t,e)=>{let n=hm(t,r=>{let i=r.findIndex(o=>o.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element}},Ox=ee.createContext(null);Ox.displayName="MenuContext";function H1(t){let e=ee.useContext(Ox);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,H1),n}return e}function WY(t,e){return Xf(e.type,KY,t,e)}let HY=ee.Fragment;function XY(t,e){let{__demoMode:n=!1,...r}=t,i=ee.useReducer(WY,{__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsElement:s,buttonElement:a},l]=i,c=Bs(e);KG(o===0,[a,s],(h,m)=>{l({type:1}),bx(m,yx.Loose)||(h.preventDefault(),a==null||a.focus())});let u=Nn(()=>{l({type:1})}),f=ee.useMemo(()=>({open:o===0,close:u}),[o,u]),d={ref:c},p=Vi();return on.createElement(vY,null,on.createElement(Ox.Provider,{value:i},on.createElement(xY,{value:Xf(o,{0:df.Open,1:df.Closed})},p({ourProps:d,theirProps:r,slot:f,defaultTag:HY,name:"Menu"}))))}let zY="button";function qY(t,e){var n;let r=ee.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:o=!1,autoFocus:s=!1,...a}=t,[l,c]=H1("Menu.Button"),u=hY(),f=Bs(e,dY(),Nn(R=>c({type:7,element:R}))),d=Nn(R=>{switch(R.key){case Sr.Space:case Sr.Enter:case Sr.ArrowDown:R.preventDefault(),R.stopPropagation(),fo.flushSync(()=>c({type:0})),c({type:2,focus:jr.First});break;case Sr.ArrowUp:R.preventDefault(),R.stopPropagation(),fo.flushSync(()=>c({type:0})),c({type:2,focus:jr.Last});break}}),p=Nn(R=>{switch(R.key){case Sr.Space:R.preventDefault();break}}),h=Nn(R=>{var L;if(dG(R.currentTarget))return R.preventDefault();o||(l.menuState===0?(fo.flushSync(()=>c({type:1})),(L=l.buttonElement)==null||L.focus({preventScroll:!0})):(R.preventDefault(),c({type:0})))}),{isFocusVisible:m,focusProps:w}=QJ({autoFocus:s}),{isHovered:x,hoverProps:y}=GJ({isDisabled:o}),{pressed:b,pressProps:E}=rG({disabled:o}),O=ee.useMemo(()=>({open:l.menuState===0,active:b||l.menuState===0,disabled:o,hover:x,focus:m,autofocus:s}),[l,x,m,b,o,s]),N=ZS(u(),{ref:f,id:i,type:WG(t,l.buttonElement),"aria-haspopup":"menu","aria-controls":(n=l.itemsElement)==null?void 0:n.id,"aria-expanded":l.menuState===0,disabled:o||void 0,autoFocus:s,onKeyDown:d,onKeyUp:p,onClick:h},w,y,E);return Vi()({ourProps:N,theirProps:a,slot:O,defaultTag:zY,name:"Menu.Button"})}let VY="div",JY=s2.RenderStrategy|s2.Static;function GY(t,e){var n,r;let i=ee.useId(),{id:o=`headlessui-menu-items-${i}`,anchor:s,portal:a=!1,modal:l=!0,transition:c=!1,...u}=t,f=fY(s),[d,p]=H1("Menu.Items"),[h,m]=gY(f),w=pY(),[x,y]=ee.useState(null),b=Bs(e,f?h:null,Nn(D=>p({type:8,element:D})),y),E=xx(d.itemsElement);f&&(a=!0);let O=bY(),[N,R]=tQ(c,x,O!==null?(O&df.Open)===df.Open:d.menuState===0);DG(N,d.buttonElement,()=>{p({type:1})});let L=d.__demoMode?!1:l&&d.menuState===0;JG(L,E);let W=d.__demoMode?!1:l&&d.menuState===0;OG(W,{allowed:ee.useCallback(()=>[d.buttonElement,d.itemsElement],[d.buttonElement,d.itemsElement])});let M=d.menuState!==0,F=BY(M,d.buttonElement)?!1:N;ee.useEffect(()=>{let D=d.itemsElement;D&&d.menuState===0&&D!==(E==null?void 0:E.activeElement)&&D.focus({preventScroll:!0})},[d.menuState,d.itemsElement,E]),oQ(d.menuState===0,{container:d.itemsElement,accept(D){return D.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:D.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(D){D.setAttribute("role","none")}});let $=L1(),P=Nn(D=>{var I,j,B;switch($.dispose(),D.key){case Sr.Space:if(d.searchQuery!=="")return D.preventDefault(),D.stopPropagation(),p({type:3,value:D.key});case Sr.Enter:if(D.preventDefault(),D.stopPropagation(),p({type:1}),d.activeItemIndex!==null){let{dataRef:C}=d.items[d.activeItemIndex];(j=(I=C.current)==null?void 0:I.domRef.current)==null||j.click()}sO(d.buttonElement);break;case Sr.ArrowDown:return D.preventDefault(),D.stopPropagation(),p({type:2,focus:jr.Next});case Sr.ArrowUp:return D.preventDefault(),D.stopPropagation(),p({type:2,focus:jr.Previous});case Sr.Home:case Sr.PageUp:return D.preventDefault(),D.stopPropagation(),p({type:2,focus:jr.First});case Sr.End:case Sr.PageDown:return D.preventDefault(),D.stopPropagation(),p({type:2,focus:jr.Last});case Sr.Escape:D.preventDefault(),D.stopPropagation(),fo.flushSync(()=>p({type:1})),(B=d.buttonElement)==null||B.focus({preventScroll:!0});break;case Sr.Tab:D.preventDefault(),D.stopPropagation(),fo.flushSync(()=>p({type:1})),FG(d.buttonElement,D.shiftKey?c2.Previous:c2.Next);break;default:D.key.length===1&&(p({type:3,value:D.key}),$.setTimeout(()=>p({type:4}),350));break}}),v=Nn(D=>{switch(D.key){case Sr.Space:D.preventDefault();break}}),g=ee.useMemo(()=>({open:d.menuState===0}),[d.menuState]),_=ZS(f?w():{},{"aria-activedescendant":d.activeItemIndex===null||(n=d.items[d.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=d.buttonElement)==null?void 0:r.id,id:o,onKeyDown:P,onKeyUp:v,role:"menu",tabIndex:d.menuState===0?0:void 0,ref:b,style:{...u.style,...m,"--button-width":CG(d.buttonElement,!0).width},...eQ(R)}),T=Vi();return on.createElement(MY,{enabled:a?t.static||N:!1},T({ourProps:_,theirProps:u,slot:g,defaultTag:VY,features:JY,visible:F,name:"Menu.Items"}))}let QY=ee.Fragment;function YY(t,e){let n=ee.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...o}=t,[s,a]=H1("Menu.Item"),l=s.activeItemIndex!==null?s.items[s.activeItemIndex].id===r:!1,c=ee.useRef(null),u=Bs(e,c);ir(()=>{if(!s.__demoMode&&s.menuState===0&&l&&s.activationTrigger!==0)return Vo().requestAnimationFrame(()=>{var F,$;($=(F=c.current)==null?void 0:F.scrollIntoView)==null||$.call(F,{block:"nearest"})})},[s.__demoMode,c,l,s.menuState,s.activationTrigger,s.activeItemIndex]);let f=LY(c),d=ee.useRef({disabled:i,domRef:c,get textValue(){return f()}});ir(()=>{d.current.disabled=i},[d,i]),ir(()=>(a({type:5,id:r,dataRef:d}),()=>a({type:6,id:r})),[d,r]);let p=Nn(()=>{a({type:1})}),h=Nn(F=>{if(i)return F.preventDefault();a({type:1}),sO(s.buttonElement)}),m=Nn(()=>{if(i)return a({type:2,focus:jr.Nothing});a({type:2,focus:jr.Specific,id:r})}),w=GG(),x=Nn(F=>{w.update(F),!i&&(l||a({type:2,focus:jr.Specific,id:r,trigger:0}))}),y=Nn(F=>{w.wasMoved(F)&&(i||l||a({type:2,focus:jr.Specific,id:r,trigger:0}))}),b=Nn(F=>{w.wasMoved(F)&&(i||l&&a({type:2,focus:jr.Nothing}))}),[E,O]=nO(),[N,R]=gG(),L=ee.useMemo(()=>({active:l,focus:l,disabled:i,close:p}),[l,i,p]),W={id:r,ref:u,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":E,"aria-describedby":N,disabled:void 0,onClick:h,onFocus:m,onPointerEnter:x,onMouseEnter:x,onPointerMove:y,onMouseMove:y,onPointerLeave:b,onMouseLeave:b},M=Vi();return on.createElement(O,null,on.createElement(R,null,M({ourProps:W,theirProps:o,slot:L,defaultTag:QY,name:"Menu.Item"})))}let ZY="div";function eZ(t,e){let[n,r]=nO(),i=t,o={ref:e,"aria-labelledby":n,role:"group"},s=Vi();return on.createElement(r,null,s({ourProps:o,theirProps:i,slot:{},defaultTag:ZY,name:"Menu.Section"}))}let tZ="header";function nZ(t,e){let n=ee.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=t,o=vx();ir(()=>o.register(r),[r,o.register]);let s={id:r,ref:e,role:"presentation",...o.props};return Vi()({ourProps:s,theirProps:i,slot:{},defaultTag:tZ,name:"Menu.Heading"})}let rZ="div";function iZ(t,e){let n=t,r={ref:e,role:"separator"};return Vi()({ourProps:r,theirProps:n,slot:{},defaultTag:rZ,name:"Menu.Separator"})}let oZ=Ji(XY),sZ=Ji(qY),aZ=Ji(GY),lZ=Ji(YY),cZ=Ji(eZ),uZ=Ji(nZ),fZ=Ji(iZ),nc=Object.assign(oZ,{Button:sZ,Items:aZ,Item:lZ,Section:cZ,Heading:uZ,Separator:fZ});function dZ({title:t,titleId:e,...n},r){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?ee.createElement("title",{id:e},t):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const hZ=ee.forwardRef(dZ);function pZ({title:t,titleId:e,...n},r){return ee.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?ee.createElement("title",{id:e},t):null,ee.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const gZ=ee.forwardRef(pZ),vZ=()=>{const{telegramUser:t,telegramLogIn:e,telegramLogOut:n}=Rl();return oe.jsx("div",{children:t?oe.jsxs("div",{className:"flex items-center space-x-2",children:[oe.jsx("span",{className:"text-sm text-gray-600",children:t.first_name}),oe.jsx("button",{onClick:n,className:"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Disconnect"})]}):oe.jsx("button",{onClick:e,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Connect Telegram"})})},mZ=()=>{const{connected:t,walletAddress:e,logIn:n,logOut:r,signer:i}=Rl(),[o,s]=ee.useState("0");ee.useState(!1),ee.useEffect(()=>{(async()=>{if(i&&e)try{const c=await i.getBalance();s(ax(c))}catch(c){console.error("Error fetching balance:",c),s("0")}})()},[i,e]);const a=l=>l?`${l.slice(0,6)}...${l.slice(-4)}`:"";return oe.jsx("nav",{className:"bg-white shadow-sm",children:oe.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:oe.jsxs("div",{className:"flex justify-between h-16",children:[oe.jsxs("div",{className:"flex",children:[oe.jsx("div",{className:"flex-shrink-0 flex items-center",children:oe.jsx(oi,{to:"/",className:"text-xl font-bold text-emerald-600",children:"Donate On Flow"})}),oe.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[oe.jsx(oi,{to:"/",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900",children:"Projects"}),oe.jsx(oi,{to:"/create-project",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-500 hover:text-gray-900",children:"Create Project"}),t&&oe.jsx(oi,{to:"/dashboard",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-500 hover:text-gray-900",children:"Dashboard"})]})]}),oe.jsxs("div",{className:"flex items-center space-x-4",children:[oe.jsx(vZ,{}),t?oe.jsxs(nc,{as:"div",className:"relative ml-3",children:[oe.jsxs(nc.Button,{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 rounded-lg border border-gray-300",children:[oe.jsx(gZ,{className:"h-5 w-5 text-gray-500"}),oe.jsx("span",{className:"text-sm text-gray-600",children:oe.jsxs("span",{className:"font-medium",children:[parseFloat(o).toFixed(4)," FLOW"]})}),oe.jsx("span",{children:a(e)}),oe.jsx(hZ,{className:"h-4 w-4 text-gray-500"})]}),oe.jsxs(nc.Items,{className:"absolute right-0 mt-2 w-56 origin-top-right bg-white border border-gray-200 divide-y divide-gray-100 rounded-md shadow-lg focus:outline-none",children:[oe.jsxs("div",{className:"px-4 py-3",children:[oe.jsx("p",{className:"text-sm text-gray-900",children:"Connected Wallet"}),oe.jsx("p",{className:"text-sm font-medium text-gray-500 truncate",children:e})]}),oe.jsxs("div",{className:"py-1",children:[oe.jsx(nc.Item,{children:({active:l})=>oe.jsx(oi,{to:"/dashboard",className:`${l?"bg-gray-100":""} block px-4 py-2 text-sm text-gray-700`,children:"Dashboard"})}),oe.jsx(nc.Item,{children:({active:l})=>oe.jsx(oi,{to:"/create-project",className:`${l?"bg-gray-100":""} block px-4 py-2 text-sm text-gray-700`,children:"Create Project"})}),oe.jsx(nc.Item,{children:({active:l})=>oe.jsx("button",{onClick:r,className:`${l?"bg-gray-100":""} block w-full text-left px-4 py-2 text-sm text-red-600`,children:"Disconnect"})})]})]})]}):oe.jsx("button",{onClick:n,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500",children:"Connect Wallet"})]})]})})})},yZ=()=>{const{user:t,connected:e,walletAddress:n}=Rl(),r=cb(),[i,o]=on.useState([]),[s,a]=on.useState([]),[l,c]=on.useState(!0),[u,f]=on.useState("projects");on.useEffect(()=>{if(console.log("UserDashboard: Current user:",t),!e){console.log("UserDashboard: Not connected, redirecting to home"),r("/");return}(async()=>{c(!0);try{if(n){const[h,m]=await Promise.all([r5(n),DJ(n)]);o(h),a(m)}}catch(h){console.error("Error fetching user data:",h)}finally{c(!1)}})()},[e,n,r]);const d=async(p,h)=>{try{await OJ(p,h);const m=await r5(n);o(m)}catch(m){console.error("Error updating project:",m),alert("Failed to update project status")}};return l?oe.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:oe.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):oe.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[oe.jsxs("div",{className:"flex justify-between items-center mb-8",children:[oe.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Dashboard"}),oe.jsx(oi,{to:"/create-project",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Create New Project"})]}),oe.jsx("div",{className:"border-b border-gray-200 mb-8",children:oe.jsxs("nav",{className:"-mb-px flex space-x-8",children:[oe.jsxs("button",{onClick:()=>f("projects"),className:`
              pb-4 px-1 border-b-2 font-medium text-sm
              ${u==="projects"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
            `,children:["My Projects (",i.length,")"]}),oe.jsxs("button",{onClick:()=>f("donations"),className:`
              pb-4 px-1 border-b-2 font-medium text-sm
              ${u==="donations"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
            `,children:["My Donations (",s.length,")"]})]})}),u==="projects"?oe.jsx("div",{className:"space-y-6",children:i.length===0?oe.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[oe.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Projects Yet"}),oe.jsx("p",{className:"text-gray-500 mb-4",children:"Start creating your first charity project to make a difference."}),oe.jsx(oi,{to:"/create-project",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Create Project"})]}):oe.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:i.map(p=>oe.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:oe.jsxs("div",{className:"p-5",children:[oe.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[oe.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p.status==="ACTIVE"?"bg-green-100 text-green-800":p.status==="COMPLETED"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:p.status}),oe.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:p.category})]}),oe.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:oe.jsx(oi,{to:`/project/${p.id}`,className:"hover:text-blue-600",children:p.title})}),oe.jsxs("div",{className:"mb-4",children:[oe.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[oe.jsx("span",{children:"Progress"}),oe.jsxs("span",{children:[p.current_amount," / ",p.target_amount," FUSD"]})]}),oe.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:oe.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${p.current_amount/p.target_amount*100}%`}})})]}),p.status==="ACTIVE"&&oe.jsxs("div",{className:"mt-4 flex gap-2",children:[oe.jsx("button",{onClick:()=>d(p.id,"COMPLETED"),className:"flex-1 inline-flex justify-center items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:"Complete"}),oe.jsx("button",{onClick:()=>d(p.id,"CANCELLED"),className:"flex-1 inline-flex justify-center items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"})]})]})},p.id))})}):oe.jsx("div",{className:"space-y-6",children:s.length===0?oe.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[oe.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Donations Yet"}),oe.jsx("p",{className:"text-gray-500 mb-4",children:"Start supporting projects to make a difference."}),oe.jsx(oi,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Browse Projects"})]}):oe.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:s.map(p=>oe.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:oe.jsxs("div",{className:"p-5",children:[oe.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[oe.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p.project.status==="ACTIVE"?"bg-green-100 text-green-800":p.project.status==="COMPLETED"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:p.project.status}),oe.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:p.project.category})]}),oe.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:oe.jsx(oi,{to:`/project/${p.project.id}`,className:"hover:text-blue-600",children:p.project.title})}),oe.jsxs("div",{className:"text-sm text-gray-500",children:[oe.jsxs("p",{children:["Amount: ",p.amount," FUSD"]}),oe.jsxs("p",{children:["Date: ",new Date(p.created_at).toLocaleDateString()]})]}),oe.jsx("div",{className:"mt-4",children:oe.jsx("a",{href:`https://testnet.flowscan.org/transaction/${p.transaction_id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm",children:"View Transaction"})})]})},p.id))})})]})};function bZ(){return oe.jsx(dq,{children:oe.jsx(ZD,{children:oe.jsxs("div",{className:"min-h-screen bg-gray-50",children:[oe.jsx(mZ,{}),oe.jsx("main",{className:"container mx-auto px-4 py-8",children:oe.jsxs(zD,{children:[oe.jsx(Zu,{path:"/",element:oe.jsx(TJ,{})}),oe.jsx(Zu,{path:"/create-project",element:oe.jsx(NJ,{})}),oe.jsx(Zu,{path:"/project/:id",element:oe.jsx(kJ,{})}),oe.jsx(Zu,{path:"/dashboard",element:oe.jsx(yZ,{})})]})})]})})})}UE(document.getElementById("root")).render(oe.jsx(ee.StrictMode,{children:oe.jsx(bZ,{})}));export{xa as g};
